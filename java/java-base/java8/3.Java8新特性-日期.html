<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo/logo-0.2.5.1.png" type="image/png" sizes="16x16"><meta name="referrer" content="no-referrer"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,maximum-scale=2"><title>Java8新特性-日期API | chggx Konwledge</title><meta name="description" content="晨光向的知识库">
    <link rel="modulepreload" href="/chggx-knowlodge-vuepress/assets/app.099ebd34.js"><link rel="modulepreload" href="/chggx-knowlodge-vuepress/assets/3.Java8新特性-日期.html.30ca8164.js"><link rel="modulepreload" href="/chggx-knowlodge-vuepress/assets/3.Java8新特性-日期.html.b8efb717.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.7965f4da.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.2f2f1f94.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.ae2ce70a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.ac2b8553.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.e14c572b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.f78e20f6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.aa654337.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/时序数据库-influxdb1.x 快速入门.html.79d75c4c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/时序数据库-influxdb2.x 快速入门.html.0f3fe687.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/ElasticSearch7.6.1快速入门.html.4e5590bc.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Redis入门.html.72bd8315.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Redis数据类型.html.1dca25a7.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Redis事务.html.d6541a87.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.Redis实现乐观锁.html.0fccfc6b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.Redis-Jedis.html.e0339753.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.SpringBoot整合.html.4f6d0361.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.Redis的配置文件详解.html.3f71e5f7.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/Redis面试必备.html.565f37a4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SpringBoot基础.html.addd68ab.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.SpringBoot整合RabbitMQ.html.2130697f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SpringCloud.H基础.html.579c7733.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.SpringCloud Alibaba介绍.html.4df72d19.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/0.Java设计模式-内容介绍.html.4c64431b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Java设计模式-设计模式七大原则.html.f7724ac0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Java设计模式-UML类图.html.dd535d53.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Java设计模式-设计模式概述.html.578ab5c8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.Java设计模式-单例模式.html.8e694f61.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.Java设计模式-工厂模式.html.f2d2a3e8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.Java设计模式-原型模式.html.96389af1.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.Java设计模式-建造者模式.html.6c1164f4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/0.反射_注解.html.915ba1a7.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Spring基础.html.09d5c115.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.JVM-JVM与Java体系结构.html.20b97bab.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/10.JVM-对象的实例化内存布局与访问定位.html.e0452d45.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/12.JVM-执行引擎.html.09a5fcdb.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/13.JVM-StringTable.html.9c6fa66b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/14.JVM-垃圾回收概述.html.f24da324.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/15.JVM-垃圾回收相关算法.html.6c1eee28.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/16.JVM-垃圾回收相关概念.html.555ad5c8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.JVM-类加载子系统.html.d23d9307.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.JVM-运行时数据区概述及线程.html.73115a90.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.JVM-程序计数器(PC寄存器).html.eaa43a7a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.JVM-虚拟机栈.html.4a5da7d1.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.JVM-本地方法接口.html.6202cb8b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.JVM-本地方法栈.html.fbe12cb8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/8.JVM-堆.html.2a6f83f4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/9.JVM-方法区.html.6b2c2b0c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Java8新特性-Stream流.html.eec6de9c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SVN基础.html.68038d62.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Git常用命令.html.44d60505.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.18b0ea6d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.ee108be9.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.0bf44c21.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.fdfeec7c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.f615de6f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.656af16d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.e6fe2efc.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/时序数据库-influxdb1.x 快速入门.html.2aa4ca42.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/时序数据库-influxdb2.x 快速入门.html.2064eebc.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/ElasticSearch7.6.1快速入门.html.98f907c0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Redis入门.html.a0317cb6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Redis数据类型.html.f9096454.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Redis事务.html.a99f54a2.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.Redis实现乐观锁.html.fbfdb9f3.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.Redis-Jedis.html.75dfaa97.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.SpringBoot整合.html.b6c0ae73.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.Redis的配置文件详解.html.ed363f3e.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/Redis面试必备.html.cffad8a6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SpringBoot基础.html.e574f8aa.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.SpringBoot整合RabbitMQ.html.3234b0ce.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SpringCloud.H基础.html.16addf58.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.SpringCloud Alibaba介绍.html.954edee6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/0.Java设计模式-内容介绍.html.d767132a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Java设计模式-设计模式七大原则.html.b750374f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Java设计模式-UML类图.html.62fef168.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Java设计模式-设计模式概述.html.80544a2f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.Java设计模式-单例模式.html.1b36b209.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.Java设计模式-工厂模式.html.d9a560e8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.Java设计模式-原型模式.html.c16662fa.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.Java设计模式-建造者模式.html.4ffa1cf2.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/0.反射_注解.html.8c8a5821.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Spring基础.html.8e907486.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.JVM-JVM与Java体系结构.html.def8831c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/10.JVM-对象的实例化内存布局与访问定位.html.c1bc7c3f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/12.JVM-执行引擎.html.a86974db.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/13.JVM-StringTable.html.592c3824.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/14.JVM-垃圾回收概述.html.c3c69a48.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/15.JVM-垃圾回收相关算法.html.8a87682e.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/16.JVM-垃圾回收相关概念.html.97355adf.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.JVM-类加载子系统.html.c51da7a2.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.JVM-运行时数据区概述及线程.html.e550b9a4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.JVM-程序计数器(PC寄存器).html.5f49930d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.JVM-虚拟机栈.html.fe4052e4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.JVM-本地方法接口.html.2ca30aed.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.JVM-本地方法栈.html.ff1e6b43.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/8.JVM-堆.html.c6130241.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/9.JVM-方法区.html.60bc82f0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Java8新特性-Stream流.html.b14b4cf6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SVN基础.html.d1d6cb97.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Git常用命令.html.1a2dc50b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/404.html.3e165de1.js">
    <link rel="stylesheet" href="/chggx-knowlodge-vuepress/assets/style.19ddbf83.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/chggx-knowlodge-vuepress/" class=""><img class="logo" src="/chggx-knowlodge-vuepress/logo/logo-1.5.2.png" alt="chggx Konwledge"><span class="site-name can-hide">chggx Konwledge</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/chggx-knowlodge-vuepress/" class="" aria-label="  首页  "><!--[--><!--]-->   首页   <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  JAVA  "><span class="title">  JAVA  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  JAVA  "><span class="title">  JAVA  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/java-base/" class="router-link-active" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/java-advence/" class="" aria-label="Java进阶"><!--[--><!--]--> Java进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/framework/" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/until/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  数据库  "><span class="title">  数据库  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  数据库  "><span class="title">  数据库  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/sql/mysql" class="" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/1.Redis%E5%85%A5%E9%97%A8.html" class="" aria-label="Redis入门"><!--[--><!--]--> Redis入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/2.Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="" aria-label="Redis数据类型"><!--[--><!--]--> Redis数据类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/3.Redis%E4%BA%8B%E5%8A%A1.html" class="" aria-label="Redis事务"><!--[--><!--]--> Redis事务 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/4.Redis%E5%AE%9E%E7%8E%B0%E4%B9%90%E8%A7%82%E9%94%81.html" class="" aria-label="Redis实现乐观锁"><!--[--><!--]--> Redis实现乐观锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/5.Redis-Jedis.html" class="" aria-label="Redis-Jedis"><!--[--><!--]--> Redis-Jedis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/6.SpringBoot%E6%95%B4%E5%90%88.html" class="" aria-label="SpringBoot整合"><!--[--><!--]--> SpringBoot整合 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/7.Redis%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3.html" class="" aria-label="Redis的配置文件详解"><!--[--><!--]--> Redis的配置文件详解 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/Redis%E9%9D%A2%E8%AF%95%E5%BF%85%E5%A4%87.html" class="" aria-label="Redis面试必备"><!--[--><!--]--> Redis面试必备 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>influxdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb1.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="时序数据库-influxdb1.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb1.x 快速入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="时序数据库-influxdb2.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb2.x 快速入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  搜索引擎  "><span class="title">  搜索引擎  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  搜索引擎  "><span class="title">  搜索引擎  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ElasticSearch</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/search/elasticSearch/ElasticSearch7.6.1%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="ElasticSearch7.6.1快速入门"><!--[--><!--]--> ElasticSearch7.6.1快速入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  中间件  "><span class="title">  中间件  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  中间件  "><span class="title">  中间件  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  部署运维  "><span class="title">  部署运维  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  部署运维  "><span class="title">  部署运维  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="虚拟机"><!--[--><!--]--> 虚拟机 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  问题汇总  "><span class="title">  问题汇总  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  问题汇总  "><span class="title">  问题汇总  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  前端  "><span class="title">  前端  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  前端  "><span class="title">  前端  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/vue/" class="" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/node/" class="" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/chggx-knowlodge-vuepress/" class="" aria-label="  首页  "><!--[--><!--]-->   首页   <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  JAVA  "><span class="title">  JAVA  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  JAVA  "><span class="title">  JAVA  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/java-base/" class="router-link-active" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/java-advence/" class="" aria-label="Java进阶"><!--[--><!--]--> Java进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/framework/" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/until/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  数据库  "><span class="title">  数据库  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  数据库  "><span class="title">  数据库  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/sql/mysql" class="" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/1.Redis%E5%85%A5%E9%97%A8.html" class="" aria-label="Redis入门"><!--[--><!--]--> Redis入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/2.Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="" aria-label="Redis数据类型"><!--[--><!--]--> Redis数据类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/3.Redis%E4%BA%8B%E5%8A%A1.html" class="" aria-label="Redis事务"><!--[--><!--]--> Redis事务 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/4.Redis%E5%AE%9E%E7%8E%B0%E4%B9%90%E8%A7%82%E9%94%81.html" class="" aria-label="Redis实现乐观锁"><!--[--><!--]--> Redis实现乐观锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/5.Redis-Jedis.html" class="" aria-label="Redis-Jedis"><!--[--><!--]--> Redis-Jedis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/6.SpringBoot%E6%95%B4%E5%90%88.html" class="" aria-label="SpringBoot整合"><!--[--><!--]--> SpringBoot整合 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/7.Redis%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3.html" class="" aria-label="Redis的配置文件详解"><!--[--><!--]--> Redis的配置文件详解 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/Redis%E9%9D%A2%E8%AF%95%E5%BF%85%E5%A4%87.html" class="" aria-label="Redis面试必备"><!--[--><!--]--> Redis面试必备 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>influxdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb1.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="时序数据库-influxdb1.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb1.x 快速入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="时序数据库-influxdb2.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb2.x 快速入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  搜索引擎  "><span class="title">  搜索引擎  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  搜索引擎  "><span class="title">  搜索引擎  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ElasticSearch</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/search/elasticSearch/ElasticSearch7.6.1%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="ElasticSearch7.6.1快速入门"><!--[--><!--]--> ElasticSearch7.6.1快速入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  中间件  "><span class="title">  中间件  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  中间件  "><span class="title">  中间件  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  部署运维  "><span class="title">  部署运维  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  部署运维  "><span class="title">  部署运维  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="虚拟机"><!--[--><!--]--> 虚拟机 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  问题汇总  "><span class="title">  问题汇总  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  问题汇总  "><span class="title">  问题汇总  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  前端  "><span class="title">  前端  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  前端  "><span class="title">  前端  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/vue/" class="" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/node/" class="" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Java集合 <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Java8新特性 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/chggx-knowlodge-vuepress/java/java-base/java8/2.Java8%E6%96%B0%E7%89%B9%E6%80%A7-Stream%E6%B5%81.html" class="sidebar-item" aria-label="Java8新特性-Stream API"><!--[--><!--]--> Java8新特性-Stream API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Java8新特性-日期API"><!--[--><!--]--> Java8新特性-日期API <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#新旧版本api差别" class="router-link-active router-link-exact-active sidebar-item" aria-label="新旧版本API差别"><!--[--><!--]--> 新旧版本API差别 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_1-新版本计算准确-毫秒-旧版本有误差" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 新版本计算准确(毫秒),旧版本有误差"><!--[--><!--]--> 1. 新版本计算准确(毫秒),旧版本有误差 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_2-老版本存在-线程不安全问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 老版本存在 线程不安全问题"><!--[--><!--]--> 2. 老版本存在 线程不安全问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_3-开发规范" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 开发规范"><!--[--><!--]--> 3. 开发规范 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#date-time-api基本类" class="router-link-active router-link-exact-active sidebar-item" aria-label="Date-Time API基本类"><!--[--><!--]--> Date-Time API基本类 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_1-常用类" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 常用类"><!--[--><!--]--> 1. 常用类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_2-now-方法在日期-时间类中的使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. now 方法在日期/时间类中的使用"><!--[--><!--]--> 2. now 方法在日期/时间类中的使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_3-of方法在日期-时间类中的应用" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. of方法在日期/时间类中的应用"><!--[--><!--]--> 3. of方法在日期/时间类中的应用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_4-localdatetime-时区信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. LocalDateTime 时区信息"><!--[--><!--]--> 4. LocalDateTime 时区信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_5-month枚举类的使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. Month枚举类的使用"><!--[--><!--]--> 5. Month枚举类的使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_6-测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. 测试"><!--[--><!--]--> 6. 测试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#根据现有实例创建日期与时间对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="根据现有实例创建日期与时间对象"><!--[--><!--]--> 根据现有实例创建日期与时间对象 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_1-plus在-localdate-localtime-中的使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. plus在 LocalDate,LocalTime 中的使用"><!--[--><!--]--> 1. plus在 LocalDate,LocalTime 中的使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_2-minus方法在-localdate-localtime中的使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.  minus方法在 LocalDate,LocalTime中的使用"><!--[--><!--]--> 2.  minus方法在 LocalDate,LocalTime中的使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_3-plus-minus单独使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. plus/minus单独使用"><!--[--><!--]--> 3. plus/minus单独使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_4-with方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. with方法"><!--[--><!--]--> 4. with方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_5-测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 测试"><!--[--><!--]--> 5. 测试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#调节器temporaladjuster与查询temporalquery" class="router-link-active router-link-exact-active sidebar-item" aria-label="调节器TemporalAdjuster与查询TemporalQuery"><!--[--><!--]--> 调节器TemporalAdjuster与查询TemporalQuery <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_1-调节器temporaladjuster" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 调节器TemporalAdjuster"><!--[--><!--]--> 1. 调节器TemporalAdjuster <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_2-dayofweek的使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. DayOfWeek的使用"><!--[--><!--]--> 2. DayOfWeek的使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_3-自定义temporaladjuster调节器" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 自定义TemporalAdjuster调节器"><!--[--><!--]--> 3. 自定义TemporalAdjuster调节器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_4-temporalquery的应用" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. TemporalQuery的应用"><!--[--><!--]--> 4. TemporalQuery的应用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_5-测试-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 测试"><!--[--><!--]--> 5. 测试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#date和localdate转换" class="router-link-active router-link-exact-active sidebar-item" aria-label="Date和LocalDate转换"><!--[--><!--]--> Date和LocalDate转换 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_1-java-util-date类的转换" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. java.util.Date类的转换"><!--[--><!--]--> 1. java.util.Date类的转换 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_2-java-sql-date类的转换" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. java.sql.Date类的转换"><!--[--><!--]--> 2. java.sql.Date类的转换 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_3-java-sql-timestamp类的转换" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.  java.sql.Timestamp类的转换"><!--[--><!--]--> 3.  java.sql.Timestamp类的转换 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_4-java-util-calendar类的转换" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. java.util.Calendar类的转换"><!--[--><!--]--> 4. java.util.Calendar类的转换 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/java/java-base/java8/3.Java8%E6%96%B0%E7%89%B9%E6%80%A7-%E6%97%A5%E6%9C%9F.html#_5-日期的解析与格式化datetimeformatter" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 日期的解析与格式化DateTimeFormatter"><!--[--><!--]--> 5. 日期的解析与格式化DateTimeFormatter <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="java8新特性-日期api" tabindex="-1"><a class="header-anchor" href="#java8新特性-日期api" aria-hidden="true">#</a> Java8新特性-日期API</h1><blockquote><p>参考：Calendar、Date</p></blockquote><h2 id="新旧版本api差别" tabindex="-1"><a class="header-anchor" href="#新旧版本api差别" aria-hidden="true">#</a> 新旧版本API差别</h2><h3 id="_1-新版本计算准确-毫秒-旧版本有误差" tabindex="-1"><a class="header-anchor" href="#_1-新版本计算准确-毫秒-旧版本有误差" aria-hidden="true">#</a> 1. 新版本计算准确(毫秒),旧版本有误差</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> dateApiTest01 <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 程序员小李出生于1995年12月26日,计算当前这个时间他已经出生多久了?
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">oldApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Date</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取时间</span>
        <span class="token keyword">long</span> s1 <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//</span>
        <span class="token class-name">Calendar</span> c <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 月份从 0-11 12月为: 11</span>
        c<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1995</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Date</span> d2 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> s2 <span class="token operator">=</span> d2<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">long</span> intervalDay <span class="token operator">=</span> <span class="token punctuation">(</span>s1 <span class="token operator">-</span> s2<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">24</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1995年12月距离现在已经过时了&quot;</span> <span class="token operator">+</span> intervalDay <span class="token operator">+</span> <span class="token string">&quot;天&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 9013</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 程序员小李出生于1995年12月26日,计算当前这个时间他已经出生多久了?
     *  Java8新日期API计算准确
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">newApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 使用Jav8新版本的API获取</span>
        <span class="token keyword">long</span> intervalDay <span class="token operator">=</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">DAYS</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span><span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1995</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1995年12月距离现在已经过时了&quot;</span> <span class="token operator">+</span> intervalDay <span class="token operator">+</span> <span class="token string">&quot;天&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 9014</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-老版本存在-线程不安全问题" tabindex="-1"><a class="header-anchor" href="#_2-老版本存在-线程不安全问题" aria-hidden="true">#</a> 2. 老版本存在 <code>线程不安全问题</code></h3><p><code>SimpleDateFormat</code> 类是线程不安全的,咋多线程的情况下,全局贡献一个 <code>SimpleDateFormat</code> 类中的 <code>Calendar</code> 对象有可能出现异常.</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">SimpleDateFormat</span> <span class="token constant">SIMPLE_DATE_FORMAT</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * 创建10个线程,将字符串&quot;2020-08-08 12:12:12&quot;转换为Date对象后,打印到控制台上
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">oldApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建线程(匿名内部类方式)</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token constant">SIMPLE_DATE_FORMAT</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2020-08-08 12:12:12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>控制台错误:</p><div class="language-verilog ext-verilog line-numbers-mode"><pre class="language-verilog"><code> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>NumberFormatException<span class="token punctuation">:</span> For <span class="token keyword">input</span> <span class="token keyword">string</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>问题原因: <code>线程问题</code></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162822-981500.png" alt=""></p><blockquote><p>解决: 锁</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">oldApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建线程(匿名内部类方式)</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 通过加锁解决线程安全问题</span>
                    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token constant">SIMPLE_DATE_FORMAT</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token constant">SIMPLE_DATE_FORMAT</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2020-08-08 12:12:12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-开发规范" tabindex="-1"><a class="header-anchor" href="#_3-开发规范" aria-hidden="true">#</a> 3. 开发规范</h3><p><code>不允许使用没有定义的魔法数字</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> dateApiTest03 <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 初始化Calendar对象,封装日期为2008年8月8日
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">oldApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 初始化Calendar对象</span>
        <span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置年月日</span>
        <span class="token comment">// 不允许使用没有定义的魔法数字</span>
<span class="token comment">//        calendar.set(2008,7,8);</span>
        <span class="token doc-comment comment">/**
         * public final static int AUGUST = 7;
         */</span>
        calendar<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">AUGUST</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正确格式 august: 8月</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="date-time-api基本类" tabindex="-1"><a class="header-anchor" href="#date-time-api基本类" aria-hidden="true">#</a> Date-Time API基本类</h2><h3 id="_1-常用类" tabindex="-1"><a class="header-anchor" href="#_1-常用类" aria-hidden="true">#</a> 1. 常用类</h3><table><thead><tr><th style="text-align:center;">常用类</th><th>功能概述</th></tr></thead><tbody><tr><td style="text-align:center;">Instant</td><td><code>Instant</code>类对时间轴上的单一瞬时点建模,可以用于记录应用程序中的事件时间戳,在之后的类型转换中,均可以使用<code>Instant</code>类作为中间类完成转换.</td></tr><tr><td style="text-align:center;">Duration</td><td><code>Duration</code>类表示秒或纳秒时间间隔,适合处理较短的时间,需要更高的精确度.</td></tr><tr><td style="text-align:center;">Period</td><td><code>Period</code>类表示一段时间的年,月,日.</td></tr><tr><td style="text-align:center;">LocalDate</td><td><code>LocalDate</code>是一个不可变的日期时间对象,<code>表示日期</code>,通常视为<code>年月日</code>.</td></tr><tr><td style="text-align:center;">LocalTime</td><td><code>LocalTime</code>是一个不可变的日期时间对象,<code>代表一个时间</code>,通常看做是<code>小时-秒</code>,时间表示为纳秒精度.</td></tr><tr><td style="text-align:center;">LocalDateTime</td><td>LocalDateTime是一个不可变得日期时间对象,代表日期时间,通常视为<code>年-月-日-时-分-秒</code>.</td></tr><tr><td style="text-align:center;">ZonedDateTime</td><td>ZonedDateTime是具有时区的日期的不可变表时,此类存储所有时间和时间字段,精确度为纳秒,时区为区域偏移量,用于处理模糊的本地日期时间.</td></tr></tbody></table><h3 id="_2-now-方法在日期-时间类中的使用" tabindex="-1"><a class="header-anchor" href="#_2-now-方法在日期-时间类中的使用" aria-hidden="true">#</a> 2. <code>now</code> 方法在日期/时间类中的使用</h3><p><code>Date-Time API 中的所有类均生成不可变的示例,它们是线程安全的,并且这些类不提供公共构造函数,也就是说没办法通过new的方式直接创建,需要曹勇工厂方法加以实例化.</code></p><ol><li>now方法可以根据当前日期或时间创建实例对象</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimeClassMethodTest01</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * now方法可以根据当前日期或时间创建实例对象
     * Instant,LocalDate,LocalTime,LocalDateTime,ZonedDateTime
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用now方法创建Instant的实例方法对象</span>
        <span class="token class-name">Instant</span> instant <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 使用now方法创建LocalDate的实例对象</span>
        <span class="token class-name">LocalDate</span> localDateNow <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 使用now方法创建LocalTime的实例对象</span>
        <span class="token class-name">LocalTime</span> localTimeNow <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 使用now方法创建LocalDateTime的实例对象</span>
        <span class="token class-name">LocalDateTime</span> <span class="token class-name">LocalDateTimeNow</span> <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 使用now方法创建ZonedDateTime的实例对象</span>
        <span class="token class-name">ZonedDateTime</span> zonedDateTimeNow <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将实例对象在到控制台输出</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instant: &quot;</span> <span class="token operator">+</span> instant<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// instant: 2020-08-20T05:05:47.339Z 标准时间(国际)</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;localDateNow: &quot;</span> <span class="token operator">+</span> localDateNow<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// localDateNow: 2020-08-20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;localTimeNow: &quot;</span> <span class="token operator">+</span> localTimeNow<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// localTimeNow: 13:05:47.440 (440: 表示纳秒)</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;LocalDateTimeNow: &quot;</span> <span class="token operator">+</span> <span class="token class-name">LocalDateTimeNow</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// LocalDateTimeNow: 2020-08-20T13:05:47.440</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;zonedDateTimeNow: &quot;</span> <span class="token operator">+</span> zonedDateTimeNow<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// zonedDateTimeNow: 2020-08-20T13:05:47.440+08:00[Asia/Shanghai] 东八区</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Java8的Time包下其他使用now方法的类.</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 其他使用now方法的类
 * Year,YearMonth,MonthDay
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用now方法创建Year的实例方法对象</span>
    <span class="token class-name">Year</span> yearNow <span class="token operator">=</span> <span class="token class-name">Year</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用now方法创建Month的实例方法对象</span>
    <span class="token class-name">YearMonth</span> yearMonthNow <span class="token operator">=</span> <span class="token class-name">YearMonth</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用now方法创建Day的实例方法对象</span>
    <span class="token class-name">MonthDay</span> monthDayNow <span class="token operator">=</span> <span class="token class-name">MonthDay</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 将实例对象在到控制台输出</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;yearNow: &quot;</span> <span class="token operator">+</span> yearNow<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// yearNow: 2020</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;yearMonthNow: &quot;</span> <span class="token operator">+</span> yearMonthNow<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// yearMonthNow: 2020-08</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;monthDayNow: &quot;</span> <span class="token operator">+</span> monthDayNow<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// monthDayNow: --08-20</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>now()</code>: 获取当前时间日期.</p></blockquote><h3 id="_3-of方法在日期-时间类中的应用" tabindex="-1"><a class="header-anchor" href="#_3-of方法在日期-时间类中的应用" aria-hidden="true">#</a> 3. <code>of</code>方法在日期/时间类中的应用</h3><p><code>of方法可以根据给定的参数生成对相应的日期/时间,基本上每个基本类都有of方法用于生成的对应的对象,而且重载形式多变,可以根据不同的参数生成对应的数据.</code></p><ol><li><code>LocalDate.of</code> 简单使用</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 初始化2020年8月8日
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;localDate: &quot;</span><span class="token operator">+</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// localDate: 2020-08-08</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p><code>LocalTime.of</code> 的使用</p><p><code>LocalTime.of(int hour, int minute)</code>: 根据小时/分钟生成对象</p><p><code>LocalTime.of(int hour, int minute,int second)</code>: 根据小时/分钟/秒生成对象</p><p><code>LocalTime.of(int hour, int minute,int second, int nanoOfSecond)</code>: 根据小时/分钟/秒/纳秒生成对象.</p></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 初始化晚上8点0分0秒的&quot; LocalTime &quot; 对象  -&gt; 如果是晚上的时间,需要将12.
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 方式一</span>
    <span class="token class-name">LocalTime</span> localTime1 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 方式二</span>
    <span class="token class-name">LocalTime</span> localTime2 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">58</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 方式三</span>
    <span class="token class-name">LocalTime</span> localTime3 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;localTime1: &quot;</span> <span class="token operator">+</span> localTime1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// localTime1: 20:00</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;localTime2: &quot;</span> <span class="token operator">+</span> localTime2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// localTime2: 20:00:58</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;localTime3: &quot;</span> <span class="token operator">+</span> localTime3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// localTime3: 20:00:34.000000001</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><p><code>LocalDateTime.of</code>的使用</p><p><code>LocalDateTime.of(int year, int month, int dayOfMonth, int hour, int minute ,int second, int nanoOfSecond)</code>: 根据年/月/日/时/分/秒/纳秒生成对象</p><p><code>LocalDateTime.of(int year, int month, int dayOfMonth, int hour, int minute)</code>: 根据年/月/日/时/分生成对象</p></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/**
 * 初始化2020年8月8日下午8点0分的 &quot; LocalDateTime &quot; 对象
 */
@Test
public void test3(){
    LocalDateTime localDateTime1 = LocalDateTime.of(2020, 8, 8, 20, 0);
    System.out.println(&quot;localDateTime1: &quot; + localDateTime1); // localDateTime1: 2020-08-08T20:00
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>特殊情况: <code>LocalDateTime.of(LocalDate date, LocalTime time)</code></p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * LocalDateTime: 特殊使用
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// localDate</span>
    <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// localTime</span>
    <span class="token class-name">LocalTime</span> localTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>localDate<span class="token punctuation">,</span> localTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;localDateTime: &quot;</span> <span class="token operator">+</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// localDateTime: 2020-08-08T20:00</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-localdatetime-时区信息" tabindex="-1"><a class="header-anchor" href="#_4-localdatetime-时区信息" aria-hidden="true">#</a> 4. LocalDateTime 时区信息</h3><p><code>ZonedDateTime</code>: 不仅封装有日期时间,并且还有偏移量 <code>时区 </code> (中国东八区)</p><ol><li><p>时区的获取</p><p>通过 <code>ZoneId</code> 类 提供的 <code>getAvailableZoneIds()</code> 可以获取一个Set集合,集合中封装了600个时区.</p></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimeClassMethodTest03</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 获取所有时区信息</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> availableZoneIds <span class="token operator">=</span> <span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">getAvailableZoneIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> availableZoneId <span class="token operator">:</span> availableZoneIds<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//            System.out.println(availableZoneId);</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 获取当前系统默认的时区信息 -&gt; 中国</span>
        <span class="token class-name">ZoneId</span> zoneId <span class="token operator">=</span> <span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zoneId<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Asia/Shanghai</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>添加时区信息 / 获取其他时区信息</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 1. 封装LocalDateTime对象,参数自定义-&gt;2020年11月11日 8点54分38秒</span>
    <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 封装完成后的time对象知识一个封装的时间对象,并没有时区相关的数据,所以添加时区到对象中,使用atZone()方法</span>
    <span class="token class-name">ZonedDateTime</span> zonedDateTime <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;zonedDateTime: &quot;</span> <span class="token operator">+</span> zonedDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// zonedDateTime: 2020-11-11T08:54:38+08:00[Asia/Shanghai]</span>
    <span class="token comment">// 3. 更改时区查看其它时区的当前时间 通过 withZoneSameInstant() 即可更改</span>
    <span class="token class-name">ZonedDateTime</span> <span class="token class-name">AmericaZonedDateTime</span> <span class="token operator">=</span> zonedDateTime<span class="token punctuation">.</span><span class="token function">withZoneSameInstant</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Tokyo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;同一时间的日本时间: &quot;</span> <span class="token operator">+</span> <span class="token class-name">AmericaZonedDateTime</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 同一时间的日本时间: 2020-11-11T09:54:38+09:00[Asia/Tokyo]</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-month枚举类的使用" tabindex="-1"><a class="header-anchor" href="#_5-month枚举类的使用" aria-hidden="true">#</a> 5. Month枚举类的使用</h3><p>java.time包中引入了Month的枚举,Month中包含标准日历中的12个月份的常量(1-12)月,也提供了一些方便的方法共我们使用.</p><p><code>推荐在初始化 LocalDate 和 LocalDateTime 对象的时候,月份使用枚举的方式传入,这样更简单易懂而且不易出错.(旧的API Calendar从0-11)</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Month月份枚举使用
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 1. 初始化 LocalDate 和 LocalDateTime 对象的时候,月份使用枚举的方式传入 -&gt; 2020年7月26日11时11分11面</span>
    <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">JULY</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-07-26T11:11:11</span>

    <span class="token comment">// 2. Month枚举类 -&gt; of可以根据传入的数字返回对应月份的枚举</span>
    <span class="token class-name">Month</span> month <span class="token operator">=</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>month<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// DECEMBER</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-测试" tabindex="-1"><a class="header-anchor" href="#_6-测试" aria-hidden="true">#</a> 6. 测试</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimeClassMethodTest05</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 创建当前时间(不带时区)
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-08-20T22:06:05.361</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 创建当前时间(只包含年月日)
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-08-20</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 创建当前时间(包含年月日时分秒并且带有时区)
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ZonedDateTime</span> now <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-08-20T22:09:06.124+08:00[Asia/Shanghai]</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 创建2020年12日31日7时38分46秒的日期对象(月份使用枚举)
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">DECEMBER</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">46</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-12-31T07:38:46</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 创建2020年12日31日的日期对象(月份使用枚举)
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">DECEMBER</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-12-31</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 创建7时38分46秒的时间对象
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">LocalTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">46</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 07:38:46</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="根据现有实例创建日期与时间对象" tabindex="-1"><a class="header-anchor" href="#根据现有实例创建日期与时间对象" aria-hidden="true">#</a> 根据现有实例创建日期与时间对象</h2><p><code>java8中的日期时间相关的API的所有实例都是不可变的,一旦创建 LocalDate,LocalTime,LocalDateTime 就无法修改(类似于Spring), 这对于线程安全非常有利</code></p><h3 id="_1-plus在-localdate-localtime-中的使用" tabindex="-1"><a class="header-anchor" href="#_1-plus在-localdate-localtime-中的使用" aria-hidden="true">#</a> 1. plus在 LocalDate,LocalTime 中的使用</h3><p>想要修改某个日期/时间的现有实力是,我们可以使用<code>plus/minus</code>方法来完成操作.</p><ol><li>LocalDate中对日期进行<code>递增/减操作</code>的方法</li></ol><table><thead><tr><th style="text-align:left;">方法</th><th style="text-align:center;">作用</th></tr></thead><tbody><tr><td style="text-align:left;">LocalDate plusDays(long days)</td><td style="text-align:center;">增减天数</td></tr><tr><td style="text-align:left;">LocalDate plusWeeks(long weeks)</td><td style="text-align:center;">增减周数</td></tr><tr><td style="text-align:left;">LocalDate plusMonths(long months)</td><td style="text-align:center;">增减月数</td></tr><tr><td style="text-align:left;">LocalDate plusYears(long years)</td><td style="text-align:center;">增减年数</td></tr></tbody></table><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Plus方法在localDate中的使用
 * LocalDate plusDays(long days)增减天数
 * LocalDate plusWeeks(long weeks)增减周数
 * LocalDate plusMonths(long months)增减月数
 * LocalDate plusYears(long years)增减年数
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 封装localDate对象,参数为2020年2月13日</span>
    <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">FEBRUARY</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间: 2020-02-13</span>

    <span class="token comment">// 计算当前时间的4天后的时间,并打印</span>
    <span class="token class-name">LocalDate</span> date1 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间的4天后时间: &quot;</span> <span class="token operator">+</span> date1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的4天后时间: 2020-02-17</span>

    <span class="token comment">// 计算当前时间的3周后的时间,并打印</span>
    <span class="token class-name">LocalDate</span> date2 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">plusWeeks</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间的4周后时间: &quot;</span> <span class="token operator">+</span> date2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的4周后时间: 2020-03-05</span>

    <span class="token comment">// 计算当前时间的5个月后的时间,并打印</span>
    <span class="token class-name">LocalDate</span> date3 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">plusMonths</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间的5个月后时间: &quot;</span> <span class="token operator">+</span> date3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的5个月后时间: 2020-07-13</span>

    <span class="token comment">// 计算当前时间的2年后的时间,并打印</span>
    <span class="token class-name">LocalDate</span> date <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间的2年后时间: &quot;</span> <span class="token operator">+</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的2年后时间: 2023-02-13</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>LocalTime中对时间进行<code>递增/减操作</code>的方法</li></ol><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>LocalTime plusNanos(long nanos)</td><td>增加纳秒</td></tr><tr><td>LocalTime plusSeconds(long seconds)</td><td>增加秒</td></tr><tr><td>LocalTime plusMenutes(long menutes)</td><td>增加分钟</td></tr><tr><td>LocalTime plusHours(long hours)</td><td>增加小时</td></tr></tbody></table><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Plus方法在localTime中的使用
 * LocalTime plusNanos(long nanos)增加纳秒
 * LocalTime plusSeconds(long seconds)增加秒
 * LocalTime plusMenutes(long menutes)增加分钟
 * LocalTime plusHours(long hours)增加小时
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 封装LocalTime对象参数为8点13分39秒218毫秒</span>
    <span class="token class-name">LocalTime</span> localTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">218</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> localTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间: 08:13:39.000000218</span>

    <span class="token comment">// 计算当前时间500纳秒后的时间,并打印</span>
    <span class="token class-name">LocalTime</span> date1 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">plusNanos</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间500纳秒后的时间: &quot;</span> <span class="token operator">+</span> date1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间500纳秒后的时间: 08:13:39.000000718</span>

    <span class="token comment">// 计算当前时间45秒后的时间,并打印</span>
    <span class="token class-name">LocalTime</span> date2 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">plusSeconds</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间45秒后的时间: &quot;</span> <span class="token operator">+</span> date2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间45秒后的时间: 08:14:24.000000218</span>


    <span class="token comment">// 计算当前时间19分钟后的时间,并打印</span>
    <span class="token class-name">LocalTime</span> date3 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">plusMinutes</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间19分钟后的时间: &quot;</span> <span class="token operator">+</span> date3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间19分钟后的时间: 08:32:39.000000218</span>

    <span class="token comment">// 计算当前时间3小时后的时间,并打印</span>
    <span class="token class-name">LocalTime</span> date4 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">plusHours</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间3小时后的时间: &quot;</span> <span class="token operator">+</span> date4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间3小时后的时间: 11:13:39.000000218</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-minus方法在-localdate-localtime中的使用" tabindex="-1"><a class="header-anchor" href="#_2-minus方法在-localdate-localtime中的使用" aria-hidden="true">#</a> 2. minus方法在 LocalDate,LocalTime中的使用</h3><ol><li>LocalDate中对日期进行<code>递增/减操作</code>的方法</li></ol><table><thead><tr><th>方法</th><th style="text-align:center;">作用</th></tr></thead><tbody><tr><td>LocalDate minusDays(long daysToSubtract)</td><td style="text-align:center;">增减天数</td></tr><tr><td>LocalDate minusWeeks(long weeksToSubtract)</td><td style="text-align:center;">增减周数</td></tr><tr><td>LocalDate minusMonths(long monthsToSubtract)</td><td style="text-align:center;">增减月数</td></tr><tr><td>LocalDate minusYears(long yearsToSubtract)</td><td style="text-align:center;">增减年数</td></tr></tbody></table><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Minus方法在localDate中的使用
 * LocalDate minusDays(long daysToSubtract)增减天数
 * LocalDate minusWeeks(long weeksToSubtract)增减周数
 * LocalDate minusMonths(long monthsToSubtract)增减月数
 * LocalDate minusYears(long yearsToSubtract)增减年数
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 封装localDate对象,参数为2020年2月13日</span>
    <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">FEBRUARY</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间: 2020-02-13</span>

    <span class="token comment">// 计算当前时间的4天后的时间,并打印</span>
    <span class="token class-name">LocalDate</span> date1 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间的4天前时间: &quot;</span> <span class="token operator">+</span> date1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的4天前时间: 2020-02-09</span>

    <span class="token comment">// 计算当前时间的3周后的时间,并打印</span>
    <span class="token class-name">LocalDate</span> date2 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">minusWeeks</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间的4周前时间: &quot;</span> <span class="token operator">+</span> date2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的4周前时间: 2020-01-09</span>

    <span class="token comment">// 计算当前时间的5个月后的时间,并打印</span>
    <span class="token class-name">LocalDate</span> date3 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">minusMonths</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间的5个月前时间: &quot;</span> <span class="token operator">+</span> date3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的5个月前时间: 2019-09-13</span>

    <span class="token comment">// 计算当前时间的2年后的时间,并打印</span>
    <span class="token class-name">LocalDate</span> date <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">minusYears</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间的2年前时间: &quot;</span> <span class="token operator">+</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的2年前时间: 2018-02-13</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>LocalTime中对时间进行<code>递增/减操作</code>的方法</li></ol><table><thead><tr><th>方法</th><th style="text-align:center;">作用</th></tr></thead><tbody><tr><td>LocalTime minusNanos(long nanosToSubtract)</td><td style="text-align:center;">增加纳秒</td></tr><tr><td>LocalTime minusSeconds(long secondsToSubtract)</td><td style="text-align:center;">增加秒</td></tr><tr><td>LocalTime minusMinutes(long menutes)</td><td style="text-align:center;">增加分钟</td></tr><tr><td>LocalTime minusHours(long hoursToSubtract)</td><td style="text-align:center;">增加小时</td></tr></tbody></table><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Minus方法在localTime中的使用
 * LocalTime minusNanos(long nanosToSubtract)增加纳秒
 * LocalTime minusSeconds(long secondsToSubtract)增加秒
 * LocalTime minusMinutes(long menutes)增加分钟
 * LocalTime minusHours(long hoursToSubtract)增加小时
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 封装LocalTime对象参数为8点13分39秒218毫秒</span>
    <span class="token class-name">LocalTime</span> localTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">218</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> localTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间: 08:13:39.000000218</span>

    <span class="token comment">// 计算当前时间500纳秒后的时间,并打印</span>
    <span class="token class-name">LocalTime</span> date1 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">minusNanos</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间500纳秒后的时间: &quot;</span> <span class="token operator">+</span> date1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间500纳秒后的时间: 08:13:39.000000718</span>

    <span class="token comment">// 计算当前时间45秒后的时间,并打印</span>
    <span class="token class-name">LocalTime</span> date2 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">minusSeconds</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间45秒后的时间: &quot;</span> <span class="token operator">+</span> date2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间45秒后的时间: 08:14:24.000000218</span>


    <span class="token comment">// 计算当前时间19分钟后的时间,并打印</span>
    <span class="token class-name">LocalTime</span> date3 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">minusMinutes</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间19分钟后的时间: &quot;</span> <span class="token operator">+</span> date3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间19分钟后的时间: 08:32:39.000000218</span>

    <span class="token comment">// 计算当前时间3小时后的时间,并打印</span>
    <span class="token class-name">LocalTime</span> date4 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">minusHours</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间3小时后的时间: &quot;</span> <span class="token operator">+</span> date4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间3小时后的时间: 11:13:39.000000218</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-plus-minus单独使用" tabindex="-1"><a class="header-anchor" href="#_3-plus-minus单独使用" aria-hidden="true">#</a> 3. plus/minus单独使用</h3><ol><li>plus方法</li></ol><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>LocalDate/LocalTime/LocalDateTime plus(TemporalAmount amountToAdd)</td><td></td></tr><tr><td>LocalDate/LocalTime/LocalDateTime plus(long amountToAdd, TemporalUnit unit)</td><td></td></tr></tbody></table><ul><li><p><code>TemporalAmount</code> 是一个接口,当借口作为方法的参数的时候,实际上传入的是接口的实现类对象,根据查看这个接口的体系,可以看到这个接口有一个实现类,名字叫做 <code>Period</code> (表示一段时间)</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162838-151904.png" alt=""></p></li></ul><blockquote><p><code>Period of(int years, int months, int days)</code>: Period.of(1,2,3) 返回对象表示即为1年2月3天</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 今天程序员小张查看自己的车辆的保险记录的时候看到还有2年3月8天就到期了,计算到期的时间是什么时候.
 * LocalDate plus(TemporalAmount amountToAdd)
 * Period.of(int years, int months, int days)
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token comment">// 1. 封装当前时间 -&gt; now方法</span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间: 2020-08-21T06:34:36.627</span>

    <span class="token comment">// 2. 在当前时间的基础上,进行+年月日操作,获取一个截止日期对象,这个对象就是保险的到期时间</span>
    <span class="token class-name">LocalDateTime</span> endTime1 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusMonths</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;保险到期时间: &quot;</span> <span class="token operator">+</span> endTime1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 保险到期时间: 2022-11-29T06:34:36.627</span>

    <span class="token comment">// 3. 使用 plus 方法改进 TemporalAmount ---&gt; Period(实现类)</span>
    <span class="token comment">// Period.of(int years, int months, int days)</span>
    <span class="token class-name">Period</span> period <span class="token operator">=</span> <span class="token class-name">Period</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LocalDateTime</span> endTime2 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>period<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在当前时间的基础上增加</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;保险到期时间: &quot;</span> <span class="token operator">+</span> endTime2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 保险到期时间: 2022-11-29T06:34:36.627</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>在实际开发过程中可能还会更准确的操作日期或者说增加一些特殊的时间,比如说1个世纪,一个半天,一年...,Java8已经提供了这些日期的表示方法而不需要去单独进行计算了.</p><p><code>TemporalUnit</code> 是一个接口,通过查看体系接口发现,可以使用子类 <code>ChronoUnit</code> 来表示.</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162836-880026.png" alt=""></p></li><li><p>chronoUnit</p><p><code>一组标准的日期时间单位。</code></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162840-749820.png" alt=""></p><blockquote><p>图片来源: jdk文档</p></blockquote></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 结婚10年称为锡婚,2020年2月2日11点11分11秒称为对称日,很多情侣准备在那天结婚,如果在那天结婚了,那么锡婚会发生在什么时候?
 * LocalDate/LocalTime/LocalDateTime plus(long amountToAdd, TemporalUnit unit)
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 封装日期 -&gt; 表示结婚的时间点</span>
    <span class="token class-name">LocalDateTime</span> marryTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">FEBRUARY</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 1. 使用 plus() 进行计算,加上一个十年  ChronoUnit.DECADES : 代表十年</span>
    <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> marryTime<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">DECADES</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;如果在: &quot;</span> <span class="token operator">+</span> marryTime <span class="token operator">+</span> <span class="token string">&quot; 结婚, 那么锡婚的时间是: &quot;</span> <span class="token operator">+</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如果在: 2020-02-02T11:11:11 结婚, 那么锡婚的时间是: 2030-02-02T11:11:11</span>

    <span class="token comment">// 2. 如果锡婚后的半天,需要请所有的亲朋好友吃饭,计算吃饭的时间. ChronoUnit.HALF_DAYS : 代表半天</span>
    <span class="token class-name">LocalDateTime</span> cTime <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">HALF_DAYS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;半天后, 请客吃放的时间为: &quot;</span> <span class="token operator">+</span> cTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 半天后,请客吃放的时间为: 2030-02-02T23:11:11</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>minus方法</li></ol><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>LocalDate/LocalTime/LocalDateTime minus(long amountToSubtract, TemporalUnit unit)</td><td></td></tr><tr><td>LocalDate/LocalTime/LocalDateTime minus(TemporalAmount amountToSubtract)</td><td></td></tr></tbody></table><blockquote><p>使用方法同 <code>plus</code></p></blockquote><h3 id="_4-with方法" tabindex="-1"><a class="header-anchor" href="#_4-with方法" aria-hidden="true">#</a> 4. with方法</h3><p><code>如果不需要对日期进行加减而是直接修改日期的话,那么可以使用with方法,with方法提供了许多种修改时间的方法.</code></p><ol><li>在LocalDateTime中的使用</li></ol><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>LocalDateTime withNano(int nanoOfSecond)</td><td>修改纳秒</td></tr><tr><td>LocalDateTime withSecond(int second)</td><td>修改秒</td></tr><tr><td>LocalDateTime withMinute(int minute)</td><td>修改分钟</td></tr><tr><td>LocalDateTime withHour(int hour)</td><td>修改小时</td></tr><tr><td>LocalDateTime withDayOfMonth(int dayOfMonth)</td><td>修改日</td></tr><tr><td>LocalDateTime withDayOfYear(int dayOfYear)</td><td></td></tr><tr><td>LocalDateTime withMonth(int month)</td><td>修改月</td></tr><tr><td>LocalDateTime withYear(int year)</td><td>修改年</td></tr></tbody></table><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LocalDateTime</span> <span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 2020.12.12 12:12:0</span>
    <span class="token keyword">return</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1999</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">DECEMBER</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 *
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用 with 方法修改</span>
    <span class="token comment">// 1. 经过使用发现 time 存在问题, 时间应为 1 号</span>
    <span class="token class-name">LocalDateTime</span> resultTime1 <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改前的错误时间: &quot;</span><span class="token operator">+</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 修改前的错误时间: 1999-12-12T12:12</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改后的正确时间1: &quot;</span><span class="token operator">+</span> resultTime1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  修改后的正确时间: 1999-12-01T12:12</span>

    <span class="token comment">// 2. 修改为 2020.8.8 11:11:11:1</span>
    <span class="token class-name">LocalDateTime</span> resultTime2 <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">withYear</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withMonth</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withHour</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withMinute</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withSecond</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withNano</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改前的错误时间: &quot;</span><span class="token operator">+</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 修改前的错误时间: 1999-12-12T12:12</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改后的正确时间2: &quot;</span><span class="token operator">+</span> resultTime2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 修改后的正确时间2: 2020-08-08T11:11:11.000000001</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>with单独使用</li></ol><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>with(TemporalField field, long newValue)</td><td></td></tr><tr><td>with(TemporalAdjuster adjuster)</td><td></td></tr></tbody></table><ul><li><p><code>TemporalField </code>是一个接口,通过查看体系结构,可以使用它的子类<code>ChronoField</code></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162841-524075.png" alt=""></p></li><li><p><code>ChronoField</code>中封装了一些日期时间中的组成部分,可以直接选择之后传入第二个参数进行修改.(<a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html" target="_blank" rel="noopener noreferrer">参考<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</p><p>例; <code>with(ChronoField.DAY_OF_MONTH,1)</code>: 将日期中的月份中的天数修改为1</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * with(TemporalField field, long newValue)
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用 with 方法修改</span>
    <span class="token comment">// 1. 经过使用发现 time 存在问题, 时间应为 1 号</span>
    <span class="token class-name">LocalDateTime</span> resultTime1 <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">DAY_OF_MONTH</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改前的错误时间: &quot;</span><span class="token operator">+</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 修改前的错误时间: 1999-12-12T12:12</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;修改后的正确时间1: &quot;</span><span class="token operator">+</span> resultTime1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  修改后的正确时间: 1999-12-01T12:12</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-测试" tabindex="-1"><a class="header-anchor" href="#_5-测试" aria-hidden="true">#</a> 5. 测试</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> 测试plus/with <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * 使用三种方式计算2019年7月19日14是38分34秒后的3年7个月18天后是什么时候
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimeClassMethodPlusWithTest</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * plus() Period
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 封装当前时间 -&gt; of()</span>
        <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">JULY</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 通过Period封装一个时间段表示: 3年7个月18天后</span>
        <span class="token class-name">Period</span> period <span class="token operator">=</span> <span class="token class-name">Period</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 通过plus()增加 Period 是 TemporalAmount 的一个实现类</span>
        <span class="token class-name">LocalDateTime</span> endTime <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>period<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间是: &quot;</span> <span class="token operator">+</span> time <span class="token operator">+</span> <span class="token string">&quot;, 3年7个月18天后: &quot;</span> <span class="token operator">+</span> endTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 当前时间是: 2019-07-19T14:38:34 3年7个月18天后: 2023-03-09T14:38:34</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * plus()
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 封装当前时间 -&gt; of()</span>
        <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">JULY</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 通过plus()增加 3年7个月18天后</span>
        <span class="token class-name">LocalDateTime</span> endTime <span class="token operator">=</span> time
                <span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">withMonth</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间是: &quot;</span> <span class="token operator">+</span> time <span class="token operator">+</span> <span class="token string">&quot;, 3年7个月18天后: &quot;</span> <span class="token operator">+</span> endTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 当前时间是: 2019-07-19T14:38:34 3年7个月18天后: 2023-03-09T14:38:34</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * with()
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 封装当前时间 -&gt; of()</span>
        <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">JULY</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 通过with 修改到 3年7个月18天后</span>
        <span class="token class-name">LocalDateTime</span> endTime <span class="token operator">=</span> time
                <span class="token punctuation">.</span><span class="token function">withYear</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">withMonth</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间是: &quot;</span> <span class="token operator">+</span> time <span class="token operator">+</span> <span class="token string">&quot;, 3年7个月18天后: &quot;</span> <span class="token operator">+</span> endTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 当前时间是: 2019-07-19T14:38:34 3年7个月18天后: 2023-03-09T14:38:34</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * with()
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 封装当前时间 -&gt; of()</span>
        <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">JULY</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 通过with 修改到 3年7个月18天后</span>
        <span class="token class-name">LocalDateTime</span> endTime <span class="token operator">=</span> time
                <span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">,</span><span class="token number">2023</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">MONTH_OF_YEAR</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span><span class="token constant">DAY_OF_MONTH</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间是: &quot;</span> <span class="token operator">+</span> time <span class="token operator">+</span> <span class="token string">&quot;, 3年7个月18天后: &quot;</span> <span class="token operator">+</span> endTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 当前时间是: 2019-07-19T14:38:34 3年7个月18天后: 2023-03-09T14:38:34</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="调节器temporaladjuster与查询temporalquery" tabindex="-1"><a class="header-anchor" href="#调节器temporaladjuster与查询temporalquery" aria-hidden="true">#</a> 调节器TemporalAdjuster与查询TemporalQuery</h2><h3 id="_1-调节器temporaladjuster" tabindex="-1"><a class="header-anchor" href="#_1-调节器temporaladjuster" aria-hidden="true">#</a> 1. 调节器TemporalAdjuster</h3><p>在上一篇中介绍了,我们可以通过with方法修改日期时间对象中封装的数据,但是有一些时候可能会做一些复杂的操作,比如说将时间调整到下个周的周日,下一个工作日,又或者本月中的某一天,这个时候我们可以使用<code>TemporalAdjuster</code>来更方便的处理日期.</p><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>with(TemporalAdjuster adjuster)</td><td></td></tr></tbody></table><blockquote><p><code>TemporalAdjuster</code>: 是一个接口,with方法实际上传入的是这个接口的实现类对象, <code>TemporalAdjusters</code>并不是<code>TemporalAdjuster</code>的一个实现类,只不过<code>TemporalAdjusters</code>的静态方法石祥路<code>TemporalAdjuster</code>.并且将实现类对象返回了.</p></blockquote><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>static TemporalAdjuster firstDayOfMonth()</td><td>当月的第一天</td></tr><tr><td>static TemporalAdjuster lastDayOfMonth()</td><td>当月的第一天</td></tr><tr><td>static TemporalAdjuster firstDayOfNextMonth()</td><td>下一个月的第一天</td></tr><tr><td>static TemporalAdjuster firstDayOfYear()</td><td>当年的第一天</td></tr><tr><td>static TemporalAdjuster lastDayOfYear()</td><td>当年的第一天</td></tr><tr><td>static TemporalAdjuster firstDayOfNextYear()</td><td>下一年的第一天</td></tr><tr><td>static TemporalAdjuster firstInMonth(DayOfWeek dayOfWeek)</td><td>当月的第一个周x(通过参数确定)</td></tr><tr><td>static TemporalAdjuster lastInMonth(DayOfWeek dayOfWeek)</td><td>当月的最后一个周x(通过参数确定)</td></tr><tr><td>static TemporalAdjuster dayOfWeekInMonth(int ordinal, DayOfWeek dayOfWeek)</td><td></td></tr><tr><td>static TemporalAdjuster next(DayOfWeek dayOfWeek)</td><td>下一个周x(通过参数确定)</td></tr><tr><td>static TemporalAdjuster nextOrSame(DayOfWeek dayOfWeek)</td><td></td></tr><tr><td>static TemporalAdjuster previous(DayOfWeek dayOfWeek)</td><td>上一个周几(通过参数确定)</td></tr><tr><td>static TemporalAdjuster previousOrSame(DayOfWeek dayOfWeek)</td><td></td></tr></tbody></table><!-- | 'static TemporalAdjuster ofDateAdjuster(UnaryOperator<LocalDate> dateBasedAdjuster)' |   ofDateAdjuster                              | --><blockquote><p><code>TemporalAdjuster 是一个函数是接口,里面有一个抽象方法叫做 Temporal adjustInto(Temporal temporal) ;传入一个 Temporal 对象通过实现逻辑返回一个 Temporal 对象,Temporal 是 LocalDate,localTime相关日期类的父接口, </code></p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 封装日期时间对象为当前对象</span>
    <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 通过with()传入TemporalAdjuster类的实现类对象,就可以更改,实现类对象是由TemporalAdjuster s类的静态方法来提供.</span>
    <span class="token comment">// 1. 修改时间为当月的第一天</span>
    <span class="token class-name">LocalDate</span> firstDayOfMonth <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当月的第一天: &quot;</span> <span class="token operator">+</span> firstDayOfMonth<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当月的第一天: 2020-08-01</span>

    <span class="token comment">// 2. 修改时间为当月的最后第一天</span>
    <span class="token class-name">LocalDate</span> lastDayOfMonth <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">lastDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当月的最后第一天: &quot;</span> <span class="token operator">+</span> lastDayOfMonth<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当月的最后第一天: 2020-08-31</span>

    <span class="token comment">// 3. 修改时间为下一个月的第一天</span>
    <span class="token class-name">LocalDate</span> firstDayOfNextMonth <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfNextMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;下一个月的第一天: &quot;</span> <span class="token operator">+</span> firstDayOfNextMonth<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 下一个月的第一天: 2020-09-01</span>

    <span class="token comment">// 4. 修改时间为当年的第一天</span>
    <span class="token class-name">LocalDate</span> firstDayOfYear <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当年的第一天: &quot;</span> <span class="token operator">+</span> firstDayOfYear<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当年的第一天: 2020-01-01</span>

    <span class="token comment">// 5. 修改时间为下一年的第一天</span>
    <span class="token class-name">LocalDate</span> firstDayOfNextYear <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfNextYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;下一年的第一天: &quot;</span> <span class="token operator">+</span> firstDayOfNextYear<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 下一年的第一天: 2021-01-01</span>

    <span class="token comment">// 6. 修改时间为当年的最后第一天</span>
    <span class="token class-name">LocalDate</span> lastDayOfYear <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">lastDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当年的最后第一天: &quot;</span> <span class="token operator">+</span> lastDayOfYear<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当年的最后第一天: 2020-12-31</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-dayofweek的使用" tabindex="-1"><a class="header-anchor" href="#_2-dayofweek的使用" aria-hidden="true">#</a> 2. DayOfWeek的使用</h3><p><code>DayOfWeek是一周中星期几的枚举类,其中封装了从周一到周日.</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * DayOfWeek
 * static TemporalAdjuster next(DayOfWeek dayOfWeek): 下一个周x
 * static TemporalAdjuster previous(DayOfWeek dayOfWeek): 上一个周x
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 封装日期时间对象为当前对象</span>
    <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 1. 将当前时间修改为下一月的周日</span>
    <span class="token class-name">LocalDate</span> date1 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span><span class="token constant">SUNDAY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前日期: &quot;</span><span class="token operator">+</span> now<span class="token operator">+</span> <span class="token string">&quot;, 下一月的周日; &quot;</span> <span class="token operator">+</span> date1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前日期: 2020-08-22, 下一月的周日; 2020-08-23</span>

    <span class="token comment">// 2. 将当前时间修改为上一个周三</span>
    <span class="token class-name">LocalDate</span> date2 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span><span class="token constant">WEDNESDAY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前日期: &quot;</span><span class="token operator">+</span> now<span class="token operator">+</span> <span class="token string">&quot;, 上一月的周三; &quot;</span> <span class="token operator">+</span> date2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前日期: 2020-08-22, 上一月的周三; 2020-08-19</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-自定义temporaladjuster调节器" tabindex="-1"><a class="header-anchor" href="#_3-自定义temporaladjuster调节器" aria-hidden="true">#</a> 3. 自定义TemporalAdjuster调节器</h3><p>通过Java8本身提供的<code>TemporalAdjusters</code>中的方法可以完成一些常用的操作,如果需要自定义日期时间的更改逻辑,可以通过实现TemporalAdjuster类的接口中的方式来完成.</p><ul><li>创建类实现TemporalAdjuster接口</li><li>实现TemporalAdjuster中的adjustInto方法,传入一个日期时间对象,完成逻辑之后日期时间对象</li><li>通过with方法传入自定义调节器对象完成更改.</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code> <span class="token doc-comment comment">/**
     * 例如员工一个月中领取工资,发薪日是每个月的15号,如果发薪日是周末,则调整为周五
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 之后会传入一个日期类时间对象,判断日期类时间对象是不是15号,如果不是15号则修改为15号,如果是周六或者周日,则改为周五(上一个)
     */</span>
    <span class="token keyword">class</span> <span class="token class-name">PayDayAdjuster</span> <span class="token keyword">implements</span> <span class="token class-name">TemporalAdjuster</span> <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Temporal</span> <span class="token function">adjustInto</span><span class="token punctuation">(</span><span class="token class-name">Temporal</span> temporal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1. Temporal: 日期时间类对象的父接口,实际上可以理解为传入的就是LocalDate或者LocalTime对象.需要将temporal转换为LocalDate对象</span>
            <span class="token class-name">LocalDate</span> payDay <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>temporal<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 2. 判断日期类时间对象是不是15号,如果不是15号则修改为15号</span>
            <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>payDay<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                day <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                day <span class="token operator">=</span> payDay<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// with修改日期</span>
            <span class="token class-name">LocalDate</span> realPayDay <span class="token operator">=</span> payDay<span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 3. 判断readPayDay,如果是周六或者周日,则改为周五(上一个)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>realPayDay<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span><span class="token constant">SATURDAY</span> <span class="token operator">||</span> realPayDay<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span><span class="token constant">SUNDAY</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 是周六/周日,修改为上一个周五</span>
                realPayDay <span class="token operator">=</span> realPayDay<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span><span class="token constant">FRIDAY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> realPayDay<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 测试上面类是否可用
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">tes3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 封装localDate对象为2018年12月1日</span>
        <span class="token class-name">LocalDate</span> payDay <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">DECEMBER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 计算payDay的真实发薪日</span>
        <span class="token class-name">Temporal</span> temporal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PayDayAdjuster</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">adjustInto</span><span class="token punctuation">(</span>payDay<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 转换</span>
        <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>temporal<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;预计的发薪日: &quot;</span> <span class="token operator">+</span> payDay <span class="token operator">+</span> <span class="token string">&quot;, 真是的发薪日: &quot;</span> <span class="token operator">+</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 预计的发薪日: 2018-12-01, 真是的发薪日: 2018-12-14</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Temporal: <code>日期时间类对象的父接口</code>,实际上可以理解为传入的就是LocalDate或者LocalTime对象.需要将temporal转换为LocalDate对象</p><p>LocalDate.from():</p></blockquote><h3 id="_4-temporalquery的应用" tabindex="-1"><a class="header-anchor" href="#_4-temporalquery的应用" aria-hidden="true">#</a> 4. TemporalQuery的应用</h3><p>学习的是时态类对象(LocalDate,LocalTime)都有一个方法叫做query,可以针对日期进行查询.</p><p><code>R query(TemporalQuery query)这个方法是一个泛型方法,返回的数据就是传入的泛型类的类型 TemporalQuery是一个泛型接口,包含一个抽象方法:</code></p><table><thead><tr><th>方法</th></tr></thead><tbody><tr><td>R queryFrom(TemporalAccessor temporal)</td></tr></tbody></table><blockquote><p><code>TemporalAccessor</code>: 是Temporal的父接口,实际上也就是LocalDate,LocalDateTime相关类的顶级父接口,这个<code>queryFrom</code>的方法的实现逻辑就是传入一个日期/时间通过自定义逻辑返回数据.</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> TemporalQuery查询使用 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * 获取某一天距离下一个劳动节相隔天数的实现
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimeClassTemporalQueryTest</span> <span class="token keyword">implements</span> <span class="token class-name">TemporalQuery</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">queryFrom</span><span class="token punctuation">(</span><span class="token class-name">TemporalAccessor</span> temporal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. TemporalAccessor时localDate和localDateTime的顶级父接口,相当于localDate就是这个接口的实现类.将这个参数转换为LocalDate使用</span>
        <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>temporal<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// now &gt; 2020.1.17</span>
        <span class="token comment">// 2. 封装当年劳动节的时间 年份: now 月份: 5 日: 1</span>
        <span class="token class-name">LocalDate</span> laborDay <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">MAY</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. 判断当前时间是否已过当年的劳动节,则laborDay加一年 (判断月份是否为5月)</span>
<span class="token comment">//        if (laborDay.getMonth()==Month.MAY)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>laborDay<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// isAfter() 现在的日期是否在当年5月1日之后</span>
            laborDay <span class="token operator">=</span> laborDay<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// plus() 年份+1</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 4. 通过ChronoUnit的between()计算两个时间之间的差值</span>
        <span class="token keyword">return</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">DAYS</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> laborDay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 计算当前时间距离下个劳动节多少天
     *
     * <span class="token keyword">@param</span> <span class="token parameter">args</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 封装当前时间</span>
        <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 调用now的query方法,然后将我们自己的实现类TimeClassTemporalQueryTest作为参数传入</span>
        <span class="token class-name">Long</span> day <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimeClassTemporalQueryTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前的时间是: &quot;</span> <span class="token operator">+</span> now <span class="token operator">+</span> <span class="token string">&quot;, 计算当前时间距离下个劳动节多少天: &quot;</span> <span class="token operator">+</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 当前的时间是: 2020-08-22计算当前时间距离下个劳动节多少天: 252</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-测试-1" tabindex="-1"><a class="header-anchor" href="#_5-测试-1" aria-hidden="true">#</a> 5. 测试</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> 测试 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * 计算任意时间与下一个圣诞季/儿童节/劳动节相差多少天?
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TemporalAdjusterAndTemporalQueryTest</span> <span class="token keyword">implements</span> <span class="token class-name">TemporalQuery</span><span class="token operator">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * <span class="token keyword">@return</span> 表示距离 圣诞季/儿童节/劳动节 三个节日的天数差额,0索引表示距离圣诞节,1索引表示距离儿童及,2索引表示劳动节
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">queryFrom</span><span class="token punctuation">(</span><span class="token class-name">TemporalAccessor</span> temporal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. 将temporal转换为localDate</span>
        <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>temporal<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. 封装当年的 圣诞季/儿童节/劳动节 的日期对象 年: now的year 月+日: 各自对应日期</span>
        <span class="token class-name">LocalDate</span> date1 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">DECEMBER</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LocalDate</span> date2 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">JUNE</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LocalDate</span> date3 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">MAY</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. 判断now是否超过了当 date1,date2,date3三个节日,如果超过则计算下一年的日期</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>date1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            date1 <span class="token operator">=</span> date1<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// +1</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            date2 <span class="token operator">=</span> date2<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// +1</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>date3<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            date3 <span class="token operator">=</span> date3<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// +1</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 4. 通过ChronoUnit的between()计算两个时间之间的差值</span>
        <span class="token class-name">Long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> longs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">DAYS</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> date1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">DAYS</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> date2<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">DAYS</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> date3<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> longs<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 计算任意时间与下一个圣诞季/儿童节/劳动节相差多少天?
     *
     * <span class="token keyword">@param</span> <span class="token parameter">args</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. 封装任意日期</span>
        <span class="token class-name">LocalDate</span> now <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">MAY</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. 调用now的query的方法查询三个节日的差值</span>
        <span class="token class-name">Long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> longs <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TemporalAdjusterAndTemporalQueryTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. 打印结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时期: &quot;</span> <span class="token operator">+</span> now <span class="token operator">+</span> <span class="token string">&quot;, 距离下一个圣诞节: &quot;</span> <span class="token operator">+</span> longs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;天&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时期: &quot;</span> <span class="token operator">+</span> now <span class="token operator">+</span> <span class="token string">&quot;, 距离下一个儿童节: &quot;</span> <span class="token operator">+</span> longs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;天&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时期: &quot;</span> <span class="token operator">+</span> now <span class="token operator">+</span> <span class="token string">&quot;, 距离下一个劳动节: &quot;</span> <span class="token operator">+</span> longs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;天&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 当前时期: 2020-05-30, 距离下一个圣诞节: 209天</span>
        <span class="token comment">// 当前时期: 2020-05-30, 距离下一个儿童节: 2天</span>
        <span class="token comment">// 当前时期: 2020-05-30, 距离下一个劳动节: 336天 </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="date和localdate转换" tabindex="-1"><a class="header-anchor" href="#date和localdate转换" aria-hidden="true">#</a> Date和LocalDate转换</h2><p>Java8中的java.time包中并没有提供太多的内置方式类转换java.util包中用预处理标准日期和时间的类,我们可以使用Instant类作为中介,也可以使用java.sql.Date和java.sql.Timestamp类提供的方法进行转换.</p><h3 id="_1-java-util-date类的转换" tabindex="-1"><a class="header-anchor" href="#_1-java-util-date类的转换" aria-hidden="true">#</a> 1. java.util.Date类的转换</h3><ol><li>使用Instant将java.util.Date转换为java.time.LocalDate</li></ol><p>java.time包中没有提供很多方式来进行直接转换,但是给之前的Date类,Calendar类在Java8都提供了一个新的方法: <code>toInstant</code>,可以将当前的对象,通过给Instant添加时区信息之后就可转换为LocalDate对象.</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code> <span class="token doc-comment comment">/**
     * java.util.Date ---&gt; LocalDate 对象之间的转换
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 初始化Date对象</span>
        <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 1. 将Date对象转换为Instant对象 toInstant</span>
        <span class="token class-name">Instant</span> instant <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. Date类中国包含日期和时间信息,但是并不提供时区信息,和Instant类一样,通过Instant类的atZone()添加时区信息进行转换</span>
        <span class="token class-name">ZonedDateTime</span> zonedDateTime <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. 将ZonedDateTime通过toLocalDate()转换为LocalDate对象</span>
        <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> zonedDateTime<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之前的Date对象: &quot;</span> <span class="token operator">+</span> date <span class="token operator">+</span> <span class="token string">&quot;, 转换之后LocalDate对象: &quot;</span> <span class="token operator">+</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 之前的Date对象: Sat Aug 22 16:14:27 CST 2020, 转换之后LocalDate对象: 2020-08-22</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Date类中包含日期和时间信息,但是并不提供时区信息,和Instant类一样,通过Instant类的atZone()添加时区信息进行转换</p></blockquote><ol start="2"><li>第二种方式</li></ol><p>将<code>java.util.Date -&gt; java.sql.Date -&gt; java.util.Date方法通过构造方法传入毫秒值 --&gt; toLocalDate()</code>.(毫秒是可以通过java.util.Date的getTime方法类获取)</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * java.util.Date ---&gt; LocalDate 对象之间的转换 2
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化Date对象</span>
    <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span> ud <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 1. 将 java.util.Date -&gt; java.sql.Date  -&gt; java.util.Date方法通过构造方法传入毫秒值 --&gt; toLocalDate()</span>
    <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span>Date</span> sd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span>Date</span><span class="token punctuation">(</span>ud<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> sd<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之前的java.util.Date对象: &quot;</span><span class="token operator">+</span> ud<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之前的java.sql.Date对象: &quot;</span><span class="token operator">+</span> sd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之后的LocalDate对象: &quot;</span><span class="token operator">+</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 之前的java.util.Date对象: Sat Aug 22 16:42:08 CST 2020</span>
    <span class="token comment">// 之前的java.sql.Date对象: 2020-08-22</span>
    <span class="token comment">// 之后的LocalDate对象: 2020-08-22</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-java-sql-date类的转换" tabindex="-1"><a class="header-anchor" href="#_2-java-sql-date类的转换" aria-hidden="true">#</a> 2. java.sql.Date类的转换</h3><p>java.sql.Date类中,通过传入的一个毫秒值对象进行初始化,提供直接转换为localDate的方法: <code>toLocalDate</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * java.sql.Date ---&gt; LocalDate
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 初始化一个java.sql.Date对象</span>
    <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span>Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span>Date</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// java.sql.Date类中自带转换为LocalDate的方法,toLocalDate();</span>
    <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之前的Date对象: &quot;</span> <span class="token operator">+</span> date <span class="token operator">+</span> <span class="token string">&quot;, 转换之后LocalDate对象: &quot;</span> <span class="token operator">+</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 之前的Date对象: 2020-08-22, 转换之后LocalDate对象: 2020-08-22</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-java-sql-timestamp类的转换" tabindex="-1"><a class="header-anchor" href="#_3-java-sql-timestamp类的转换" aria-hidden="true">#</a> 3. java.sql.Timestamp类的转换</h3><p>Timestamp是时间戳对象,通过传入的一个毫秒值对象进行初始化.提供直接转换为localDateTime的方法: <code>toLocalDateTime</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * java.sql.Timestamp ---&gt; LocalDate
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 初始化一个java.sql.timestamp对象</span>
    <span class="token class-name">Timestamp</span> timestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timestamp</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// java.sql.Timestamp类中自带转换为LocalDate的方法,toLocalDateTime();</span>
    <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> timestamp<span class="token punctuation">.</span><span class="token function">toLocalDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之前的Timestamp对象: &quot;</span> <span class="token operator">+</span> timestamp <span class="token operator">+</span> <span class="token string">&quot;, 转换之后LocalDate对象: &quot;</span> <span class="token operator">+</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 之前的Timestamp对象: 2020-08-22 16:31:17.165, 转换之后LocalDate对象: 2020-08-22T16:31:17.165</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-java-util-calendar类的转换" tabindex="-1"><a class="header-anchor" href="#_4-java-util-calendar类的转换" aria-hidden="true">#</a> 4. java.util.Calendar类的转换</h3><ol><li>Calendar转换为ZonedDateTime</li></ol><p>Calendar对象字java1.1开始提供了一个方法获取时区对象的方法,getTimeZone,要将Calendar对象转换为ZonedDateTime需要现获取到时区对象,自java8开始TImeZone类提供了一个方法可以获取到ZoneId,获取到ZoneID之后就可以初始化ZonedDateTime对象了,ZonedDateTime类有一个ofInstant方法,可以将Instant对象和ZonedId对象作为参数传入构造一个ZonedDateTime对象.</p><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td>Calendar.getInstance()</td><td>初始化Calendar对象</td></tr><tr><td>TimeZone getTimeZone()</td><td>获取时区</td></tr><tr><td>ZoneId toZoneId()</td><td>根据时区获取 ZoneId</td></tr><tr><td>ZonedDateTime ofInstant(Instant instant, ZoneId zone)</td><td>将一个Instant对象和ZoneId队形封装为ZonedDateTime</td></tr></tbody></table><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Calendar ---&gt; ZonedDateTime
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 1. 初始化Calendar对象 (Date和Calendar提供 转换为Instant的方法: toInstant)</span>
    <span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. Calendar对象自java1.1提供了一个方法用于获取时区对象getTimeZone(),要将Calendar对象转换为ZonedDateTime对象要现获取到市区对象</span>
    <span class="token class-name">TimeZone</span> timeZone <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. TimeZone从1.8开始提供一个方法(toZoneId)获取到ZoneId -&gt; 根据ZoneId构建ZonedDateTime对象</span>
    <span class="token class-name">ZoneId</span> zoneId <span class="token operator">=</span> timeZone<span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4. ZonedDateTime类有一个ofInstant方法,可以将一个Instant对象和ZoneId队形封装为ZonedDateTime</span>
    <span class="token class-name">ZonedDateTime</span> zonedDateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">ofInstant</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> zoneId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之前的Calendar对象: &quot;</span> <span class="token operator">+</span> calendar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之后的ZonedDateTime对象: &quot;</span> <span class="token operator">+</span> zonedDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 之前的Calendar对象: java.util.GregorianCalendar[time=1598087373926,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Shanghai&quot;,offset=28800000,dstSavings=0,useDaylight=false,transitions=19,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2020,MONTH=7,WEEK_OF_YEAR=34,WEEK_OF_MONTH=4,DAY_OF_MONTH=22,DAY_OF_YEAR=235,DAY_OF_WEEK=7,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=5,HOUR_OF_DAY=17,MINUTE=9,SECOND=33,MILLISECOND=926,ZONE_OFFSET=28800000,DST_OFFSET=0]</span>
    <span class="token comment">// 之后的ZonedDateTime对象: 2020-08-22T17:09:33.926+08:00[Asia/Shanghai]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Calendar转换为LocalDateTime</li></ol><p>Calendar对象可以获取到年月日时分秒的信息,这些信息可以作为LocalDateTime构造方法的参数</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Calendar ---&gt; LocalDateTime
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 初始化Calendar对象 (Date和Calendar提供 转换为Instant的方法: toInstant)</span>
    <span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 通过get()获取Calendar中封装的数</span>
    <span class="token keyword">int</span> year <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> month <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> day <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DAY_OF_MONTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> hor <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">HOUR_OF_DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> minute <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MINUTE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> second <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">SECOND</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 将上述结果作为LocalDateTime的of()的参数 注意: Calendar的月份 需要+1</span>
    <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> day<span class="token punctuation">,</span> hor<span class="token punctuation">,</span> minute<span class="token punctuation">,</span> second<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之前的Calendar对象: &quot;</span> <span class="token operator">+</span> calendar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之后的ZonedDateTime对象: &quot;</span> <span class="token operator">+</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 之前的Calendar对象: java.util.GregorianCalendar[time=1598088161179,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Shanghai&quot;,offset=28800000,dstSavings=0,useDaylight=false,transitions=19,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2020,MONTH=7,WEEK_OF_YEAR=34,WEEK_OF_MONTH=4,DAY_OF_MONTH=22,DAY_OF_YEAR=235,DAY_OF_WEEK=7,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=5,HOUR_OF_DAY=17,MINUTE=22,SECOND=41,MILLISECOND=179,ZONE_OFFSET=28800000,DST_OFFSET=0]</span>
    <span class="token comment">// 之后的ZonedDateTime对象: 2020-08-22T17:25:28</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-日期的解析与格式化datetimeformatter" tabindex="-1"><a class="header-anchor" href="#_5-日期的解析与格式化datetimeformatter" aria-hidden="true">#</a> 5. 日期的解析与格式化DateTimeFormatter</h3><p><code>SimpleDateFormat</code>类是线程不安全的,Java8提供了新的格式化类 <code>DateTimeFormatter</code>.</p><p><code>DateTimeFormatter: 提供了大量预定义格式化器,包括常量(如: ISO_LOCAL_DATE),模式字母(如: yyyy-MM-dd)以及本地化样式.</code></p><p><code>与SimpleDateFormat不同的是,新版本的日期/时间API的格式化与解析不需要创建转换器对象在进行转换了,通过日期时间对象的</code>parse/format<code>方法可以直接尽心转化.</code></p><ol><li>LocalDateTime的parse/format</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>  <span class="token comment">// override for Javadoc and performance</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span> formatter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>formatter<span class="token punctuation">,</span> <span class="token string">&quot;formatter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> formatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>format方法需要传入一个DateTimeFormatter对象.</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 对LocalDateTime进行格式化和解析
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 初始化LocalDateTime对象</span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// now可以直接调用format进行格式化</span>
    <span class="token class-name">String</span> s1 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token constant">ISO_DATE_TIME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s2 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token constant">ISO_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ISO_DATE_TIME格式化后: &quot;</span> <span class="token operator">+</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ISO_DATE格式化后: &quot;</span> <span class="token operator">+</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ISO_DATE_TIME格式化后: 2020-08-22T17:39:37.916</span>
    <span class="token comment">// ISO_DATE格式化后: 2020-08-22</span>

    <span class="token comment">// 解析parse</span>
    <span class="token class-name">LocalDateTime</span> localDateTime1 <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localDateTime1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2020-08-22T17:41:06.634</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>DateTimeFormatter的ofLocalizedDate()</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">DateTimeFormatter</span> <span class="token function">ofLocalizedDate</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span> dateStyle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>dateStyle<span class="token punctuation">,</span> <span class="token string">&quot;dateStyle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DateTimeFormatterBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendLocalized</span><span class="token punctuation">(</span>dateStyle<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">toFormatter</span><span class="token punctuation">(</span><span class="token class-name">ResolverStyle</span><span class="token punctuation">.</span><span class="token constant">SMART</span><span class="token punctuation">,</span> <span class="token class-name">IsoChronology</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此方法需要传入一个<code>FormStyle</code>类对象,查看后发现FormatStyle对象是一个枚举类:</p><table><thead><tr><th>值</th><th>描述</th></tr></thead><tbody><tr><td>FULL</td><td>全显示(年月日+星期)</td></tr><tr><td>LONG</td><td>全显示(年月日)</td></tr><tr><td>MEDIUM</td><td>缩略显示(没有年月日汉字)</td></tr><tr><td>SHORT</td><td>精简显示(精简年+月日)</td></tr></tbody></table><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * ofLocalizedDate()使用
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 初始化LocalDateTime对象</span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 通过DateTimeFormatter的ofLocalizedDate指定解析格式</span>
    <span class="token class-name">String</span> s1 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofLocalizedDate</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span><span class="token constant">FULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s2 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofLocalizedDate</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span><span class="token constant">LONG</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s3 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofLocalizedDate</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span><span class="token constant">MEDIUM</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s4 <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofLocalizedDate</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span><span class="token constant">SHORT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;FULL: &quot;</span> <span class="token operator">+</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;LONG: &quot;</span> <span class="token operator">+</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MEDIUM: &quot;</span> <span class="token operator">+</span> s3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SHORT: &quot;</span> <span class="token operator">+</span> s4<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// FULL: 2020年8月22日 星期六</span>
    <span class="token comment">// LONG: 2020年8月22日</span>
    <span class="token comment">// MEDIUM: 2020-8-22</span>
    <span class="token comment">// SHORT: 20-8-22</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意: 此种方式在不同时区的显示方式不一样,在其他时区不会显示中文,会根据当先系统默认的时区类进行区别显示.</p></blockquote><ol start="3"><li>自定义格式化日期</li></ol><p>除了系统自带的方式之外,也可以通过DateTimeFormatter类提供的orPattern方式创建自定义的格式化器,格式化的写法与之前使用到的SimpleDateFormat相同</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162852-320427.png" alt=""></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 自定义格式化器
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化LocalDateTime对象</span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> s <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy/MM/dd HH:mm:ss:SSS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;LocalDateTime格式化后的内容:  &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// LocalDateTime格式化后的内容:  2020/08/22 18:01:44:189</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>测试</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 将1998年3月18日17时19分28秒格式化为以下格式化和或或或或i:1998-03月-8---17:19分:28秒
 * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
 * 格式: yyyy-MM月-dd---HH:mm分:ss秒
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化LocalDateTime对象</span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1998</span><span class="token punctuation">,</span>
            <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">MARCH</span><span class="token punctuation">,</span>
            <span class="token number">18</span><span class="token punctuation">,</span>
            <span class="token number">17</span><span class="token punctuation">,</span>
            <span class="token number">19</span><span class="token punctuation">,</span>
            <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM月-dd---HH:mm分:ss秒&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之前: &quot;</span> <span class="token operator">+</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;之后: &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 之前: 1998-03-18T17:19:28</span>
    <span class="token comment">// 之后: 1998-03月-18---17:19分:28秒</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/chggx-knowlodge-vuepress/java/java-base/java8/2.Java8%E6%96%B0%E7%89%B9%E6%80%A7-Stream%E6%B5%81.html" class="" aria-label="Java8新特性-Stream API"><!--[--><!--]--> Java8新特性-Stream API <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/chggx-knowlodge-vuepress/assets/app.099ebd34.js" defer></script>
  </body>
</html>
