<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo/logo-0.2.5.1.png" type="image/png" sizes="16x16"><meta name="referrer" content="no-referrer"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,maximum-scale=2"><title>时序数据库-influxdb2.x 快速入门 | chggx Konwledge</title><meta name="description" content="晨光向的知识库">
    <link rel="modulepreload" href="/chggx-knowlodge-vuepress/assets/app.099ebd34.js"><link rel="modulepreload" href="/chggx-knowlodge-vuepress/assets/时序数据库-influxdb2.x 快速入门.html.2064eebc.js"><link rel="modulepreload" href="/chggx-knowlodge-vuepress/assets/时序数据库-influxdb2.x 快速入门.html.0f3fe687.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.7965f4da.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.2f2f1f94.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.ae2ce70a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.ac2b8553.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.e14c572b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.f78e20f6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.aa654337.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/时序数据库-influxdb1.x 快速入门.html.79d75c4c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/ElasticSearch7.6.1快速入门.html.4e5590bc.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Redis入门.html.72bd8315.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Redis数据类型.html.1dca25a7.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Redis事务.html.d6541a87.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.Redis实现乐观锁.html.0fccfc6b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.Redis-Jedis.html.e0339753.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.SpringBoot整合.html.4f6d0361.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.Redis的配置文件详解.html.3f71e5f7.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/Redis面试必备.html.565f37a4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SpringBoot基础.html.addd68ab.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.SpringBoot整合RabbitMQ.html.2130697f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SpringCloud.H基础.html.579c7733.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.SpringCloud Alibaba介绍.html.4df72d19.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/0.Java设计模式-内容介绍.html.4c64431b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Java设计模式-设计模式七大原则.html.f7724ac0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Java设计模式-UML类图.html.dd535d53.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Java设计模式-设计模式概述.html.578ab5c8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.Java设计模式-单例模式.html.8e694f61.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.Java设计模式-工厂模式.html.f2d2a3e8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.Java设计模式-原型模式.html.96389af1.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.Java设计模式-建造者模式.html.6c1164f4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/0.反射_注解.html.915ba1a7.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Spring基础.html.09d5c115.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.JVM-JVM与Java体系结构.html.20b97bab.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/10.JVM-对象的实例化内存布局与访问定位.html.e0452d45.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/12.JVM-执行引擎.html.09a5fcdb.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/13.JVM-StringTable.html.9c6fa66b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/14.JVM-垃圾回收概述.html.f24da324.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/15.JVM-垃圾回收相关算法.html.6c1eee28.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/16.JVM-垃圾回收相关概念.html.555ad5c8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.JVM-类加载子系统.html.d23d9307.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.JVM-运行时数据区概述及线程.html.73115a90.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.JVM-程序计数器(PC寄存器).html.eaa43a7a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.JVM-虚拟机栈.html.4a5da7d1.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.JVM-本地方法接口.html.6202cb8b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.JVM-本地方法栈.html.fbe12cb8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/8.JVM-堆.html.2a6f83f4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/9.JVM-方法区.html.6b2c2b0c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Java8新特性-Stream流.html.eec6de9c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Java8新特性-日期.html.b8efb717.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SVN基础.html.68038d62.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Git常用命令.html.44d60505.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.18b0ea6d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.ee108be9.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.0bf44c21.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.fdfeec7c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.f615de6f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.656af16d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/index.html.e6fe2efc.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/时序数据库-influxdb1.x 快速入门.html.2aa4ca42.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/ElasticSearch7.6.1快速入门.html.98f907c0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Redis入门.html.a0317cb6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Redis数据类型.html.f9096454.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Redis事务.html.a99f54a2.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.Redis实现乐观锁.html.fbfdb9f3.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.Redis-Jedis.html.75dfaa97.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.SpringBoot整合.html.b6c0ae73.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.Redis的配置文件详解.html.ed363f3e.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/Redis面试必备.html.cffad8a6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SpringBoot基础.html.e574f8aa.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.SpringBoot整合RabbitMQ.html.3234b0ce.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SpringCloud.H基础.html.16addf58.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.SpringCloud Alibaba介绍.html.954edee6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/0.Java设计模式-内容介绍.html.d767132a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Java设计模式-设计模式七大原则.html.b750374f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Java设计模式-UML类图.html.62fef168.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Java设计模式-设计模式概述.html.80544a2f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.Java设计模式-单例模式.html.1b36b209.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.Java设计模式-工厂模式.html.d9a560e8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.Java设计模式-原型模式.html.c16662fa.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.Java设计模式-建造者模式.html.4ffa1cf2.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/0.反射_注解.html.8c8a5821.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.Spring基础.html.8e907486.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.JVM-JVM与Java体系结构.html.def8831c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/10.JVM-对象的实例化内存布局与访问定位.html.c1bc7c3f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/12.JVM-执行引擎.html.a86974db.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/13.JVM-StringTable.html.592c3824.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/14.JVM-垃圾回收概述.html.c3c69a48.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/15.JVM-垃圾回收相关算法.html.8a87682e.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/16.JVM-垃圾回收相关概念.html.97355adf.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.JVM-类加载子系统.html.c51da7a2.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.JVM-运行时数据区概述及线程.html.e550b9a4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/4.JVM-程序计数器(PC寄存器).html.5f49930d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/5.JVM-虚拟机栈.html.fe4052e4.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/6.JVM-本地方法接口.html.2ca30aed.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/7.JVM-本地方法栈.html.ff1e6b43.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/8.JVM-堆.html.c6130241.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/9.JVM-方法区.html.60bc82f0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Java8新特性-Stream流.html.b14b4cf6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/3.Java8新特性-日期.html.30ca8164.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/1.SVN基础.html.d1d6cb97.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/2.Git常用命令.html.1a2dc50b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/404.html.3e165de1.js">
    <link rel="stylesheet" href="/chggx-knowlodge-vuepress/assets/style.19ddbf83.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/chggx-knowlodge-vuepress/" class=""><img class="logo" src="/chggx-knowlodge-vuepress/logo/logo-1.5.2.png" alt="chggx Konwledge"><span class="site-name can-hide">chggx Konwledge</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/chggx-knowlodge-vuepress/" class="" aria-label="  首页  "><!--[--><!--]-->   首页   <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  JAVA  "><span class="title">  JAVA  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  JAVA  "><span class="title">  JAVA  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/java-base/" class="" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/java-advence/" class="" aria-label="Java进阶"><!--[--><!--]--> Java进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/framework/" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/until/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  数据库  "><span class="title">  数据库  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  数据库  "><span class="title">  数据库  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/sql/mysql" class="" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/1.Redis%E5%85%A5%E9%97%A8.html" class="" aria-label="Redis入门"><!--[--><!--]--> Redis入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/2.Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="" aria-label="Redis数据类型"><!--[--><!--]--> Redis数据类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/3.Redis%E4%BA%8B%E5%8A%A1.html" class="" aria-label="Redis事务"><!--[--><!--]--> Redis事务 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/4.Redis%E5%AE%9E%E7%8E%B0%E4%B9%90%E8%A7%82%E9%94%81.html" class="" aria-label="Redis实现乐观锁"><!--[--><!--]--> Redis实现乐观锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/5.Redis-Jedis.html" class="" aria-label="Redis-Jedis"><!--[--><!--]--> Redis-Jedis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/6.SpringBoot%E6%95%B4%E5%90%88.html" class="" aria-label="SpringBoot整合"><!--[--><!--]--> SpringBoot整合 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/7.Redis%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3.html" class="" aria-label="Redis的配置文件详解"><!--[--><!--]--> Redis的配置文件详解 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/Redis%E9%9D%A2%E8%AF%95%E5%BF%85%E5%A4%87.html" class="" aria-label="Redis面试必备"><!--[--><!--]--> Redis面试必备 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>influxdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb1.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="时序数据库-influxdb1.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb1.x 快速入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="router-link-active router-link-exact-active router-link-active" aria-label="时序数据库-influxdb2.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb2.x 快速入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  搜索引擎  "><span class="title">  搜索引擎  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  搜索引擎  "><span class="title">  搜索引擎  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ElasticSearch</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/search/elasticSearch/ElasticSearch7.6.1%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="ElasticSearch7.6.1快速入门"><!--[--><!--]--> ElasticSearch7.6.1快速入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  中间件  "><span class="title">  中间件  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  中间件  "><span class="title">  中间件  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  部署运维  "><span class="title">  部署运维  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  部署运维  "><span class="title">  部署运维  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="虚拟机"><!--[--><!--]--> 虚拟机 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  问题汇总  "><span class="title">  问题汇总  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  问题汇总  "><span class="title">  问题汇总  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  前端  "><span class="title">  前端  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  前端  "><span class="title">  前端  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/vue/" class="" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/node/" class="" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/chggx-knowlodge-vuepress/" class="" aria-label="  首页  "><!--[--><!--]-->   首页   <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  JAVA  "><span class="title">  JAVA  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  JAVA  "><span class="title">  JAVA  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/java-base/" class="" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/java-advence/" class="" aria-label="Java进阶"><!--[--><!--]--> Java进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/framework/" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/java/until/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  数据库  "><span class="title">  数据库  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  数据库  "><span class="title">  数据库  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/sql/mysql" class="" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/1.Redis%E5%85%A5%E9%97%A8.html" class="" aria-label="Redis入门"><!--[--><!--]--> Redis入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/2.Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="" aria-label="Redis数据类型"><!--[--><!--]--> Redis数据类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/3.Redis%E4%BA%8B%E5%8A%A1.html" class="" aria-label="Redis事务"><!--[--><!--]--> Redis事务 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/4.Redis%E5%AE%9E%E7%8E%B0%E4%B9%90%E8%A7%82%E9%94%81.html" class="" aria-label="Redis实现乐观锁"><!--[--><!--]--> Redis实现乐观锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/5.Redis-Jedis.html" class="" aria-label="Redis-Jedis"><!--[--><!--]--> Redis-Jedis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/6.SpringBoot%E6%95%B4%E5%90%88.html" class="" aria-label="SpringBoot整合"><!--[--><!--]--> SpringBoot整合 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/7.Redis%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3.html" class="" aria-label="Redis的配置文件详解"><!--[--><!--]--> Redis的配置文件详解 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/redis/Redis%E9%9D%A2%E8%AF%95%E5%BF%85%E5%A4%87.html" class="" aria-label="Redis面试必备"><!--[--><!--]--> Redis面试必备 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>influxdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb1.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="时序数据库-influxdb1.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb1.x 快速入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="router-link-active router-link-exact-active router-link-active" aria-label="时序数据库-influxdb2.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb2.x 快速入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  搜索引擎  "><span class="title">  搜索引擎  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  搜索引擎  "><span class="title">  搜索引擎  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ElasticSearch</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/chggx-knowlodge-vuepress/search/elasticSearch/ElasticSearch7.6.1%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="ElasticSearch7.6.1快速入门"><!--[--><!--]--> ElasticSearch7.6.1快速入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  中间件  "><span class="title">  中间件  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  中间件  "><span class="title">  中间件  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  部署运维  "><span class="title">  部署运维  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  部署运维  "><span class="title">  部署运维  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="虚拟机"><!--[--><!--]--> 虚拟机 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  问题汇总  "><span class="title">  问题汇总  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  问题汇总  "><span class="title">  问题汇总  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/mq/mysql" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="  前端  "><span class="title">  前端  </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="  前端  "><span class="title">  前端  </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/vue/" class="" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/chggx-knowlodge-vuepress/node/" class="" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">influxdb <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb1.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="sidebar-item" aria-label="时序数据库-influxdb1.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb1.x 快速入门 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="时序数据库-influxdb2.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb2.x 快速入门 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_1-influxdb2-x介绍" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. influxdb2.x介绍"><!--[--><!--]--> 1. influxdb2.x介绍 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_1-介绍" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 介绍"><!--[--><!--]--> 1. 介绍 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_2-influxdb有三大特性" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. InfluxDB有三大特性："><!--[--><!--]--> 2. InfluxDB有三大特性： <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_3-特点" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 特点"><!--[--><!--]--> 3. 特点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_4-核心概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 核心概念"><!--[--><!--]--> 4. 核心概念 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_2-安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 安装"><!--[--><!--]--> 2. 安装 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_1-官网" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 官网:"><!--[--><!--]--> 1. 官网: <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_2-文档2-3" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 文档2.3："><!--[--><!--]--> 2. 文档2.3： <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_3-下载地址" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 下载地址:"><!--[--><!--]--> 3. 下载地址: <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_4-安装服务端" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 安装服务端"><!--[--><!--]--> 4. 安装服务端 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_5-安装windows-cli" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 安装Windows CLI"><!--[--><!--]--> 5. 安装Windows CLI <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_3-influxdb2-2与springboot集成" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. influxdb2.2与springboot集成"><!--[--><!--]--> 3. influxdb2.2与springboot集成 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_1-依赖" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 依赖"><!--[--><!--]--> 1. 依赖 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_2-yml配置文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. yml配置文件"><!--[--><!--]--> 2. yml配置文件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_3-influx实例化类" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. Influx实例化类"><!--[--><!--]--> 3. Influx实例化类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_4、influx配置类-启动spring工程时实例化influxbean" class="router-link-active router-link-exact-active sidebar-item" aria-label="4、Influx配置类: 启动Spring工程时实例化InfluxBean"><!--[--><!--]--> 4、Influx配置类: 启动Spring工程时实例化InfluxBean <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_5-数据库桶-表-实体类" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 数据库桶(表)实体类"><!--[--><!--]--> 5. 数据库桶(表)实体类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_6-实现类" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. 实现类"><!--[--><!--]--> 6. 实现类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_7-接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="7. 接口"><!--[--><!--]--> 7. 接口 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_8-使用-aplfox-测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="8. 使用 aplfox 测试"><!--[--><!--]--> 8. 使用 aplfox 测试 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb2.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html#_4-influxdb文档" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. Influxdb文档"><!--[--><!--]--> 4. Influxdb文档 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="时序数据库-influxdb2-x-快速入门" tabindex="-1"><a class="header-anchor" href="#时序数据库-influxdb2-x-快速入门" aria-hidden="true">#</a> 时序数据库-influxdb2.x 快速入门</h1><h2 id="_1-influxdb2-x介绍" tabindex="-1"><a class="header-anchor" href="#_1-influxdb2-x介绍" aria-hidden="true">#</a> 1. influxdb2.x介绍</h2><p>https://www.jianshu.com/p/268fca65f10e</p><blockquote><p>本文使用的是influxdb 2.2版本。</p></blockquote><h3 id="_1-介绍" tabindex="-1"><a class="header-anchor" href="#_1-介绍" aria-hidden="true">#</a> 1. 介绍</h3><p>InfluxDB是一个由InfluxData开发的开源时序型数据。它由Go写成，着力于高性能地查询与存储时序型数据。InfluxDB被广泛应用于存储系统的监控数据，IoT行业的实时数据等场景。</p><blockquote><p>2021年6月份，发布influxdb2.x，与前面版本结构有所差异</p></blockquote><ul><li>1.x 版本使用 influxQL 查询语言，2.x 和 1.8+（beta） 使用 flux 查询语法；相比V1 移除了database 和 RP，增加了bucket。</li><li>V2具有以下几个概念： timestamp、field key、field value、field set、tag key、tag value、tag set、measurement、series、point、bucket、bucket schema、organization</li><li>新增的概念： <ol><li>bucket：所有 InfluxDB 数据都存储在一个存储桶中。一个桶结合了数据库的概念和存储周期（时间每个数据点仍然存在持续时间）。一个桶属于一个组织</li><li>bucket schema：具有明确的schema-type的存储桶需要为每个度量指定显式架构。测量包含标签、字段和时间戳。显式模式限制了可以写入该度量的数据的形状。</li><li>organization：InfluxDB组织是一组用户的工作区。所有仪表板、任务、存储桶和用户都属于一个组织。</li></ol></li></ul><h3 id="_2-influxdb有三大特性" tabindex="-1"><a class="header-anchor" href="#_2-influxdb有三大特性" aria-hidden="true">#</a> 2. InfluxDB有三大特性：</h3><ul><li>Time Series （时间序列）：你可以使用与时间有关的相关函数（如最大，最小，求和等）</li><li>Metrics（度量）：你可以实时对大量数据进行计算</li><li>Eevents（事件）：它支持任意的事件数据</li></ul><h3 id="_3-特点" tabindex="-1"><a class="header-anchor" href="#_3-特点" aria-hidden="true">#</a> 3. 特点</h3><ul><li>为时间序列数据专门编写的自定义高性能数据存储。 TSM引擎具有高性能的写入和数据压缩</li><li>Golang编写，没有其它的依赖</li><li>提供简单、高性能的写入、查询 http api，Native HTTP API, 内置http支持，使用http读写</li><li>插件支持其它数据写入协议，例如 graphite、collectd、OpenTSDB</li><li>支持类sql查询语句</li><li>tags可以索引序列化，提供快速有效的查询</li><li>Retention policies自动处理过期数据</li><li>Continuous queries自动聚合，提高查询效率</li><li>schemaless(无结构)，可以是任意数量的列</li><li>Scalable可拓展</li><li>min, max, sum, count, mean,median 一系列函数，方便统计</li><li>Built-in Explorer 自带管理工具</li></ul><h3 id="_4-核心概念" tabindex="-1"><a class="header-anchor" href="#_4-核心概念" aria-hidden="true">#</a> 4. 核心概念</h3><h4 id="示例数据-解释某些概念用" tabindex="-1"><a class="header-anchor" href="#示例数据-解释某些概念用" aria-hidden="true">#</a> 示例数据（解释某些概念用）</h4><table><thead><tr><th>_time</th><th>_measurement</th><th>location</th><th>scientist</th><th>_field</th><th>_value</th></tr></thead><tbody><tr><td>2019-08-18T00:00:00Z</td><td>census</td><td>klamath</td><td>anderson</td><td>bees</td><td>23</td></tr><tr><td>2019-08-18T00:00:00Z</td><td>census</td><td>portland</td><td>mullen</td><td>ants</td><td>30</td></tr></tbody></table><ol><li><p>Organization organization 是一组用户的工作空间，一个组下用户可以创建多个bucket</p></li><li><p>bucket 所有的 influxdb数据都存储在bucket中，bucket结合了数据库和保存期限（每条数据会被保留的时间）的概念，类似于RDMS的database的概念。bucket属于一个organization</p></li><li><p>Measurement measurement是所有 tags fields 和时间的容器和RDMS的table的概念类似,是一个数据集的容器</p></li><li><p>Fields 数据属性包括field key 和 field value 分别存储在 _field和 _value当中, 并且一个measurement中必须包含至少一个filed</p></li><li><p>Field key field key 是一个代表属性名称的字段，在示例数据中bees和ants就是field key</p></li><li><p>Field value field value 是对应 field key 的值,在示例数据中在2019-08-18T00:00:00Z该时间点 bees的值为23，而ants的值为30</p></li><li><p>Field set field set 表示在同一时间内 所有fields的集合</p></li><li><p>Tags 和Fields类似，Tags也有 key value。但与Fields不同的是，field key存储在_field列中 而tag key则是本省就是列</p></li><li><p>tag key 和 tag value 即tag 的 key 和 value 在Line Protocl中有更为直观的体现</p></li><li><p>timestamp 所有存储在influxdb中的数据都有一个_time列用来记录时间，在磁盘中以纳秒之间戳存储，但客户端查询时返回的是格式化的更易读的 RFC3339 UTC时间格式</p></li></ol><blockquote><ol><li>对于Fields 和 Tags 简单来说他们都是一组键值对的集合。在存储形式上，field 的key 被存储在一个名为_field的列中,而tag 的key则是以列头的形式存在的,该列的内容即为tag value。可以从示例数据中直观的看出其区别。</li><li>另外值得注意的是，field 和 tag 都可以用来存储数据，但tag只能存储字符串类型数据，而filed既可以存储字符串类型又可以存储数值类型数据。</li><li>那么我是否可以在tag中存储字符串形式的数据呢？ 当然可以但其不可以参与flux查询中的mean() max() 等聚合函数的计算。所以field 和 tag 还是有着本质上的区别的。</li></ol></blockquote><h2 id="_2-安装" tabindex="-1"><a class="header-anchor" href="#_2-安装" aria-hidden="true">#</a> 2. 安装</h2><h3 id="_1-官网" tabindex="-1"><a class="header-anchor" href="#_1-官网" aria-hidden="true">#</a> 1. 官网:</h3><p>https://www.influxdata.com/</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622173746.png" alt=""></p><h3 id="_2-文档2-3" tabindex="-1"><a class="header-anchor" href="#_2-文档2-3" aria-hidden="true">#</a> 2. 文档<code>2.3</code>：</h3><p>https://docs.influxdata.com/influxdb/v2.3/</p><h3 id="_3-下载地址" tabindex="-1"><a class="header-anchor" href="#_3-下载地址" aria-hidden="true">#</a> 3. 下载地址:</h3><ol><li><p>地址： https://www.influxdata.com/get-influxdb/ <img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622173934.png" alt=""></p></li><li><p>下载页 <img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622174132.png" alt=""></p></li><li><p>点击release-notes， 进入: https://docs.influxdata.com/influxdb/v2.3/install/?t=Linux</p></li></ol><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622175515.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622175612.png" alt=""></p><blockquote><p>此处有官方文档的详细安装说明（包含mac、linux、windows）。下面有自己安装过程的记录。</p></blockquote><h3 id="_4-安装服务端" tabindex="-1"><a class="header-anchor" href="#_4-安装服务端" aria-hidden="true">#</a> 4. 安装服务端</h3><blockquote><p>influxdb2-2.2.0.x86_64.rpm</p></blockquote><p>参考：https://blog.csdn.net/l_15156024189/article/details/124726892</p><h4 id="_1-下载安装包" tabindex="-1"><a class="header-anchor" href="#_1-下载安装包" aria-hidden="true">#</a> 1. 下载安装包</h4><p>清华镜像： <a href="https://mirrors.tuna.tsinghua.edu.cn/influxdata/yum/" target="_blank" rel="noopener noreferrer">Index of /influxdata/yum/ | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>本文选择: influxdb2-2.2.0.x86_64.rpm</p></blockquote><h5 id="_1-centos" tabindex="-1"><a class="header-anchor" href="#_1-centos" aria-hidden="true">#</a> 1. centos</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 官网</span>
<span class="token function">wget</span> https://dl.influxdata.com/influxdb/releases/influxdb2-2.2.0-amd64.rpm

<span class="token comment"># 清华源</span>
<span class="token function">wget</span> https://mirrors.tuna.tsinghua.edu.cn/influxdata/yum/el7-x86_64/influxdb2-2.2.0.x86_64.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622220349.png" alt=""></p><blockquote><p>注意：wget下载https出现：<code>--no-check-certificate</code> 使用 wget --no-check-certificate https://mirrors.tuna.tsinghua.edu.cn/influxdata/yum/el7-x86_64/influxdb2-2.2.0.x86_64.rpm</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum localinstall <span class="token parameter variable">-y</span> influxdb2-2.2.0.x86_64.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622220247.png" alt=""></p><h5 id="_2-ubuntu" tabindex="-1"><a class="header-anchor" href="#_2-ubuntu" aria-hidden="true">#</a> 2. ubuntu</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Ubuntu/Debian</span>
<span class="token function">wget</span> https://dl.influxdata.com/influxdb/releases/influxdb2-2.2.0.x86_64.deb
<span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> influxdb2-2.2.0.x86_64.deb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-docker" tabindex="-1"><a class="header-anchor" href="#_3-docker" aria-hidden="true">#</a> 3. docker</h5><p>InfluxDB 2.x 初始化凭证 自动 InfluxDB 升级过程引导InfluxDB 2.x 所需的初始管理员用户、 组织和 存储桶。在 Docker 容器中设置以下环境变量 以提供设置凭据：</p><ul><li>DOCKER_INFLUXDB_INIT_USERNAME：为管理员用户设置的用户名（必需）。</li><li>DOCKER_INFLUXDB_INIT_PASSWORD：为管理员用户设置的密码（必需）。</li><li>DOCKER_INFLUXDB_INIT_ORG：为初始组织设置的名称（必需）。</li><li>DOCKER_INFLUXDB_INIT_BUCKET：为初始存储桶设置的名称（必需）。</li><li>DOCKER_INFLUXDB_INIT_RETENTION：初始存储桶保留期的持续时间。如果未设置，初始存储桶将永久保留数据。</li><li>DOCKER_INFLUXDB_INIT_ADMIN_TOKEN：与管理员用户关联的 API 令牌。如果没有设置，InfluxDB 会自动生成一个令牌。</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 拉取镜像
doker pull influxdb:2.3

# 安装
docker run -d -p 8086:8086 \
  -v influxdb:/var/lib/influxdb \
  -v influxdb2:/var/lib/influxdb2 \
  -e DOCKER_INFLUXDB_INIT_MODE=upgrade \
  -e DOCKER_INFLUXDB_INIT_USERNAME=my-user \
  -e DOCKER_INFLUXDB_INIT_PASSWORD=my-password \
  -e DOCKER_INFLUXDB_INIT_ORG=my-org \
  -e DOCKER_INFLUXDB_INIT_BUCKET=my-bucket \
  influxdb:2.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-配置" tabindex="-1"><a class="header-anchor" href="#_2-配置" aria-hidden="true">#</a> 2. 配置</h4><h5 id="配置文件目录" tabindex="-1"><a class="header-anchor" href="#配置文件目录" aria-hidden="true">#</a> 配置文件目录：</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 进入目录</span>
<span class="token builtin class-name">cd</span> /etc/influxdb/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622220732.png" alt=""></p><h5 id="默认配置如下" tabindex="-1"><a class="header-anchor" href="#默认配置如下" aria-hidden="true">#</a> 默认配置如下</h5><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cat config.toml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622221015.png" alt=""></p><h4 id="_3-启动-influxdb" tabindex="-1"><a class="header-anchor" href="#_3-启动-influxdb" aria-hidden="true">#</a> 3. 启动 InfluxDB</h4><blockquote><p>执行如下命令开机启动：</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 开机自启：</span>
systemctl <span class="token builtin class-name">enable</span> influxdb

<span class="token comment"># 启动：</span>
systemctl start influxdb

<span class="token comment"># 重启：</span>
systemctl restart influxdb

<span class="token comment"># 停止</span>
systemctl stop influxdb

<span class="token comment"># 查看状态</span>
systemctl status influxdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>启动方式</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 第一种
systemctl start influxdb

# 第二种
service influxdb start

# 第三种
influxdb run
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-验证" tabindex="-1"><a class="header-anchor" href="#_4-验证" aria-hidden="true">#</a> 4. 验证</h4><h5 id="_1-访问" tabindex="-1"><a class="header-anchor" href="#_1-访问" aria-hidden="true">#</a> 1. 访问</h5><p>访问：ip:8086 http://localhost:8086 http://192.168.47.129:8086</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622221829.png" alt=""></p><h5 id="_2-初始化用户设置" tabindex="-1"><a class="header-anchor" href="#_2-初始化用户设置" aria-hidden="true">#</a> 2. 初始化用户设置</h5><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622222558.png" alt=""></p><blockquote><p>初始化时用户名：influxdb，密码：influxdb</p></blockquote><p>从上到下为：账号（zhouhong）、密码(66668888)、确认密码(66668888)、组织(my_influxdb)、Buucket(Tom)；完了之后点击 Quick Start</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622222717.png" alt=""></p><h5 id="_3-首页" tabindex="-1"><a class="header-anchor" href="#_3-首页" aria-hidden="true">#</a> 3. 首页</h5><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622222933.png" alt=""></p><h5 id="_4-关于about" tabindex="-1"><a class="header-anchor" href="#_4-关于about" aria-hidden="true">#</a> 4. 关于about</h5><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622231949.png" alt=""></p><h5 id="_5-token令牌" tabindex="-1"><a class="header-anchor" href="#_5-token令牌" aria-hidden="true">#</a> 5. token令牌</h5><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622232406.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622233110.png" alt=""></p><h5 id="_6-初始化创建的bucket" tabindex="-1"><a class="header-anchor" href="#_6-初始化创建的bucket" aria-hidden="true">#</a> 6. 初始化创建的Bucket</h5><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220623205448.png" alt=""></p><h5 id="_7-设置bucket的保存策略" tabindex="-1"><a class="header-anchor" href="#_7-设置bucket的保存策略" aria-hidden="true">#</a> 7. 设置Bucket的保存策略</h5><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220623205636.png" alt=""></p><h3 id="_5-安装windows-cli" tabindex="-1"><a class="header-anchor" href="#_5-安装windows-cli" aria-hidden="true">#</a> 5. 安装Windows CLI</h3><p>文档地址：https://docs.influxdata.com/influxdb/v2.3/install/?t=Windows</p><blockquote><p>influxdb2-client-2.3.0-windows-amd64</p></blockquote><h4 id="_1-下载地址" tabindex="-1"><a class="header-anchor" href="#_1-下载地址" aria-hidden="true">#</a> 1. 下载地址</h4><p>地址: https://docs.influxdata.com/influxdb/v2.3/tools/influx-cli/</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622182457.png" alt=""></p><h4 id="_2-解压" tabindex="-1"><a class="header-anchor" href="#_2-解压" aria-hidden="true">#</a> 2. 解压</h4><ul><li>解压后的目录</li></ul><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622183337.png" alt=""></p><ul><li>文件内容</li></ul><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220622183415.png" alt=""></p><h4 id="_5-授予对influxcli-的网络访问权限。" tabindex="-1"><a class="header-anchor" href="#_5-授予对influxcli-的网络访问权限。" aria-hidden="true">#</a> 5. 授予对influxCLI 的网络访问权限。</h4><ol><li>influx首次使用CLI 时， Windows Defender显示以下消息：</li></ol><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">Windows</span> <span class="token value attr-value">Defender 防火墙已阻止此应用程序的某些功能。</span>
<span class="token key attr-name">要授予influxCLI</span> <span class="token value attr-value">所需的访问权限，请执行以下操作：</span>
<span class="token key attr-name">1.</span> <span class="token value attr-value">选择专用网络，例如我的家庭或工作网络。</span>
<span class="token key attr-name">2.</span> <span class="token value attr-value">单击允许访问。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>为了后面执行influx命令不需要每次都连接和验证token，可以执行如下命令创建一个配置：</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>influx config create --config-name influxdb2.conf \
--host-url http://192.168.47.129:8086 \
--org chggx \
--token ExGUyaInMuPVpp6vZa9RuuyGBhcywlOzT_fYkYdwiLT5FSJdENA1-PQ-EKWp2RFdZNl8r6yDQcLR8KH0Hw8KuQ== \
--active
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>--host-url: 服务端地址：http://192.168.47.129:8086</li><li>--org</li></ul><h2 id="_3-influxdb2-2与springboot集成" tabindex="-1"><a class="header-anchor" href="#_3-influxdb2-2与springboot集成" aria-hidden="true">#</a> 3. influxdb2.2与springboot集成</h2><p>参考： https://www.cnblogs.com/Tom-shushu/p/15830776.html https://blog.csdn.net/Calm_D/article/details/120646931[另外一种写法]</p><h3 id="_1-依赖" tabindex="-1"><a class="header-anchor" href="#_1-依赖" aria-hidden="true">#</a> 1. 依赖</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.influxdb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>influxdb-client-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.influxdb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>influxdb-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-yml配置文件" tabindex="-1"><a class="header-anchor" href="#_2-yml配置文件" aria-hidden="true">#</a> 2. yml配置文件</h3><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">influx</span><span class="token punctuation">:</span>
<span class="token key attr-name">  influxUrl</span><span class="token punctuation">:</span> <span class="token value attr-value">&#39;http://192.168.47.129:8086&#39;</span>
<span class="token key attr-name">  bucket</span><span class="token punctuation">:</span> <span class="token value attr-value">&#39;chggx&#39;</span>
<span class="token key attr-name">  org</span><span class="token punctuation">:</span> <span class="token value attr-value">&#39;chggx&#39;</span>
<span class="token key attr-name">  token</span><span class="token punctuation">:</span> <span class="token value attr-value">&#39;ExGUyaInMuPVpp6vZa9RuuyGBhcywlOzT_fYkYdwiLT5FSJdENA1-PQ-EKWp2RFdZNl8r6yDQcLR8KH0Hw8KuQ==&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-influx实例化类" tabindex="-1"><a class="header-anchor" href="#_3-influx实例化类" aria-hidden="true">#</a> 3. Influx实例化类</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Setter</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfluxBean</span><span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 数据库url地址
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> influxUrl<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 桶(表)
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> bucket<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 组织
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> org<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * token
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> token<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 数据库连接
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">InfluxDBClient</span> client<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 构造方法
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">InfluxBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> influxUrl<span class="token punctuation">,</span> <span class="token class-name">String</span> bucket<span class="token punctuation">,</span> <span class="token class-name">String</span> org<span class="token punctuation">,</span> <span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>influxUrl <span class="token operator">=</span> influxUrl<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bucket <span class="token operator">=</span> bucket<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>org <span class="token operator">=</span> org<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>token <span class="token operator">=</span> token<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>client <span class="token operator">=</span> <span class="token function">getClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
     * 获取连接
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">InfluxDBClient</span> <span class="token function">getClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            client  <span class="token operator">=</span> <span class="token class-name">InfluxDBClientFactory</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>influxUrl<span class="token punctuation">,</span> token<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> client<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
     * 写入数据(以秒为时间单位)
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">WriteApi</span> writeApi <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">getWriteApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            writeApi<span class="token punctuation">.</span><span class="token function">writeMeasurement</span><span class="token punctuation">(</span>bucket<span class="token punctuation">,</span> org<span class="token punctuation">,</span> <span class="token class-name">WritePrecision</span><span class="token punctuation">.</span><span class="token constant">NS</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
     * 读取数据
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FluxTable</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryTable</span><span class="token punctuation">(</span><span class="token class-name">String</span> fluxQuery<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">getQueryApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>fluxQuery<span class="token punctuation">,</span> org<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、influx配置类-启动spring工程时实例化influxbean" tabindex="-1"><a class="header-anchor" href="#_4、influx配置类-启动spring工程时实例化influxbean" aria-hidden="true">#</a> 4、Influx配置类: 启动Spring工程时实例化InfluxBean</h3><h4 id="_1-配置类" tabindex="-1"><a class="header-anchor" href="#_1-配置类" aria-hidden="true">#</a> 1. 配置类</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;influx&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfluxConfig</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * url地址
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> influxUrl<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 桶(表)
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> bucket<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 组织
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> org<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * token
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> token<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 初始化bean
     */</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;influx&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">InfluxBean</span> <span class="token class-name">InfluxBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">InfluxBean</span><span class="token punctuation">(</span>influxUrl<span class="token punctuation">,</span> bucket<span class="token punctuation">,</span> org<span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-配置类-写法二" tabindex="-1"><a class="header-anchor" href="#_2-配置类-写法二" aria-hidden="true">#</a> 2. 配置类（写法二）</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfluxConfig</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * url地址
     */</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${spring.influx.url}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> influxUrl<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 桶(表)
     */</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${spring.influx.bucket}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> bucket<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 组织
     */</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${spring.influx.org}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> org<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * token
     */</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${spring.influx.token}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> token<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 初始化bean
     */</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;influx&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">InfluxBean</span> <span class="token class-name">InfluxBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">InfluxBean</span><span class="token punctuation">(</span>influxUrl<span class="token punctuation">,</span> bucket<span class="token punctuation">,</span> org<span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-数据库桶-表-实体类" tabindex="-1"><a class="header-anchor" href="#_5-数据库桶-表-实体类" aria-hidden="true">#</a> 5. 数据库桶(表)实体类</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Measurement</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;influxEntity&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token annotation punctuation">@Setter</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfluxEntity</span><span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 值
     */</span>
    <span class="token annotation punctuation">@Column</span>
    <span class="token class-name">Integer</span> value<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 标签字段
     */</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>tag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> tag<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * 时间
     */</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>timestamp <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token class-name">Instant</span> time<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-实现类" tabindex="-1"><a class="header-anchor" href="#_6-实现类" aria-hidden="true">#</a> 6. 实现类</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>influxdb2x<span class="token punctuation">.</span>servie<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>influxdb2x<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">InfluxBean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>influxdb2x<span class="token punctuation">.</span>model<span class="token punctuation">.</span>param<span class="token punctuation">.</span></span><span class="token class-name">InsertParams</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>influxdb2x<span class="token punctuation">.</span>model<span class="token punctuation">.</span>restlt<span class="token punctuation">.</span></span><span class="token class-name">InfluxResult</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>influxdb2x<span class="token punctuation">.</span>servie<span class="token punctuation">.</span></span><span class="token class-name">InfluxService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>influxdb<span class="token punctuation">.</span>query<span class="token punctuation">.</span></span><span class="token class-name">FluxTable</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">Instant</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfluxServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">InfluxService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">InfluxBean</span> influxBean<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">InsertParams</span> insertParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        insertParams<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span><span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        influxBean<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>insertParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">InfluxResult</span><span class="token punctuation">&gt;</span></span> <span class="token function">queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 下面两个 private 方法 赋值给 list 查询对应的数据</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FluxTable</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token function">queryInfluxAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">InfluxResult</span><span class="token punctuation">&gt;</span></span> results <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">InfluxResult</span> influxResult <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InfluxResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                influxResult<span class="token punctuation">.</span><span class="token function">setCurrent</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;current&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                influxResult<span class="token punctuation">.</span><span class="token function">setEnergyUsed</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;energyUsed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                influxResult<span class="token punctuation">.</span><span class="token function">setPower</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;power&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                influxResult<span class="token punctuation">.</span><span class="token function">setVoltage</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;voltage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                influxResult<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;_time&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                results<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>influxResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> results<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 查询一小时内的InsertParams所有数据
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FluxTable</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryInfluxAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> query <span class="token operator">=</span> <span class="token string">&quot; from(bucket: \&quot;chggx\&quot;)&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;  |&gt; range(start: -60m, stop: now())&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;  |&gt; filter(fn: (r) =&gt; r[\&quot;_measurement\&quot;] == \&quot;influx_test\&quot;)&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;  |&gt; pivot( rowKey:[\&quot;_time\&quot;], columnKey: [\&quot;_field\&quot;], valueColumn: \&quot;_value\&quot; )&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> influxBean<span class="token punctuation">.</span><span class="token function">queryTable</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 根据某一个字段的值过滤(查询 用电量 energyUsed 为 322 的那条记录)
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FluxTable</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryFilterByEnergyUsed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> query <span class="token operator">=</span> <span class="token string">&quot; from(bucket: \&quot;chggx\&quot;)&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;  |&gt; range(start: -60m, stop: now())&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;  |&gt; filter(fn: (r) =&gt; r[\&quot;_measurement\&quot;] == \&quot;influx_test\&quot;)&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;  |&gt; filter(fn: (r) =&gt; r[\&quot;energyUsed\&quot;] == \&quot;322\&quot;)&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;  |&gt; pivot( rowKey:[\&quot;_time\&quot;], columnKey: [\&quot;_field\&quot;], valueColumn: \&quot;_value\&quot; )&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> influxBean<span class="token punctuation">.</span><span class="token function">queryTable</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-接口" tabindex="-1"><a class="header-anchor" href="#_7-接口" aria-hidden="true">#</a> 7. 接口</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfluxDbController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">InfluxService</span> influxService<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
      * 时许数据库插入测试
      * <span class="token keyword">@return</span>
      */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/inlfuxdb/insert&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseData</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">InsertParams</span> insertParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        influxService<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>insertParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SuccessResponseData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/inlfuxdb/queue&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseData</span> <span class="token function">queue</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">InsertParams</span> insertParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SuccessResponseData</span><span class="token punctuation">(</span>influxService<span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-使用-aplfox-测试" tabindex="-1"><a class="header-anchor" href="#_8-使用-aplfox-测试" aria-hidden="true">#</a> 8. 使用 aplfox 测试</h3><h4 id="_1-新增" tabindex="-1"><a class="header-anchor" href="#_1-新增" aria-hidden="true">#</a> 1. 新增</h4><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220623222718.png" alt=""></p><h4 id="_2-查询" tabindex="-1"><a class="header-anchor" href="#_2-查询" aria-hidden="true">#</a> 2. 查询</h4><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220625100238.png" alt=""></p><h2 id="_4-influxdb文档" tabindex="-1"><a class="header-anchor" href="#_4-influxdb文档" aria-hidden="true">#</a> 4. Influxdb文档</h2><blockquote><p>2.3 官网：https://docs.influxdata.com/influxdb/v2.3/</p></blockquote></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/chggx-knowlodge-vuepress/sql/influxdb/%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93-influxdb1.x%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" class="" aria-label="时序数据库-influxdb1.x 快速入门"><!--[--><!--]--> 时序数据库-influxdb1.x 快速入门 <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/chggx-knowlodge-vuepress/assets/app.099ebd34.js" defer></script>
  </body>
</html>
