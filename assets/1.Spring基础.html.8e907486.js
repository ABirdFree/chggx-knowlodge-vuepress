import{_ as i,r as t,o as u,c as r,b as n,d as s,e,a}from"./app.099ebd34.js";const d={},k=a(`<h1 id="spring\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#spring\u57FA\u7840" aria-hidden="true">#</a> Spring\u57FA\u7840</h1><h3 id="_1-spring\u4F18\u52BF" tabindex="-1"><a class="header-anchor" href="#_1-spring\u4F18\u52BF" aria-hidden="true">#</a> 1. spring\u4F18\u52BF</h3><ol><li><strong>\u65B9\u4FBF\u89E3\u8026\uFF0C\u7B80\u5316\u5F00\u53D1</strong><ul><li>\u901A\u8FC7 Spring \u63D0\u4F9B\u7684 IoC \u5BB9\u5668\uFF0C\u53EF\u4EE5\u5C06\u5BF9\u8C61\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\u4EA4\u7531 Spring \u8FDB\u884C\u63A7\u5236\uFF0C\u907F\u514D\u786C\u7F16\u7801\u6240\u9020\u6210\u7684\u8FC7\u5EA6\u7A0B\u5E8F\u8026\u5408\u3002\u7528\u6237\u4E5F\u4E0D\u5FC5\u518D\u4E3A\u5355\u4F8B\u6A21\u5F0F\u7C7B\u3001\u5C5E\u6027\u6587\u4EF6\u89E3\u6790\u7B49\u8FD9\u4E9B\u5F88\u5E95\u5C42\u7684\u9700\u6C42\u7F16\u5199\u4EE3\u7801\uFF0C\u53EF\u4EE5\u66F4\u4E13\u6CE8\u4E8E\u4E0A\u5C42\u7684\u5E94\u7528\u3002</li></ul></li><li><strong>AOP</strong> <strong>\u7F16\u7A0B\u7684\u652F\u6301</strong></li><li><strong>\u58F0\u660E\u5F0F\u4E8B\u52A1\u7684\u652F\u6301</strong></li><li><strong>\u65B9\u4FBF\u7A0B\u5E8F\u7684\u6D4B\u8BD5</strong></li><li><strong>\u65B9\u4FBF\u96C6\u6210\u5404\u79CD\u4F18\u79C0\u6846\u67B6</strong></li><li><strong>\u964D\u4F4E</strong> <strong>JavaEE API</strong> <strong>\u7684\u4F7F\u7528\u96BE\u5EA6</strong></li></ol><h3 id="_2-spring\u4F53\u7CFB\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#_2-spring\u4F53\u7CFB\u7ED3\u6784" aria-hidden="true">#</a> 2. spring\u4F53\u7CFB\u7ED3\u6784</h3><blockquote><h4 id="_1-spring5\u6A21\u5FEB\u7ED3\u6784\u56FE" tabindex="-1"><a class="header-anchor" href="#_1-spring5\u6A21\u5FEB\u7ED3\u6784\u56FE" aria-hidden="true">#</a> 1. spring5\u6A21\u5FEB\u7ED3\u6784\u56FE</h4></blockquote><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/spring001.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/spring002.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/spring003.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/spring004.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/spring005.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/spring006.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/spring007.png" alt=""></p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/spring008.png" alt=""></p><h3 id="_3-\u5165\u95E8jdbc\u64CD\u4F5C-\u7A0B\u5E8F\u89E3\u8026" tabindex="-1"><a class="header-anchor" href="#_3-\u5165\u95E8jdbc\u64CD\u4F5C-\u7A0B\u5E8F\u89E3\u8026" aria-hidden="true">#</a> 3. \u5165\u95E8JDBC\u64CD\u4F5C \u7A0B\u5E8F\u89E3\u8026</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Author: CHGGX
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> \u7A0B\u5E8F\u8026\u5408 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * \u8026\u5408: \u7A0B\u5E8F\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB
 *      1. \u7C7B\u4E4B\u95F4\u4F9D\u8D56
 *      2. \u65B9\u6CD5\u4E4B\u95F4\u7684\u4F9D\u8D56
 *  \u89E3\u8026: \u964D\u4F4E\u7A0B\u5E8F\u95F4\u7684\u4F9D\u8D56
 *
 *  \u5F00\u53D1\u8FC7\u7A0B\u5E94\u505A\u5230:
 *      \u7F16\u8BD1\u671F\u4E0D\u4F9D\u8D56,\u8FD0\u884C\u671F\u624D\u4F9D\u8D56
 *  \u89E3\u8026\u601D\u8DEF:
 *      1. \u4F7F\u7528\u53CD\u5C04\u6765\u521B\u5EFA\u5BF9\u8C61,\u907F\u514D\u4F7F\u7528new\u5173\u952E\u5B57
 *      2. \u901A\u8FC7\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\u6765\u83B7\u53D6\u8981\u521B\u5EFA\u7684\u5BF9\u8C61\u5168\u6743\u9650\u5B9A\u7C7B\u540D
 *
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcDemo01</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1. \u6CE8\u518C\u9A71\u52A8</span>
<span class="token comment">//        DriverManager.registerDriver(new com.mysql.jdbc.Driver());</span>

       <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;new com.mysql.jdbc.Driver()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u83B7\u53D6\u8FDE\u63A5</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>
                <span class="token string">&quot;jdbc:mysql://localhost:3306/spring_jdbc&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;root&quot;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u83B7\u53D6\u64CD\u4F5C\u6570\u636E\u5E93\u7684\u4E0E\u5904\u7406\u5BF9\u8C61</span>
        <span class="token class-name">PreparedStatement</span> pstm <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">&quot;select * from account&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. \u6267\u884CSQL,\u5F97\u5230\u7ED3\u679C</span>
        <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> pstm<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 5. \u904D\u5386\u7ED3\u679C</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 6. \u5173\u95ED\u6D41</span>
        resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pstm<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-\u89E3\u8026\u5408" tabindex="-1"><a class="header-anchor" href="#_4-\u89E3\u8026\u5408" aria-hidden="true">#</a> 4. \u89E3\u8026\u5408</h3><h4 id="_1-\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 1. \u914D\u7F6E\u6587\u4EF6</h4><ul><li>bean.properties</li></ul><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">accountService</span><span class="token punctuation">=</span><span class="token value attr-value">com.chggx.service.impl.AccountServiceImpl</span>
<span class="token key attr-name">accountDao</span><span class="token punctuation">=</span><span class="token value attr-value">com.chggx.dao.impl.AccountDaoImpl</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u4E1A\u52A1\u903B\u8F91" tabindex="-1"><a class="header-anchor" href="#_2-\u4E1A\u52A1\u903B\u8F91" aria-hidden="true">#</a> 2. \u4E1A\u52A1\u903B\u8F91</h4><h5 id="_1-dao\u5C42" tabindex="-1"><a class="header-anchor" href="#_1-dao\u5C42" aria-hidden="true">#</a> 1. dao\u5C42</h5><ul><li>AccountDao</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>AccountDaoImpl</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;save success...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-service" tabindex="-1"><a class="header-anchor" href="#_2-service" aria-hidden="true">#</a> 2. service</h5><ul><li>AccountService</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>AccountServiceImpl</p><p>\u4F7F\u7528factory\u5DE5\u5382\u7684\u65B9\u5F0F\u83B7\u53D6\u5BF9\u8C61</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u666E\u901A\u65B9\u5F0F (\u8026\u5408\u5EA6\u9AD8)
     */</span>
<span class="token comment">//    private final AccountDao accountDao = new AccountDaoImpl();</span>

    <span class="token doc-comment comment">/**
     * \u89E3\u8026\u5408
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">AccountDao</span> accountDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountDao</span><span class="token punctuation">)</span> <span class="token class-name">BeanFactory</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accountDao<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-accountcontroller" tabindex="-1"><a class="header-anchor" href="#_3-accountcontroller" aria-hidden="true">#</a> 3. AccountController</h5><ul><li>\u89E3\u8026\u5408 \u901A\u8FC7\u5DE5\u5382\u7684\u65B9\u5F0F\u521B\u5EFA\u5BF9\u8C61,\u5B9E\u73B0\u7A0B\u5E8F\u95F4\u7684\u89E3\u8026\u5408</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u666E\u901A\u65B9\u5F0F (\u8026\u5408\u5EA6\u9AD8)</span>
      <span class="token comment">/*  AccountService service = new AccountServiceImpl();
        service.saveAccount();*/</span>

        <span class="token comment">// \u89E3\u8026\u5408</span>
        <span class="token class-name">AccountService</span> service <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> <span class="token class-name">BeanFactory</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u5DE5\u5382\u6A21\u5F0F\u89E3\u8026" tabindex="-1"><a class="header-anchor" href="#_3-\u5DE5\u5382\u6A21\u5F0F\u89E3\u8026" aria-hidden="true">#</a> 3. \u5DE5\u5382\u6A21\u5F0F\u89E3\u8026</h4><ul><li>\u4F7F\u7528\u5355\u4F8B,\u6BCF\u4E2A\u5BF9\u8C61\u53EA\u521B\u5EFA\u4E00\u6B21</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Author: CHGGX
 * @Date: 2020/04/28 22:14
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> \u4E00\u4E2A\u521B\u5EFABean\u5BF9\u8C61\u7684\u5DE5\u5382(\u89E3\u8026\u5408) <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * Bean: \u5728\u8BA1\u7B97\u673A\u82F1\u8BED\u4E2D,\u6709\u53EF\u91CD\u7528\u7EC4\u4EF6\u7684\u542B\u4E49
 * JavaBean: java\u8BED\u8A00\u7F16\u5199\u7684\u53EF\u91CD\u7528\u7EC4\u4EF6
 * 1. JavaBean &gt; \u5B9E\u4F53\u7C7B
 * 2. \u5B83\u5C31\u662F\u521B\u5EFA\u6211\u4EEC\u7684service\u548Cdao\u5BF9\u8C61\u7684
 * \u89E3\u51B3:
 * 1. \u9700\u8981\u4E00\u4E2A\u914D\u7F6E\u6587\u4EF6\u6765\u914D\u7F6E\u6211\u4EEC\u7684service\u548Cdao
 * \u914D\u7F6E\u5185\u5BB9: 1) \u552F\u4E00\u6807\u8BC6=\u6743\u9650\u5B9A\u7C7B\u540D
 * 2. \u901A\u8FC7\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u5185\u5BB9,\u53CD\u5C04\u521B\u5EFA\u5BF9\u8C61
 * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
 * \u914D\u7F6E\u6587\u4EF6\u5F62\u5F0F:
 * 1. xml
 * 2. properties: \u63A8\u8350
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanFactory</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u5B9A\u4E49\u4E00\u4E2AProperties\u5BF9\u8C61
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Properties</span> props<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u5B9A\u4E49\u4E00\u4E2AMap,\u7528\u4E8E\u5B58\u653E\u6211\u4EEC\u8981\u521B\u5EFA\u7684\u5BF9\u8C61,\u6211\u4EEC\u79F0\u4E4B\u4E3A\u5BB9\u5668
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> beans<span class="token punctuation">;</span>

    <span class="token comment">// \u4F7F\u7528\u9759\u6001\u4EE3\u7801\u5757Properties\u5BF9\u8C61\u8D4B\u503C</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1. \u5B9E\u4F8B\u5316\u5BF9\u8C61</span>
            props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// \u83B7\u53D6&quot;bean.properties&quot;\u6587\u4EF6\u7684\u6D41\u5BF9\u8C61</span>
            <span class="token comment">// \u83B7\u53D6Class\u5BF9\u8C61 \u7C7B\u540D.class</span>
            <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token class-name">BeanFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;bean.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// \u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6</span>
            props<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//2. \u5B9E\u4F8B\u5316\u5BB9\u5668 [\u5355\u4F8B.\u53EA\u521B\u5EFA\u4E00\u6B21]</span>
            beans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 2.1 \u53D6\u51FA\u914D\u7F6E\u6587\u4EF6\u4E2D\u6240\u6709\u7684key</span>
            <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 2.2 \u904D\u5386\u679A\u4E3E</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>keys<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 2.2.1 \u53BB\u9664\u6BCF\u4E2Akey</span>
                <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> keys<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 2.2.2 \u6839\u636Ekey\u83B7\u53D6\u503C(\u7C7B\u7684\u6743\u9650\u5B9A\u7C7B\u540D)</span>
                <span class="token class-name">String</span> beanPath <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> props<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 2.3 \u53CD\u5C04\u521B\u5EFA\u5BF9\u8C61</span>
                <span class="token class-name">Object</span> value <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>beanPath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 2.4 \u628Akey\u548Cvalue\u5B58\u5165\u5BB9\u5668\u4E2D(Map\u96C6\u5408)</span>
                beans<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u9519\u8BEF error\u5B50\u7C7B</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ExceptionInInitializerError</span><span class="token punctuation">(</span><span class="token string">&quot;Properties init error !&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6539\u8FDB: Bean\u53EA\u521B\u5EFA\u4E00\u6B21,(\u521B\u5EFA\u7684\u5BF9\u8C61\u5B58\u5165\u5BB9\u5668\u4E2D.\u6B64\u5904\u6307Map\u96C6\u5408)
     *
     * <span class="token keyword">@param</span> <span class="token parameter">beanName</span> Bean\u7684\u540D\u79F0
     * <span class="token keyword">@return</span> Bean\u7684\u5BF9\u8C61
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u6839\u636EBean\u7684\u540D\u79F0\u4ECE\u5BB9\u5668\u4E2D\u83B7\u53D6Bean\u7684\u5BF9\u8C61</span>
        <span class="token keyword">return</span> beans<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6839\u636EBean\u7684\u540D\u79F0\u83B7\u53D6Bean\u7684\u5BF9\u8C61 [\u6B64\u5904\u662F\u591A\u4F8B,\u6BCF\u6B21\u90FD\u521B\u5EFA\u5BF9\u8C61]
     *
     * <span class="token keyword">@param</span> <span class="token parameter">beanName</span> Bean\u7684\u540D\u79F0
     * <span class="token keyword">@return</span> Bean\u7684\u5BF9\u8C61
     */</span>
<span class="token comment">//    public static Object getBean(String beanName) {</span>
<span class="token comment">//        Object bean = null;</span>
<span class="token comment">//        try {</span>
<span class="token comment">//            String beanPath = props.getProperty(beanName);</span>
<span class="token comment">//            // \u83B7\u53D6Class\u5BF9\u8C61 Class.forName(&quot;\u6743\u9650\u5B9A\u7C7B\u540D&quot;)</span>
<span class="token comment">//            // Constructor\u521B\u5EFA\u5BF9\u8C61  T newInstance(Object... initargs)</span>
<span class="token comment">//            bean = Class.forName(beanPath).newInstance();</span>
<span class="token comment">//        } catch (Exception e) {</span>
<span class="token comment">//            e.printStackTrace();</span>
<span class="token comment">//        }</span>
<span class="token comment">//        return bean;</span>
<span class="token comment">//    }</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_2-spring-ioc-\u4E0E-di" tabindex="-1"><a class="header-anchor" href="#_2-spring-ioc-\u4E0E-di" aria-hidden="true">#</a> 2. Spring IOC \u4E0E DI</h2><h3 id="_1-ioc-\u63A7\u5236\u53CD\u8F6C-inversion-of-control" tabindex="-1"><a class="header-anchor" href="#_1-ioc-\u63A7\u5236\u53CD\u8F6C-inversion-of-control" aria-hidden="true">#</a> 1. IOC \u63A7\u5236\u53CD\u8F6C [Inversion Of Control]</h3><h4 id="_1-\u63A7\u5236\u53CD\u8F6C\u89E3\u51B3\u8272\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_1-\u63A7\u5236\u53CD\u8F6C\u89E3\u51B3\u8272\u95EE\u9898" aria-hidden="true">#</a> 1. \u63A7\u5236\u53CD\u8F6C\u89E3\u51B3\u8272\u95EE\u9898</h4><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springIOC01.png" alt=""></p><p>\u539F\u6765\uFF1A \u6211\u4EEC\u5728\u83B7\u53D6\u5BF9\u8C61\u65F6\uFF0C\u90FD\u662F\u91C7\u7528 new \u7684\u65B9\u5F0F\u3002\u662F<strong>\u4E3B\u52A8\u7684</strong>\u3002</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springIOC02.png" alt=""></p><p>\u73B0\u5728\uFF1A\u6211\u4EEC\u83B7\u53D6\u5BF9\u8C61\u65F6\uFF0C\u540C\u65F6\u8DDF\u5DE5\u5382\u8981\uFF0C\u6709\u5DE5\u5382\u4E3A\u6211\u4EEC\u67E5\u627E\u6216\u8005\u521B\u5EFA\u5BF9\u8C61\u3002\u662F<strong>\u88AB\u52A8\u7684</strong>\u3002</p><p><code>\u8FD9\u79CD\u88AB\u52A8\u63A5\u6536\u7684\u65B9\u5F0F\u83B7\u53D6\u5BF9\u8C61\u7684\u601D\u60F3\u5C31\u662F\u63A7\u5236\u53CD\u8F6C\uFF0C\u5B83\u662F spring \u6846\u67B6\u7684\u6838\u5FC3\u4E4B\u4E00\u3002</code></p><blockquote><p>\u6211\u7684\u7406\u89E3:</p><p>1.\u4E4B\u524D\u6709\u81EA\u5DF1new\u521B\u5EFA\u5BF9\u8C61 [\u4E3B\u52A8]</p><p>2.\u5148\u5728\u7531\u5A92\u4EBA\u5E2E\u6211\u627E\u5BF9\u8C61 [\u88AB\u52A8]</p></blockquote><h4 id="_2-ioc\u7684\u6982\u8FF0-\u89E3\u8026\u5408" tabindex="-1"><a class="header-anchor" href="#_2-ioc\u7684\u6982\u8FF0-\u89E3\u8026\u5408" aria-hidden="true">#</a> 2. IOC\u7684\u6982\u8FF0 \u89E3\u8026\u5408</h4><ol><li><p><strong>\u63A7\u5236\u53CD\u8F6C</strong>: \u628A<strong>\u521B\u5EFA\u7684\u5BF9\u8C61\u6743\u5229\u4EA4\u7ED9\u6846\u67B6(\u5DE5\u5382)</strong>,\u662F\u6846\u67B6\u7684\u91CD\u8981\u7279\u6027,\u5E76\u975E\u9762\u5411\u5BF9\u8C61\u7F16\u7A0B\u7684\u4E13\u7528\u672F\u8BED,\u5B83\u5305\u542B**\u4F9D\u8D56\u6CE8\u5165(DI)**\u548C\u4F9D\u8D56\u67E5\u8BE2</p></li><li><p><strong>\u660E\u786E</strong> <strong>ioc</strong> <strong>\u7684\u4F5C\u7528</strong>\uFF1A\u524A\u51CF\u8BA1\u7B97\u673A\u7A0B\u5E8F\u7684\u8026\u5408(\u89E3\u9664\u6211\u4EEC\u4EE3\u7801\u4E2D\u7684\u4F9D\u8D56\u5173\u7CFB)\u3002\u964D\u4F4E\u7A0B\u5E8F\u95F4\u7684\u8026\u5408(\u4F9D\u8D56\u5173\u7CFB)</p></li></ol><h3 id="_2-ioc\u5165\u95E8\u5E94\u7528" tabindex="-1"><a class="header-anchor" href="#_2-ioc\u5165\u95E8\u5E94\u7528" aria-hidden="true">#</a> 2. IOC\u5165\u95E8\u5E94\u7528</h3><h4 id="_1-\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#_1-\u4F9D\u8D56" aria-hidden="true">#</a> 1. \u4F9D\u8D56</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 2. \u914D\u7F6E\u6587\u4EF6</h4><ul><li>bean.xml</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/p<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
    https://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--1. \u628A\u5BF9\u8C61\u7684\u521B\u5EFA\u4EA4\u7ED9Spring\u6765\u7BA1\u7406--&gt;</span>
    <span class="token comment">&lt;!--accountService--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--accountDao--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.dao.impl.AccountDaoImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-applicationcontext\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_3-applicationcontext\u64CD\u4F5C" aria-hidden="true">#</a> 3. ApplicationContext\u64CD\u4F5C</h4><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springIOC03.png" alt=""></p><p><strong>ApplicationContext</strong>\u63A5\u53E3</p><ol><li><p><strong>ClassPathXmlApplicationContext</strong></p><ul><li>\u53EF\u4EE5\u52A0\u8F7D\u7C7B\u8DEF\u5F84\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6,\u8981\u6C42\u914D\u7F6E\u6587\u4EF6\u5FC5\u987B\u5728\u7C7B\u8DEF\u5F84\u4E0B,\u4E0D\u5728\u7684\u8BDD,\u52A0\u8F7D\u4E0D\u4E86.[<strong>\u63A8\u8350</strong>]</li></ul></li><li><p>FileSystemXmlApplicationContext</p><ul><li>\u5B83\u53EF\u4EE5\u52A0\u8F7D\u78C1\u76D8\u4EFB\u610F\u8DEF\u5F84\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6(\u5FC5\u987B\u6709\u8BBF\u95EE\u6743\u9650)</li></ul></li><li><p><strong>AnnotationConfigApplicationContext</strong></p><ul><li>\u5B83\u662F\u7528\u4E8E\u8BFB\u53D6\u6CE8\u89E3\u521B\u5EFA\u5BB9\u5668\u7684.</li></ul></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>   <span class="token doc-comment comment">/**
     * \u83B7\u53D6spring\u7684Ioc\u6838\u5FC3\u5BB9\u5668,\u5E76\u6839\u636Eid\u83B7\u53D6\u5BF9\u8C61
     * ApplicationContext:
     *  1. ClassPathXmlApplicationContext: \u53EF\u4EE5\u52A0\u8F7D\u7C7B\u8DEF\u5F84\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6,\u8981\u6C42\u914D\u7F6E\u6587\u4EF6\u5FC5\u987B\u5728\u7C7B\u8DEF\u5F84\u4E0B,\u4E0D\u5728\u7684\u8BDD,\u52A0\u8F7D\u4E0D\u4E86.[\u63A8\u8350]
     *  2. FileSystemXmlApplicationContext: \u5B83\u53EF\u4EE5\u52A0\u8F7D\u78C1\u76D8\u4EFB\u610F\u8DEF\u5F84\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6(\u5FC5\u987B\u6709\u8BBF\u95EE\u6743\u9650)
     *  3. AnnotationConfigApplicationContext: \u5B83\u662F\u7528\u4E8E\u8BFB\u53D6\u6CE8\u89E3\u521B\u5EFA\u5BB9\u5668\u7684.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5151\u73B0</span>
<span class="token comment">//        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);</span>
        <span class="token class-name">ApplicationContext</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileSystemXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;D:\\\\java-code\\\\kuangjia\\\\spring\\\\spring\\\\spring_03_ioc\\\\src\\\\main\\\\resources\\\\bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61</span>
        <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AccountDao</span> accountDao <span class="token operator">=</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountDao&quot;</span><span class="token punctuation">,</span> <span class="token class-name">AccountDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>accountService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>accountDao<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-ioc\u6838\u5FC3\u5BB9\u5668\u7684\u4E24\u4E2A\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#_3-ioc\u6838\u5FC3\u5BB9\u5668\u7684\u4E24\u4E2A\u63A5\u53E3" aria-hidden="true">#</a> 3. IOC\u6838\u5FC3\u5BB9\u5668\u7684\u4E24\u4E2A\u63A5\u53E3</h3><h4 id="_1-applicationcontext-\u5355\u4F8B\u5BF9\u8C61\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_1-applicationcontext-\u5355\u4F8B\u5BF9\u8C61\u4F7F\u7528" aria-hidden="true">#</a> 1. ApplicationContext \u5355\u4F8B\u5BF9\u8C61\u4F7F\u7528</h4><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">ApplicationContext</span><span class="token punctuation">:</span> <span class="token value attr-value">[\u5355\u4F8B\u5BF9\u8C61\u4F7F\u7528 \u5982: service,dao]</span>
    \u5B83\u5728\u6784\u5EFA\u6838\u5FC3\u5BB9\u5668\u65F6,\u521B\u5EFA\u5BF9\u8C61\u7B56\u7565\u662F\u91C7\u7528\u7ACB\u5373\u52A0\u8F7D\u7684\u65B9\u5F0F,\u4E5F\u5C31\u662F\u8BF4,\u53EA\u8981\u4E00\u8BFB\u53D6\u5B8C\u914D\u7F6E\u6587\u4EF6(bean.xml)\u9A6C\u4E0A\u5C31\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E\u7684\u5BF9\u8C61(\u901A\u8FC7\u53CD\u5C04\u5B9E\u73B0)
<span class="token key attr-name">    \u5982</span><span class="token punctuation">:</span> <span class="token value attr-value">\u4EE5\u4E0B\u4EE3\u7801 [\u7ACB\u5373\u52A0\u8F7D]</span>
<span class="token key attr-name">        ApplicationContext</span> <span class="token value attr-value">ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;); \u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\u65F6\u5019,\u901A\u8FC7\u53CD\u5C04\u5C31\u521B\u5EFA\u5BF9\u8C61\u4E86</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-beanfactory-\u591A\u4F8B\u5BF9\u8C61\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_2-beanfactory-\u591A\u4F8B\u5BF9\u8C61\u4F7F\u7528" aria-hidden="true">#</a> 2. BeanFactory \u591A\u4F8B\u5BF9\u8C61\u4F7F\u7528</h4><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">BeanFactory</span><span class="token punctuation">:</span> <span class="token value attr-value">[\u591A\u4F8B\u5BF9\u8C61\u4F7F\u7528]</span>
    \u5B83\u5728\u6784\u5EFA\u6838\u5FC3\u5BB9\u5668\u65F6,\u521B\u5EFA\u5BF9\u8C61\u7684\u7B56\u7565\u91C7\u7528\u5EF6\u8FDF\u52A0\u8F7D\u7684\u65B9\u5F0F,\u4E5F\u5C31\u662F\u8BF4,\u4EC0\u4E48\u65F6\u5019\u6839\u636Eid(bean\u5BB9\u5668\u5BF9\u8C61\u7684\u552F\u4E00\u6807\u8BC6)\u83B7\u53D6\u5BF9\u8C61\u4E86,\u4EC0\u4E48\u65F6\u5019\u624D\u771F\u6B63\u7684\u521B\u5EFA\u5BF9\u8C61.
<span class="token key attr-name">    \u5982</span><span class="token punctuation">:</span> <span class="token value attr-value">\u4EE5\u4E0B\u4EE3\u7801 [\u5EF6\u8FDF\u52A0\u8F7D]</span>
<span class="token key attr-name">        BeanFactory</span> <span class="token value attr-value">factory = new XmlBeanFactory(resource); \u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6</span>
<span class="token key attr-name">        AccountService</span> <span class="token value attr-value">accountService = (AccountService) factory.getBean(&quot;accountService&quot;); \u6839\u636EID\u8C03\u7528\u5BF9\u8C61\u65F6\u5019,\u624D\u521B\u5EFA\u5BF9\u8C61</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_3-\u4F7F\u7528" aria-hidden="true">#</a> 3. \u4F7F\u7528</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
     * 1. \u83B7\u53D6spring\u7684Ioc\u6838\u5FC3\u5BB9\u5668,\u5E76\u6839\u636Eid\u83B7\u53D6\u5BF9\u8C61
     *  ApplicationContext:
     *      1). ClassPathXmlApplicationContext: \u53EF\u4EE5\u52A0\u8F7D\u7C7B\u8DEF\u5F84\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6,\u8981\u6C42\u914D\u7F6E\u6587\u4EF6\u5FC5\u987B\u5728\u7C7B\u8DEF\u5F84\u4E0B,\u4E0D\u5728\u7684\u8BDD,\u52A0\u8F7D\u4E0D\u4E86.[\u63A8\u8350]
     *      2). FileSystemXmlApplicationContext: \u5B83\u53EF\u4EE5\u52A0\u8F7D\u78C1\u76D8\u4EFB\u610F\u8DEF\u5F84\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6(\u5FC5\u987B\u6709\u8BBF\u95EE\u6743\u9650)
     *      3). AnnotationConfigApplicationContext: \u5B83\u662F\u7528\u4E8E\u8BFB\u53D6\u6CE8\u89E3\u521B\u5EFA\u5BB9\u5668\u7684.
     *  2. \u6838\u5FC3\u5BB9\u5668\u7684\u4E24\u4E2A\u63A5\u53E3\u5F15\u53D1\u51FA\u7684\u95EE\u9898:
     *  ApplicationContext: [\u5355\u4F8B\u5BF9\u8C61\u4F7F\u7528 \u5982: service,dao]
     *      \u5B83\u5728\u6784\u5EFA\u6838\u5FC3\u5BB9\u5668\u65F6,\u521B\u5EFA\u5BF9\u8C61\u7B56\u7565\u662F\u91C7\u7528\u7ACB\u5373\u52A0\u8F7D\u7684\u65B9\u5F0F,\u4E5F\u5C31\u662F\u8BF4,\u53EA\u8981\u4E00\u8BFB\u53D6\u5B8C\u914D\u7F6E\u6587\u4EF6(bean.xml)\u9A6C\u4E0A\u5C31\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E\u7684\u5BF9\u8C61(\u901A\u8FC7\u53CD\u5C04\u5B9E\u73B0)
     *      \u5982: \u4EE5\u4E0B\u4EE3\u7801 [\u7ACB\u5373\u52A0\u8F7D]
     *          ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;); \u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\u65F6\u5019,\u901A\u8FC7\u53CD\u5C04\u5C31\u521B\u5EFA\u5BF9\u8C61\u4E86
     *  BeanFactory: [\u591A\u4F8B\u5BF9\u8C61\u4F7F\u7528]
     *      \u5B83\u5728\u6784\u5EFA\u6838\u5FC3\u5BB9\u5668\u65F6,\u521B\u5EFA\u5BF9\u8C61\u7684\u7B56\u7565\u91C7\u7528\u5EF6\u8FDF\u52A0\u8F7D\u7684\u65B9\u5F0F,\u4E5F\u5C31\u662F\u8BF4,\u4EC0\u4E48\u65F6\u5019\u6839\u636Eid(bean\u5BB9\u5668\u5BF9\u8C61\u7684\u552F\u4E00\u6807\u8BC6)\u83B7\u53D6\u5BF9\u8C61\u4E86,\u4EC0\u4E48\u65F6\u5019\u624D\u771F\u6B63\u7684\u521B\u5EFA\u5BF9\u8C61.
     *      \u5982: \u4EE5\u4E0B\u4EE3\u7801 [\u5EF6\u8FDF\u52A0\u8F7D]
     *          BeanFactory factory = new XmlBeanFactory(resource); \u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6
     *          AccountService accountService = (AccountService) factory.getBean(&quot;accountService&quot;); \u6839\u636EID\u8C03\u7528\u5BF9\u8C61\u65F6\u5019,\u624D\u521B\u5EFA\u5BF9\u8C61
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// ============= ApplicationContext [\u7ACB\u5373\u52A0\u8F7D] =============</span>

<span class="token comment">//        // 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5BF9\u8C61 [\u63A8\u8350 ClassPathXmlApplicationContext\u65B9\u5F0F\u521B\u5EFA]</span>
<span class="token comment">//        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);</span>
<span class="token comment">////        ApplicationContext ac = new FileSystemXmlApplicationContext(&quot;D:\\\\java-code\\\\kuangjia\\\\spring\\\\spring\\\\spring_03_ioc\\\\src\\\\main\\\\resources\\\\bean.xml&quot;);</span>
<span class="token comment">//        // 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61 [service,dao\u90FD\u53EA\u521B\u5EFA\u4E00\u6B21,\u5355\u4F8B\u6A21\u5F0F]</span>
<span class="token comment">//        AccountService accountService = (AccountService) ac.getBean(&quot;accountService&quot;);</span>
<span class="token comment">//        AccountDao accountDao = ac.getBean(&quot;accountDao&quot;, AccountDao.class);</span>
<span class="token comment">//</span>
<span class="token comment">//        System.out.println(accountService);</span>
<span class="token comment">//        System.out.println(accountDao);</span>

        <span class="token comment">// ============= BeanFactory [\u5EF6\u8FDF\u52A0\u8F7D] =============</span>
        <span class="token comment">// 1. \u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6&quot;bean.xml&quot;</span>
        <span class="token class-name">ClassPathResource</span> resource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathResource</span><span class="token punctuation">(</span><span class="token string">&quot;bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6</span>
        <span class="token class-name">BeanFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XmlBeanFactory</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u6839\u636Eid\u521B\u5EFABean\u5BF9\u8C61</span>
        <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> factory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>accountService<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-spring\u5BF9bean\u7684\u7BA1\u7406\u7EC6\u8282" tabindex="-1"><a class="header-anchor" href="#_4-spring\u5BF9bean\u7684\u7BA1\u7406\u7EC6\u8282" aria-hidden="true">#</a> 4. spring\u5BF9bean\u7684\u7BA1\u7406\u7EC6\u8282</h3><h4 id="_1-\u521B\u5EFAbean\u7684\u4E09\u79CD\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-\u521B\u5EFAbean\u7684\u4E09\u79CD\u65B9\u5F0F" aria-hidden="true">#</a> 1. \u521B\u5EFABean\u7684\u4E09\u79CD\u65B9\u5F0F</h4><h5 id="_1-\u6784\u9020\u51FD\u6570\u521B\u5EFA\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#_1-\u6784\u9020\u51FD\u6570\u521B\u5EFA\u5BF9\u8C61" aria-hidden="true">#</a> 1. \u6784\u9020\u51FD\u6570\u521B\u5EFA\u5BF9\u8C61</h5><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u7B2C\u4E00\u79CD\u65B9\u5F0F</span><span class="token punctuation">:</span> <span class="token value attr-value">\u5728spring\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u4F7F\u7528bean\u6807\u7B7E,\u914D\u4EE5id\u548Cclass\u5C5E\u6027\u4E4B\u540E,\u4E14\u6CA1\u6709\u5176\u4ED6\u5C5E\u6027\u548C\u6807\u7B7E\u65F6,\u91C7\u7528\u7684\u5C31\u662F\u9ED8\u8BA4\u6784\u9020\u51FD\u6570\u521B\u5EFAbean\u5BF9\u8C61,\u6B64\u65F6\u5982\u679C\u7C7B\u4E2D\u6CA1\u6709\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570,\u5219\u5BF9\u8C61\u65E0\u6CD5\u521B\u5EFA</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/p<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
    https://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--
         spring\u5BF9bean\u7684\u7BA1\u7406\u7EC6\u8282:
             1. \u521B\u5EFABean\u7684\u4E09\u79CD\u65B9\u5F0F
             2. bean\u5BF9\u8C61\u7684\u4F5C\u7528\u8303\u56F4
             3. bean\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F
    --&gt;</span>
    <span class="token comment">&lt;!--\u521B\u5EFABean\u7684\u4E09\u79CD\u65B9\u5F0F--&gt;</span>
    <span class="token comment">&lt;!--
        \u7B2C\u4E00\u79CD\u65B9\u5F0F: \u4F7F\u7528\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570\u521B\u5EFA
                    \u5728spring\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u4F7F\u7528bean\u6807\u7B7E,\u914D\u4EE5id\u548Cclass\u5C5E\u6027\u4E4B\u540E,\u4E14\u6CA1\u6709\u5176\u4ED6\u5C5E\u6027\u548C\u6807\u7B7E\u65F6,\u91C7\u7528\u7684\u5C31\u662F\u9ED8\u8BA4\u6784\u9020\u51FD\u6570\u521B\u5EFAbean\u5BF9\u8C61,\u6B64\u65F6\u5982\u679C\u7C7B\u4E2D\u6CA1\u6709\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570,\u5219\u5BF9\u8C61\u65E0\u6CD5\u521B\u5EFA
     --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7C7B [\u6784\u9020\u51FD\u6570]</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u521B\u5EFAbean\u7684\u65B9\u5F0F: \u6784\u9020\u51FD\u6570
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">AccountServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AccountServiceImpl \u5BF9\u8C61\u521B\u5EFA\u4E86...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;service saveAccount() ......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-\u666E\u901A\u5DE5\u5382\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#_2-\u666E\u901A\u5DE5\u5382\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61" aria-hidden="true">#</a> 2. \u666E\u901A\u5DE5\u5382\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61</h5><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u7B2C\u4E8C\u79CD\u65B9\u5F0F</span><span class="token punctuation">:</span> <span class="token value attr-value">\u4F7F\u7528\u666E\u901A\u5DE5\u5382\u4E2D\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61(\u4F7F\u7528\u67D0\u4E2A\u7C7B\u4E2D\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61,\u5E76\u5B58\u5165spring\u5BB9\u5668)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u5DE5\u5382\u7C7B</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>factory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AccountService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">AccountServiceImpl</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> \u6A21\u62DF\u4E00\u4E2A\u5DE5\u5382\u7C7B <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * \u8BE5\u7C7B\u53EF\u80FD\u5B58\u5728\u4E8Ejar\u5305\u4E2D\u7684,\u6211\u4EEC\u65E0\u6CD5\u901A\u8FC7\u4FEE\u6539\u6E90\u7801\u7684\u65B9\u5F0F\u6765\u63D0\u4F9B\u9ED8\u8BA4\u6784\u9020\u51FD\u6570
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InstanceFactory</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6784\u9020\u51FD\u6570
     * <span class="token keyword">@return</span> AccountService
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">AccountService</span> <span class="token function">getAccountService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AccountServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/p<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
    https://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--1. \u628A\u5BF9\u8C61\u7684\u521B\u5EFA\u4EA4\u7ED9Spring\u6765\u7BA1\u7406--&gt;</span>
    <span class="token comment">&lt;!--
         spring\u5BF9bean\u7684\u7BA1\u7406\u7EC6\u8282:
             1. \u521B\u5EFABean\u7684\u4E09\u79CD\u65B9\u5F0F
             2. bean\u5BF9\u8C61\u7684\u4F5C\u7528\u8303\u56F4
             3. bean\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F
    --&gt;</span>
    <span class="token comment">&lt;!--\u521B\u5EFABean\u7684\u4E09\u79CD\u65B9\u5F0F--&gt;</span>
    <span class="token comment">&lt;!--
        \u7B2C\u4E00\u79CD\u65B9\u5F0F: \u4F7F\u7528\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570\u521B\u5EFA
                    \u5728spring\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u4F7F\u7528bean\u6807\u7B7E,\u914D\u4EE5id\u548Cclass\u5C5E\u6027\u4E4B\u540E,\u4E14\u6CA1\u6709\u5176\u4ED6\u5C5E\u6027\u548C\u6807\u7B7E\u65F6,
                    \u91C7\u7528\u7684\u5C31\u662F\u9ED8\u8BA4\u6784\u9020\u51FD\u6570\u521B\u5EFAbean\u5BF9\u8C61,\u6B64\u65F6\u5982\u679C\u7C7B\u4E2D\u6CA1\u6709\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570,\u5219\u5BF9\u8C61\u65E0\u6CD5\u521B\u5EFA
    &lt;bean id=&quot;accountService&quot; class=&quot;com.chggx.service.impl.AccountServiceImpl&quot;/&gt;
     --&gt;</span>
    <span class="token comment">&lt;!--\u7B2C\u4E8C\u79CD\u65B9\u5F0F: \u4F7F\u7528\u666E\u901A\u5DE5\u5382\u4E2D\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61(\u4F7F\u7528\u67D0\u4E2A\u7C7B\u4E2D\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61,\u5E76\u5B58\u5165spring\u5BB9\u5668)--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>instanceFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.factory.InstanceFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>instanceFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAccountService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-\u5DE5\u5382\u4E2D\u7684\u9759\u6001\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#_3-\u5DE5\u5382\u4E2D\u7684\u9759\u6001\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61" aria-hidden="true">#</a> 3. \u5DE5\u5382\u4E2D\u7684\u9759\u6001\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61</h5><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u7B2C\u4E09\u79CD\u65B9\u5F0F</span><span class="token punctuation">:</span> <span class="token value attr-value">\u4F7F\u7528\u5DE5\u5382\u4E2D\u7684\u9759\u6001\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61(\u4F7F\u7528\u67D0\u4E2A\u7C7B\u4E2D\u7684\u9759\u6001\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61,\u5E76\u5B58\u5165spring\u5BB9\u5668)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u5DE5\u5382\u7C7B</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>factory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AccountService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>chggx<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">AccountServiceImpl</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> \u6A21\u62DF\u4E00\u4E2A\u5DE5\u5382\u7C7B <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * \u8BE5\u7C7B\u53EF\u80FD\u5B58\u5728\u4E8Ejar\u5305\u4E2D\u7684,\u6211\u4EEC\u65E0\u6CD5\u901A\u8FC7\u4FEE\u6539\u6E90\u7801\u7684\u65B9\u5F0F\u6765\u63D0\u4F9B\u9ED8\u8BA4\u6784\u9020\u51FD\u6570
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticFactory</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6784\u9020\u51FD\u6570
     * <span class="token keyword">@return</span> AccountService
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">AccountService</span> <span class="token function">getAccountService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AccountServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/p<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
    https://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--1. \u628A\u5BF9\u8C61\u7684\u521B\u5EFA\u4EA4\u7ED9Spring\u6765\u7BA1\u7406--&gt;</span>
    <span class="token comment">&lt;!--
         spring\u5BF9bean\u7684\u7BA1\u7406\u7EC6\u8282:
             1. \u521B\u5EFABean\u7684\u4E09\u79CD\u65B9\u5F0F
             2. bean\u5BF9\u8C61\u7684\u4F5C\u7528\u8303\u56F4
             3. bean\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F
    --&gt;</span>
    <span class="token comment">&lt;!--\u521B\u5EFABean\u7684\u4E09\u79CD\u65B9\u5F0F--&gt;</span>
    <span class="token comment">&lt;!--
        \u7B2C\u4E00\u79CD\u65B9\u5F0F: \u4F7F\u7528\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570\u521B\u5EFA
                    \u5728spring\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u4F7F\u7528bean\u6807\u7B7E,\u914D\u4EE5id\u548Cclass\u5C5E\u6027\u4E4B\u540E,\u4E14\u6CA1\u6709\u5176\u4ED6\u5C5E\u6027\u548C\u6807\u7B7E\u65F6,
                    \u91C7\u7528\u7684\u5C31\u662F\u9ED8\u8BA4\u6784\u9020\u51FD\u6570\u521B\u5EFAbean\u5BF9\u8C61,\u6B64\u65F6\u5982\u679C\u7C7B\u4E2D\u6CA1\u6709\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570,\u5219\u5BF9\u8C61\u65E0\u6CD5\u521B\u5EFA
    &lt;bean id=&quot;accountService&quot; class=&quot;com.chggx.service.impl.AccountServiceImpl&quot;/&gt;
     --&gt;</span>

    <span class="token comment">&lt;!--\u7B2C\u4E8C\u79CD\u65B9\u5F0F: \u4F7F\u7528\u666E\u901A\u5DE5\u5382\u4E2D\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61(\u4F7F\u7528\u67D0\u4E2A\u7C7B\u4E2D\u7684\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61,\u5E76\u5B58\u5165spring\u5BB9\u5668)--&gt;</span>
   <span class="token comment">&lt;!--
    &lt;bean id=&quot;instanceFactory&quot; class=&quot;com.chggx.factory.InstanceFactory&quot;/&gt;
    &lt;bean id=&quot;accountService&quot; factory-bean=&quot;instanceFactory&quot; factory-method=&quot;getAccountService&quot;/&gt;
    --&gt;</span>

    <span class="token comment">&lt;!--\u7B2C\u4E09\u79CD\u65B9\u5F0F: \u4F7F\u7528\u5DE5\u5382\u4E2D\u7684\u9759\u6001\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61(\u4F7F\u7528\u67D0\u4E2A\u7C7B\u4E2D\u7684\u9759\u6001\u65B9\u6CD5\u521B\u5EFA\u5BF9\u8C61,\u5E76\u5B58\u5165spring\u5BB9\u5668)--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.factory.StaticFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAccountService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-bean\u5BF9\u8C61\u7684\u4F5C\u7528\u8303\u56F4-scope" tabindex="-1"><a class="header-anchor" href="#_2-bean\u5BF9\u8C61\u7684\u4F5C\u7528\u8303\u56F4-scope" aria-hidden="true">#</a> 2. bean\u5BF9\u8C61\u7684\u4F5C\u7528\u8303\u56F4 scope</h4><p>bean\u7684<strong>scope</strong>\u5C5E\u6027:</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u4F5C\u7528</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7528\u4E8E\u6307\u5B9Abean\u7684\u4F5C\u7528\u8303\u56F4</span>
<span class="token key attr-name">\u53D6\u503C</span><span class="token punctuation">:</span> <span class="token value attr-value">[\u5E38\u7528\u5355\u4F8B\u7684\u548C\u591A\u4F8B\u7684]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>singleton</td><td>\u5355\u4F8B\u7684(\u9ED8\u8BA4\u503C)</td></tr><tr><td>prototype</td><td>\u591A\u4F8B\u7684</td></tr><tr><td>request</td><td>\u4F5C\u7528\u4E8Eweb\u5E94\u7528\u7684\u8BF7\u6C42\u8303\u56F4</td></tr><tr><td>session</td><td>\u4F5C\u7528\u4E8Eweb\u5E94\u7528\u7684\u4F1A\u8BDD\u8303\u56F4</td></tr><tr><td>global-session</td><td>\u4F5C\u7528\u4E8E\u96C6\u7FA4\u73AF\u5883\u7684\u4F1A\u8BDD\u8303\u56F4(\u5168\u5C40\u4F1A\u8BDD\u8303\u56F4),\u5F53\u4E0D\u662F\u96C6\u7FA4\u73AF\u5883\u65F6,\u5B83\u5C31\u662Fsession</td></tr></tbody></table><ul><li>\u5E94\u7528</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prototype<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-bean\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F" tabindex="-1"><a class="header-anchor" href="#_3-bean\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F" aria-hidden="true">#</a> 3. bean\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F</h4><ul><li>\u5355\u4F8B\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F\u548C\u5BB9\u5668\u76F8\u540C</li></ul><h5 id="_1-\u5355\u4F8B-\u7ACB\u5373\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#_1-\u5355\u4F8B-\u7ACB\u5373\u52A0\u8F7D" aria-hidden="true">#</a> 1. \u5355\u4F8B ==\u7ACB\u5373\u52A0\u8F7D==</h5><ul><li>\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--bean\u5BF9\u8C61\u751F\u547D\u5468\u671F--&gt;</span>
<span class="token comment">&lt;!--
    \u5355\u4F8B\u5BF9\u8C61: [\u7ACB\u5373\u52A0\u8F7D]
        \u51FA\u751F: \u5F53\u5BB9\u5668\u521B\u5EFA\u65F6\u5BF9\u8C61\u521B\u5EFA
        \u6D3B\u7740: \u53EA\u8981\u5BB9\u5668\u8FD8\u5728,\u5BF9\u8C61\u4E00\u76F4\u5B58\u5728
        \u6B7B\u4EA1: \u5BB9\u5668\u9500\u6BC1,\u5BF9\u8C61\u6D88\u4EA1
       \u603B\u7ED3: \u5355\u4F8B\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F\u548C\u5BB9\u5668\u76F8\u540C
 --&gt;</span>
<span class="token comment">&lt;!--init-method=&quot;init&quot;: \u521D\u59CB\u5316 destroy-method=&quot;destroy&quot;: \u9500\u6BC1--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>singleton<span class="token punctuation">&quot;</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destroy<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4E1A\u52A1\u65B9\u6CD5</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u521B\u5EFAbean\u7684\u65B9\u5F0F: \u6784\u9020\u51FD\u6570
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">AccountServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AccountServiceImpl \u5BF9\u8C61\u521B\u5EFA\u4E86...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;service saveAccount() ......&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u521D\u59CB\u5316
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;object init...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u7ED3\u675F\u9500\u6BC1
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;object destroy...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8C03\u7528\u65B9\u6CD5</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// ============= ApplicationContext [\u7ACB\u5373\u52A0\u8F7D] =============</span>

        <span class="token comment">// 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5BF9\u8C61 [\u63A8\u8350 ClassPathXmlApplicationContext\u65B9\u5F0F\u521B\u5EFA]</span>
        <span class="token comment">// \u591A\u6001</span>
<span class="token comment">//        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);</span>
        <span class="token class-name">ClassPathXmlApplicationContext</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61 [service,dao\u90FD\u53EA\u521B\u5EFA\u4E00\u6B21,\u5355\u4F8B\u6A21\u5F0F]</span>
        <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u8C03\u7528\u65B9\u6CD5</span>
        accountService<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// \u624B\u52A8\u5173\u95ED\u5BB9\u5668destroy</span>
        ac<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6267\u884C\u7ED3\u679C</li></ul><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">AccountServiceImpl</span> <span class="token value attr-value">\u5BF9\u8C61\u521B\u5EFA\u4E86...</span>
<span class="token key attr-name">object</span> <span class="token value attr-value">init...</span>
<span class="token key attr-name">service</span> <span class="token value attr-value">saveAccount() ......</span>
<span class="token key attr-name">object</span> <span class="token value attr-value">destroy...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-\u591A\u4F8B-\u61D2\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#_2-\u591A\u4F8B-\u61D2\u52A0\u8F7D" aria-hidden="true">#</a> 2. \u591A\u4F8B ==\u61D2\u52A0\u8F7D==</h5><ul><li>\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--bean\u5BF9\u8C61\u751F\u547D\u5468\u671F--&gt;</span>
<span class="token comment">&lt;!--
    \u5355\u4F8B\u5BF9\u8C61: [\u7ACB\u5373\u52A0\u8F7D]
        \u51FA\u751F: \u5F53\u5BB9\u5668\u521B\u5EFA\u65F6\u5BF9\u8C61\u521B\u5EFA
        \u6D3B\u7740: \u53EA\u8981\u5BB9\u5668\u8FD8\u5728,\u5BF9\u8C61\u4E00\u76F4\u5B58\u5728
        \u6B7B\u4EA1: \u5BB9\u5668\u9500\u6BC1,\u5BF9\u8C61\u6D88\u4EA1
       \u603B\u7ED3: \u5355\u4F8B\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F\u548C\u5BB9\u5668\u76F8\u540C
    \u591A\u4F8B\u5BF9\u8C61: [\u61D2\u52A0\u8F7D]
        \u51FA\u751F: \u5F53\u6211\u4EEC\u4F7F\u7528\u5BF9\u8C61\u65F6spring\u6846\u67B6\u4E3A\u6211\u4EEC\u521B\u5EFA
        \u6D3B\u7740: \u5BF9\u8C61\u53EA\u8981\u662F\u5728\u4F7F\u7528\u8FC7\u7A0B\u4E2D\u5C31\u4E00\u76F4\u5B58\u5728
        \u6B7B\u4EA1: \u5F53\u5BF9\u8C61\u957F\u65F6\u95F4\u4E0D\u7528,\u4E14\u6CA1\u6709\u522B\u7684\u5BF9\u8C61\u5F15\u7528\u65F6,\u6709Java\u7684\u5783\u573E\u56DE\u6536\u5668\u56DE\u6536
 --&gt;</span>
<span class="token comment">&lt;!--init-method=&quot;init&quot;: \u521D\u59CB\u5316 destroy-method=&quot;destroy&quot;: \u9500\u6BC1--&gt;</span>
<span class="token comment">&lt;!--\u5355\u4F8B: \u7ACB\u5373\u52A0\u8F7D--&gt;</span>
<span class="token comment">&lt;!--    &lt;bean id=&quot;accountService&quot; class=&quot;com.chggx.service.impl.AccountServiceImpl&quot;
        scope=&quot;singleton&quot; init-method=&quot;init&quot; destroy-method=&quot;destroy&quot; /&gt;--&gt;</span>
<span class="token comment">&lt;!--\u591A\u4F8B: \u61D2\u52A0\u8F7D--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prototype<span class="token punctuation">&quot;</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destroy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7ED3\u679C</li></ul><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">AccountServiceImpl</span> <span class="token value attr-value">\u5BF9\u8C61\u521B\u5EFA\u4E86...</span>
<span class="token key attr-name">object</span> <span class="token value attr-value">init...</span>
<span class="token key attr-name">service</span> <span class="token value attr-value">saveAccount() ......</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-\u4F9D\u8D56\u6CE8\u5165-di" tabindex="-1"><a class="header-anchor" href="#_5-\u4F9D\u8D56\u6CE8\u5165-di" aria-hidden="true">#</a> 5. \u4F9D\u8D56\u6CE8\u5165 DI</h3><h4 id="_1-\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#_1-\u6982\u8FF0" aria-hidden="true">#</a> 1. \u6982\u8FF0</h4><ul><li><p>\u4F9D\u8D56\u6CE8\u5165: Dependency Injection</p></li><li><p>IOC\u4F5C\u7528: <strong>\u964D\u4F4E\u7A0B\u5E8F\u95F4\u7684\u8026\u5408(\u4F9D\u8D56\u5173\u7CFB)</strong></p></li><li><p>\u4F9D\u8D56\u5173\u7CFB\u7BA1\u7406: \u4EE5\u540E\u90FD\u4EA4\u7ED9spring\u7EF4\u62A4</p></li></ul><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name"> *</span> <span class="token value attr-value">\u5728\u5F53\u524D\u7C7B\u9700\u8981\u7528\u5230\u5176\u7C7B\u7684\u5BF9\u8C61,\u6709spring\u4E3A\u6211\u4EEC\u63D0\u4F9B,\u6211\u4EEC\u53EA\u9700\u8981\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u8BF4\u660E</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u4F9D\u8D56\u5173\u7CFB\u7684\u7EF4\u62A4: \u79F0\u4E4B\u4E3A <strong>\u4F9D\u8D56\u6CE8\u5165</strong>.</li></ul><h4 id="_2-\u6CE8\u5165\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_2-\u6CE8\u5165\u65B9\u5F0F" aria-hidden="true">#</a> 2. \u6CE8\u5165\u65B9\u5F0F</h4><h5 id="_1-\u6784\u9020\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_1-\u6784\u9020\u65B9\u6CD5" aria-hidden="true">#</a> 1. \u6784\u9020\u65B9\u6CD5</h5><ol><li>\u4F7F\u7528\u6807\u7B7E: constructor-arg</li><li>\u6807\u7B7E\u51FA\u73B0\u4F4D\u7F6E: bean\u6807\u7B7E\u7684\u5185\u90E8</li><li>\u6807\u7B7E\u4E2D\u7684\u5C5E\u6027</li></ol><table><thead><tr><th>\u5C5E\u6027</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>type</td><td>\u7528\u4E8E\u6307\u5B9A\u8981\u6CE8\u5165\u7684\u6570\u636E\u7684\u6570\u636E\u7C7B\u578B,\u8BE5\u6570\u636E\u7C7B\u578B\u4E5F\u662F\u6784\u9020\u51FD\u6570\u4E2D\u67D0\u4E2A\u6216\u67D0\u4E9B\u53C2\u6570\u7C7B\u578B</td></tr><tr><td>index</td><td>\u7528\u4E8E\u6307\u5B9A\u8981\u6CE8\u5165\u7684\u6570\u636E\u7ED9\u6784\u9020\u51FD\u6570\u4E2D\u6307\u5B9A\u6307\u5B9A\u7D22\u5F15\u4F4D\u7F6E\u7684\u53C2\u6570\u8D4B\u503C,\u6240\u4EE5\u5F97\u4F4D\u7F6E\u4ECE0\u5F00\u59CB</td></tr><tr><td>name</td><td>\u7528\u4E8E\u6307\u5B9A\u7ED9\u6784\u9020\u51FD\u6570\u4E2D\u540D\u79F0\u7684\u53C2\u6570\u8D4B\u503C [<strong>\u63A8\u8350</strong>]</td></tr><tr><td>value</td><td>\u7528\u4E8E\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B\u7684\u6570\u636E</td></tr><tr><td>ref</td><td>\u7528\u4E8E\u6307\u5B9A\u5176\u4ED6\u7684bean\u7C7B\u578B\u6570\u636E.\u5B83\u6307\u7684\u5C31\u662Fspring\u7684Ioc\u6838\u5FC3\u5BB9\u5668\u4E2D\u51FA\u73B0\u8FC7\u7684bean\u5BF9\u8C61</td></tr></tbody></table><ol start="4"><li>\u4F18\u52BF <ul><li>\u5728\u83B7\u53D6bean\u5BF9\u8C61\u65F6,\u6CE8\u5165\u6570\u636E\u662F\u5FC5\u987B\u64CD\u4F5C.\u5426\u5219\u5BF9\u8C61\u65E0\u6CD5\u521B\u5EFA\u6210\u529F</li></ul></li><li>\u5F0A\u7AEF <ul><li>\u6539\u53D8\u4E86bean\u5BF9\u8C61\u7684\u5B9E\u4F8B\u5316\u65B9\u5F0F,\u4F7F\u6211\u4EEC\u521B\u5EFA\u5BF9\u8C61\u65F6,\u5982\u679C\u7528\u4E0D\u5230\u8FD9\u4E9B\u6570\u636E,\u4E5F\u5FC5\u987B\u63D0\u4F9B</li></ul></li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/p<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
    https://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--1. \u628A\u5BF9\u8C61\u7684\u521B\u5EFA\u4EA4\u7ED9Spring\u6765\u7BA1\u7406--&gt;</span>
    <span class="token comment">&lt;!--
     spring\u4E2D\u7684\u4F9D\u8D56\u6CE8\u5165 DI:
        1. \u4F9D\u8D56\u6CE8\u5165: Dependency Injection
        2. IOC\u4F5C\u7528: \u964D\u4F4E\u7A0B\u5E8F\u95F4\u7684\u8026\u5408(\u4F9D\u8D56\u5173\u7CFB)
        3. \u4F9D\u8D56\u5173\u7CFB\u7BA1\u7406: \u4EE5\u540E\u90FD\u4EA4\u7ED9spring\u7EF4\u62A4
         * \u5728\u5F53\u524D\u7C7B\u9700\u8981\u7528\u5230\u5176\u7C7B\u7684\u5BF9\u8C61,\u6709spring\u4E3A\u6211\u4EEC\u63D0\u4F9B,\u6211\u4EEC\u53EA\u9700\u8981\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u8BF4\u660E
        4. \u4F9D\u8D56\u5173\u7CFB\u7684\u7EF4\u62A4: \u79F0\u4E4B\u4E3A \u4F9D\u8D56\u6CE8\u5165.
        5. \u4F9D\u8D56\u6CE8\u5165:
            5.1 \u80FD\u6CE8\u5165\u7684\u6570\u636E: [3\u7C7B]
                \u57FA\u672C\u7C7B\u578B
                \u5176\u4ED6bean\u7C7B\u578B(\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6216\u8005\u6CE8\u89E3\u914D\u7F6E\u8FC7\u5F97bean)
                \u590D\u6742\u7C7B\u578B/\u96C6\u5408\u7C7B\u578B
            5.2 \u6CE8\u5165\u7684\u65B9\u5F0F: [3\u79CD]
                \u7B2C\u4E00\u79CD: \u4F7F\u7528\u6784\u9020\u65B9\u6CD5
                \u7B2C\u4E8C\u79CD: \u4F7F\u7528set\u65B9\u6CD5\u63D0\u4F9B
                \u7B2C\u4E09\u79CD: \u4F7F\u7528\u6CE8\u89E3\u63D0\u4F9B
    --&gt;</span>

    <span class="token comment">&lt;!--
    \u6784\u9020\u51FD\u6570\u6CE8\u5165
        \u4F7F\u7528\u6807\u7B7E: constructor-arg
        \u6807\u7B7E\u51FA\u73B0\u4F4D\u7F6E: bean\u6807\u7B7E\u7684\u5185\u90E8
        \u6807\u7B7E\u4E2D\u7684\u5C5E\u6027
            type: \u7528\u4E8E\u6307\u5B9A\u8981\u6CE8\u5165\u7684\u6570\u636E\u7684\u6570\u636E\u7C7B\u578B,\u8BE5\u6570\u636E\u7C7B\u578B\u4E5F\u662F\u6784\u9020\u51FD\u6570\u4E2D\u67D0\u4E2A\u6216\u67D0\u4E9B\u53C2\u6570\u7C7B\u578B
            index: \u7528\u4E8E\u6307\u5B9A\u8981\u6CE8\u5165\u7684\u6570\u636E\u7ED9\u6784\u9020\u51FD\u6570\u4E2D\u6307\u5B9A\u6307\u5B9A\u7D22\u5F15\u4F4D\u7F6E\u7684\u53C2\u6570\u8D4B\u503C,\u6240\u4EE5\u5F97\u4F4D\u7F6E\u4ECE0\u5F00\u59CB
            name: \u7528\u4E8E\u6307\u5B9A\u7ED9\u6784\u9020\u51FD\u6570\u4E2D\u540D\u79F0\u7684\u53C2\u6570\u8D4B\u503C [\u63A8\u8350]
            ============= \u4EE5\u4E0A\u4E09\u4E2A\u7528\u4E8E\u6307\u5B9A\u7ED9\u6784\u9020\u51FD\u6570\u4E2D\u54EA\u4E2A\u53C2\u6570\u8D4B\u503C ===========
            value: \u7528\u4E8E\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B\u7684\u6570\u636E
            ref: \u7528\u4E8E\u6307\u5B9A\u5176\u4ED6\u7684bean\u7C7B\u578B\u6570\u636E.\u5B83\u6307\u7684\u5C31\u662Fspring\u7684Ioc\u6838\u5FC3\u5BB9\u5668\u4E2D\u51FA\u73B0\u8FC7\u7684bean\u5BF9\u8C61
        \u4F18\u52BF:
            \u5728\u83B7\u53D6bean\u5BF9\u8C61\u65F6,\u6CE8\u5165\u6570\u636E\u662F\u5FC5\u987B\u64CD\u4F5C.\u5426\u5219\u5BF9\u8C61\u65E0\u6CD5\u521B\u5EFA\u6210\u529F
        \u5F0A\u7AEF:
            \u6539\u53D8\u4E86bean\u5BF9\u8C61\u7684\u5B9E\u4F8B\u5316\u65B9\u5F0F,\u4F7F\u6211\u4EEC\u521B\u5EFA\u5BF9\u8C61\u65F6,\u5982\u679C\u7528\u4E0D\u5230\u8FD9\u4E9B\u6570\u636E,\u4E5F\u5FC5\u987B\u63D0\u4F9B
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u6784\u9020\u51FD\u6570\u6CE8\u5165<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--String\u53EF\u81EA\u52A8\u8F6C\u6362\u4E3AInteger--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--Date: \u9700\u8981\u914D\u7F6E\u65E5\u671F\u5BF9\u8C61--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>now<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6E\u4E00\u4E2A\u65E5\u671F\u5BF9\u8C61--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>now<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.util.Date<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6784\u9020\u65B9\u6CD5\u7C7B</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u5982\u679C\u662F\u7ECF\u5E38\u53D8\u5316\u7684\u6570\u636E,\u5E76\u4E0D\u9002\u7528\u4E0E\u6CE8\u5165\u65B9\u5F0F
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u4F9D\u8D56\u6CE8\u5165: \u4F7F\u7528\u6784\u9020\u65B9\u6CD5
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">AccountServiceImpl</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">,</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>birthday <span class="token operator">=</span> birthday<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;service saveAccount() ......&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> birthday<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5E94\u7528</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// ============= ApplicationContext [\u7ACB\u5373\u52A0\u8F7D] =============</span>

        <span class="token comment">// 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5BF9\u8C61 [\u63A8\u8350 ClassPathXmlApplicationContext\u65B9\u5F0F\u521B\u5EFA]</span>
        <span class="token comment">// \u591A\u6001</span>
<span class="token comment">//        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);</span>
        <span class="token class-name">ClassPathXmlApplicationContext</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ============= \u4F9D\u8D56\u6CE8\u5165\u65B9\u5F0F: \u6784\u9020\u65B9\u6CD5 ==============</span>
        <span class="token comment">// 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61 [service,dao\u90FD\u53EA\u521B\u5EFA\u4E00\u6B21,\u5355\u4F8B\u6A21\u5F0F]</span>
        <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u8C03\u7528\u65B9\u6CD5</span>
        accountService<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-set\u65B9\u6CD5-\u63A8\u8350-\u53EF\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u7684\u6784\u9020\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2-set\u65B9\u6CD5-\u63A8\u8350-\u53EF\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u7684\u6784\u9020\u65B9\u6CD5" aria-hidden="true">#</a> 2. set\u65B9\u6CD5 [\u63A8\u8350: \u53EF\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u7684\u6784\u9020\u65B9\u6CD5]</h5><ol><li>\u4F7F\u7528\u6807\u7B7E: property</li><li>\u6807\u7B7E\u51FA\u73B0\u4F4D\u7F6E: bean\u6807\u7B7E\u7684\u5185\u90E8</li><li>\u6807\u7B7E\u4E2D\u7684\u5C5E\u6027</li></ol><table><thead><tr><th>\u5C5E\u6027</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>name</td><td>\u7528\u4E8E\u6307\u5B9A\u7ED9\u6784\u9020\u51FD\u6570\u4E2D\u540D\u79F0\u7684\u53C2\u6570\u8D4B\u503C</td></tr><tr><td>value</td><td>\u7528\u4E8E\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B\u7684\u6570\u636E</td></tr><tr><td>ref</td><td>\u7528\u4E8E\u6307\u5B9A\u5176\u4ED6\u7684bean\u7C7B\u578B\u6570\u636E.\u5B83\u6307\u7684\u5C31\u662Fspring\u7684Ioc\u6838\u5FC3\u5BB9\u5668\u4E2D\u51FA\u73B0\u8FC7\u7684bean\u5BF9\u8C61</td></tr></tbody></table><ol start="4"><li><p>\u4F18\u52BF</p><ul><li>\u521B\u5EFA\u5BF9\u8C61\u65F6\u6CA1\u6709\u660E\u786E\u7684\u9650\u5236,\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570</li></ul></li><li><p>\u5F0A\u7AEF</p><ul><li>\u5982\u679C\u6709\u67D0\u4E2A\u6210\u5458\u90A3\u5FC5\u987B\u6709\u503C,\u5219\u83B7\u53D6\u5BF9\u8C61\u662F\u6709\u53EF\u80FDset\u65B9\u6CD5\u6CA1\u6709\u6267\u884C</li></ul></li></ol><ul><li>\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/p<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
    https://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--1. \u628A\u5BF9\u8C61\u7684\u521B\u5EFA\u4EA4\u7ED9Spring\u6765\u7BA1\u7406--&gt;</span>
    <span class="token comment">&lt;!--
     spring\u4E2D\u7684\u4F9D\u8D56\u6CE8\u5165 DI:
        1. \u4F9D\u8D56\u6CE8\u5165: Dependency Injection
        2. IOC\u4F5C\u7528: \u964D\u4F4E\u7A0B\u5E8F\u95F4\u7684\u8026\u5408(\u4F9D\u8D56\u5173\u7CFB)
        3. \u4F9D\u8D56\u5173\u7CFB\u7BA1\u7406: \u4EE5\u540E\u90FD\u4EA4\u7ED9spring\u7EF4\u62A4
         * \u5728\u5F53\u524D\u7C7B\u9700\u8981\u7528\u5230\u5176\u7C7B\u7684\u5BF9\u8C61,\u6709spring\u4E3A\u6211\u4EEC\u63D0\u4F9B,\u6211\u4EEC\u53EA\u9700\u8981\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u8BF4\u660E
        4. \u4F9D\u8D56\u5173\u7CFB\u7684\u7EF4\u62A4: \u79F0\u4E4B\u4E3A \u4F9D\u8D56\u6CE8\u5165.
        5. \u4F9D\u8D56\u6CE8\u5165:
            5.1 \u80FD\u6CE8\u5165\u7684\u6570\u636E: [3\u7C7B]
                \u57FA\u672C\u7C7B\u578B
                \u5176\u4ED6bean\u7C7B\u578B(\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6216\u8005\u6CE8\u89E3\u914D\u7F6E\u8FC7\u5F97bean)
                \u590D\u6742\u7C7B\u578B/\u96C6\u5408\u7C7B\u578B
            5.2 \u6CE8\u5165\u7684\u65B9\u5F0F: [3\u79CD]
                \u7B2C\u4E00\u79CD: \u4F7F\u7528\u6784\u9020\u65B9\u6CD5
                \u7B2C\u4E8C\u79CD: \u4F7F\u7528set\u65B9\u6CD5\u63D0\u4F9B
                \u7B2C\u4E09\u79CD: \u4F7F\u7528\u6CE8\u89E3\u63D0\u4F9B
    --&gt;</span>
    <span class="token comment">&lt;!--\u914D\u7F6E\u4E00\u4E2A\u65E5\u671F\u5BF9\u8C61--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>now<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.util.Date<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--
    set\u65B9\u6CD5\u6CE8\u5165 [\u63A8\u8350]
        \u4F7F\u7528\u6807\u7B7E: property
        \u6807\u7B7E\u51FA\u73B0\u4F4D\u7F6E: bean\u6807\u7B7E\u7684\u5185\u90E8
        \u6807\u7B7E\u4E2D\u7684\u5C5E\u6027
            name: \u7528\u4E8E\u6307\u5B9A\u6CE8\u5165\u662F\u6240\u8C03\u7528\u7684set\u65B9\u6CD5\u540D\u79F0
                set\u65B9\u6CD5\u540D\u79F0: setName ==== name
            value: \u7528\u4E8E\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B\u7684\u6570\u636E
            ref: \u7528\u4E8E\u6307\u5B9A\u5176\u4ED6\u7684bean\u7C7B\u578B\u6570\u636E.\u5B83\u6307\u7684\u5C31\u662Fspring\u7684Ioc\u6838\u5FC3\u5BB9\u5668\u4E2D\u51FA\u73B0\u8FC7\u7684bean\u5BF9\u8C61
        \u4F18\u52BF:
            \u521B\u5EFA\u5BF9\u8C61\u65F6\u6CA1\u6709\u660E\u786E\u7684\u9650\u5236,\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570
        \u5F0A\u7AEF:
            \u5982\u679C\u6709\u67D0\u4E2A\u6210\u5458\u90A3\u5FC5\u987B\u6709\u503C,\u5219\u83B7\u53D6\u5BF9\u8C61\u662F\u6709\u53EF\u80FDset\u65B9\u6CD5\u6CA1\u6709\u6267\u884C
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountService2Impl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>set\u65B9\u6CD5\u6CE8\u5165<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>21<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birthday<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>now<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>set\u65B9\u6CD5\u7C7B</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountService2Impl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u5982\u679C\u662F\u7ECF\u5E38\u53D8\u5316\u7684\u6570\u636E,\u5E76\u4E0D\u9002\u7528\u4E0E\u6CE8\u5165\u65B9\u5F0F
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u4F9D\u8D56\u6CE8\u5165: \u4F7F\u7528set\u65B9\u6CD5
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBirthday</span><span class="token punctuation">(</span><span class="token class-name">Date</span> birthday<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>birthday <span class="token operator">=</span> birthday<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;service saveAccount() ......&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> birthday<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5E94\u7528</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// ============= ApplicationContext [\u7ACB\u5373\u52A0\u8F7D] =============</span>

        <span class="token comment">// 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5BF9\u8C61 [\u63A8\u8350 ClassPathXmlApplicationContext\u65B9\u5F0F\u521B\u5EFA]</span>
        <span class="token comment">// \u591A\u6001</span>
<span class="token comment">//        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);</span>
        <span class="token class-name">ClassPathXmlApplicationContext</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ============= \u4F9D\u8D56\u6CE8\u5165\u65B9\u5F0F: set\u65B9\u6CD5 ==============</span>
        <span class="token comment">// 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61 [service,dao\u90FD\u53EA\u521B\u5EFA\u4E00\u6B21,\u5355\u4F8B\u6A21\u5F0F]</span>
        <span class="token class-name">AccountService</span> accountService2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u8C03\u7528\u65B9\u6CD5</span>
        accountService2<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-\u6CE8\u89E3\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_3-\u6CE8\u89E3\u65B9\u5F0F" aria-hidden="true">#</a> 3. \u6CE8\u89E3\u65B9\u5F0F</h5><ul><li>\u8BE6\u7EC6\u53C2\u8003 ioc \u6CE8\u89E3</li></ul><h4 id="_3-\u80FD\u6CE8\u5165\u7684\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_3-\u80FD\u6CE8\u5165\u7684\u6570\u636E" aria-hidden="true">#</a> 3. \u80FD\u6CE8\u5165\u7684\u6570\u636E</h4><h5 id="_1-\u57FA\u672C\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_1-\u57FA\u672C\u7C7B\u578B" aria-hidden="true">#</a> 1. \u57FA\u672C\u7C7B\u578B</h5><ul><li>\u53C2\u8003 <strong>\u6CE8\u5165\u65B9\u5F0F</strong> \u4E2D\u7684\u4F7F\u7528</li></ul><h5 id="_2-\u5176\u4ED6bean\u7C7B\u578B-\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6216\u8005\u6CE8\u89E3\u914D\u7F6E\u8FC7\u5F97bean" tabindex="-1"><a class="header-anchor" href="#_2-\u5176\u4ED6bean\u7C7B\u578B-\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6216\u8005\u6CE8\u89E3\u914D\u7F6E\u8FC7\u5F97bean" aria-hidden="true">#</a> 2. \u5176\u4ED6bean\u7C7B\u578B(\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6216\u8005\u6CE8\u89E3\u914D\u7F6E\u8FC7\u5F97bean)</h5><ul><li>\u53C2\u8003 <strong>\u6CE8\u5165\u65B9\u5F0F</strong> \u4E2D\u7684\u4F7F\u7528</li></ul><h5 id="_3-\u590D\u6742\u7C7B\u578B-\u96C6\u5408\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_3-\u590D\u6742\u7C7B\u578B-\u96C6\u5408\u7C7B\u578B" aria-hidden="true">#</a> 3. \u590D\u6742\u7C7B\u578B/\u96C6\u5408\u7C7B\u578B</h5><ul><li>\u7ED3\u8BBA: \u7ED3\u6784\u76F8\u540C,\u6807\u7B7E\u53EF\u4EE5\u4E92\u6362</li></ul><ol><li>\u914D\u7F6E\u6587\u4EF6</li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--\u590D\u6742\u7C7B\u578B\u7684\u6CE8\u5165/\u96C6\u5408\u7C7B\u578B\u7684\u6CE8\u5165--&gt;</span>
<span class="token comment">&lt;!--
    \u7528\u4E8Elist\u7ED3\u6784\u96C6\u5408\u6CE8\u5165\u7684\u6807\u7B7E: list,array,set
    \u7528\u4E8EMap\u7ED3\u6784\u96C6\u5408\u6CE8\u5165\u7684\u6807\u7B7E: map,prop
    * \u7ED3\u8BBA: \u7ED3\u6784\u76F8\u540C,\u6807\u7B7E\u53EF\u4EE5\u4E92\u6362
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountService3Impl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--1. \u6570\u7EC4--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myStr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>array1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>array2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>array3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--2. list\u96C6\u5408--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>list1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>list2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>list3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--3. set\u96C6\u5408--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mySet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>set1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>set2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>set3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--4. map\u96C6\u5408--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aaa<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bbb<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--5. map\u96C6\u5408--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myProps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prop1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prop2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>222<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u7C7B</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountService3Impl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u80FD\u6CE8\u5165\u7684\u6570\u636E\u7C7B\u578B:  \u590D\u6742\u7C7B\u578B/\u96C6\u5408\u7C7B\u578B
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> myStr<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> myList<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mySet<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> myMap<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Properties</span> myProps<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u4F9D\u8D56\u6CE8\u5165: \u4F7F\u7528set\u65B9\u6CD5
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMyStr</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> myStr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>myStr <span class="token operator">=</span> myStr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMyList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> myList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>myList <span class="token operator">=</span> myList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMySet</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mySet <span class="token operator">=</span> mySet<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMyMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> myMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>myMap <span class="token operator">=</span> myMap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMyProps</span><span class="token punctuation">(</span><span class="token class-name">Properties</span> myProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>myProps <span class="token operator">=</span> myProps<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>myStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>myList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mySet<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>myMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>myProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u5E94\u7528</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// ============= ApplicationContext [\u7ACB\u5373\u52A0\u8F7D] =============</span>

        <span class="token comment">// 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5BF9\u8C61 [\u63A8\u8350 ClassPathXmlApplicationContext\u65B9\u5F0F\u521B\u5EFA]</span>
        <span class="token comment">// \u591A\u6001</span>
<span class="token comment">//        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);</span>
        <span class="token class-name">ClassPathXmlApplicationContext</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ============= \u80FD\u6CE8\u5165\u7684\u6570\u636E\u7C7B\u578B: \u590D\u6742\u7C7B\u578B/\u96C6\u5408\u7C7B\u578B set\u65B9\u6CD5\u6CE8\u5165 ==============</span>
        <span class="token comment">// 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61 [service,dao\u90FD\u53EA\u521B\u5EFA\u4E00\u6B21,\u5355\u4F8B\u6A21\u5F0F]</span>
        <span class="token class-name">AccountService</span> accountService3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u8C03\u7528\u65B9\u6CD5</span>
        accountService3<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-ioc\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_6-ioc\u6CE8\u89E3" aria-hidden="true">#</a> 6. ioc\u6CE8\u89E3</h3><h4 id="_1-\u7528\u4E8E\u521B\u5EFA\u5BF9\u8C61\u7684\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_1-\u7528\u4E8E\u521B\u5EFA\u5BF9\u8C61\u7684\u6CE8\u89E3" aria-hidden="true">#</a> 1. \u7528\u4E8E\u521B\u5EFA\u5BF9\u8C61\u7684\u6CE8\u89E3</h4>`,150),v=a(`<table><thead><tr><th>\u6CE8\u89E3</th><th>\u4F5C\u7528</th><th>\u5C5E\u6027</th></tr></thead><tbody><tr><td>@Component</td><td>\u7528\u4E8E\u628A\u5F53\u524D\u7C7B\u4F5C\u4E3A\u5BF9\u8C61,\u5B58\u5165spring\u5BB9\u5668\u4E2D</td><td><strong>value</strong>:\u7528\u4E8E\u6307\u5B9Abean\u7684id.\u5F53\u6211\u4EEC\u4E0D\u5199\u65F6,\u5B83\u9ED8\u8BA4\u662F\u5F53\u524D\u7C7B\u540D,\u4E14\u9996\u5B57\u6BCD\u6539\u5C0F\u5199</td></tr><tr><td>@Controller</td><td>\u4E00\u822C\u7528\u4E8E\u8868\u73B0\u5C42</td><td>\u5C5E\u6027/\u4F5C\u7528\u540C\u4E0A</td></tr><tr><td>@Service</td><td>\u4E00\u822C\u7528\u4E8E\u4E1A\u52A1\u5C42</td><td>\u5C5E\u6027/\u4F5C\u7528\u540C\u4E0A</td></tr><tr><td>@Repository</td><td>\u4E00\u822C\u7528\u4E8E\u6301\u4E45\u5C42</td><td>\u5C5E\u6027/\u4F5C\u7528\u540C\u4E0A</td></tr></tbody></table><h5 id="_1-component" tabindex="-1"><a class="header-anchor" href="#_1-component" aria-hidden="true">#</a> 1. @Component</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> \u8D26\u6237\u4E1A\u52A1\u5C42\u5B9E\u73B0\u7C7B <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * xml\u914D\u7F6E
 *     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 *     \u5C5E\u6027\uFF1A id,class,scope,init-method,destroy-method,property,name,value|ref
 *  \u6CE8\u89E3
 *      1. \u7528\u4E8E\u521B\u5EFA\u5BF9\u8C61\u7684\u6CE8\u89E3:
 *          \u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E\u5B9E\u73B0\u7684\u529F\u80FD\u662F\u4E00\u6837\u7684
 *          @Component:
 *              \u4F5C\u7528: \u7528\u4E8E\u628A\u5F53\u524D\u7C7B\u4F5C\u4E3A\u5BF9\u8C61,\u5B58\u5165spring\u5BB9\u5668\u4E2D
 *              \u5C5E\u6027:
 *                  value: \u7528\u4E8E\u6307\u5B9Abean\u7684id.\u5F53\u6211\u4EEC\u4E0D\u5199\u65F6,\u5B83\u9ED8\u8BA4\u662F\u5F53\u524D\u7C7B\u540D,\u4E14\u9996\u5B57\u6BCD\u6539\u5C0F\u5199
 				\u884D\u751F\u6CE8\u89E3: \u4E0B\u9762\u4E09\u4E2A \u4E0E @Component \u7684\u4F5C\u7528\u548C\u5C5E\u6027\u4E00\u6A21\u4E00\u6837,\u662Fspring\u6846\u67B6\u4E3A\u6211\u4EEC\u63D0\u4F9B\u660E\u786E\u7684\u4E09\u5C42\u4F7F\u7528\u7684\u6CE8\u89E3,\u4F7F\u7528\u6211\u4EEC\u7684\u4E09\u5C42\u5BF9\u8C61\u66F4\u52A0\u6E05\u6670
 *                  @Controller: \u4E00\u822C\u7528\u4E8E\u8868\u73B0\u5C42
 *                  @Service: \u4E00\u822C\u7528\u4E8E\u4E1A\u52A1\u5C42
 *                  @Repository: \u4E00\u822C\u7528\u4E8E\u6301\u4E45\u5C42
 
 *      2. \u7528\u4E8E\u6CE8\u5165\u6570\u636E\u7684
 *          \u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u5199\u4E00\u4E2A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>\u7684\u6807\u7B7E\u662F\u4E00\u6837\u7684
 *      3. \u7528\u4E8E\u6539\u53D8\u4F5C\u7528\u8303\u56F4\u7684
 *          \u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u4F7F\u7528scope\u5C5E\u6027\u5B9E\u73B0\u7684\u529F\u80FD\u662F\u4E00\u6837\u7684
 *      4. \u548C\u751F\u547D\u5468\u671F\u6709\u5173\u7684
 *          \u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u4F7F\u7528init-method,destroy-method\u7684\u4F5C\u7528\u662F\u4E00\u6837\u7684
 */</span>
<span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;accountServiceImpl&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u666E\u901A\u65B9\u5F0F (\u8026\u5408\u5EA6\u9AD8)
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">AccountServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AccountServiceImpl \u5BF9\u8C61\u521B\u5EFA\u4E86...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accountDao<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u914D\u7F6E\u6587\u4EF6 (\u5F00\u542F\u5305\u626B\u63CF,\u4F7F\u7528\u6CE8\u89E3)</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u628A\u5BF9\u8C61\u7684\u521B\u5EFA\u4EA4\u7ED9Spring\u6765\u7BA1\u7406--&gt;</span>
    <span class="token comment">&lt;!--1. xml\u65B9\u5F0F\u5B9E\u73B0--&gt;</span>
    <span class="token comment">&lt;!--accountService--&gt;</span>
    <span class="token comment">&lt;!--&lt;bean id=&quot;accountService&quot; class=&quot;com.chggx.service.impl.AccountServiceImpl&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--accountDao--&gt;</span>
    <span class="token comment">&lt;!--&lt;bean id=&quot;accountDao&quot; class=&quot;com.chggx.dao.impl.AccountDaoImpl&quot;/&gt;--&gt;</span>

    <span class="token comment">&lt;!--2. \u6CE8\u89E3\u65B9\u5F0F\u5B9E\u73B0--&gt;</span>
    <span class="token comment">&lt;!--
    \u544A\u77E5spring\u5728\u521B\u5EFA\u5BB9\u5668\u65F6\u8981\u626B\u63CF\u7684\u5305,\u914D\u7F6E\u6240\u9700\u8981\u7684\u6807\u7B7E\u4E0D\u662F\u5728beans\u7684\u7EA6\u675F\u4E2D,\u800C\u662F\u4E00\u4E2A\u540D\u79F0\u4E3Acontent\u540D\u79F0\u7A7A\u95F4\u548C\u7EA6\u675F\u4E2D
    --&gt;</span>
    <span class="token comment">&lt;!--\u5305\u626B\u63CF--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5E94\u7528</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ============= ApplicationContext [\u7ACB\u5373\u52A0\u8F7D] =============</span>

        <span class="token comment">// 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5BF9\u8C61 [\u63A8\u8350 ClassPathXmlApplicationContext\u65B9\u5F0F\u521B\u5EFA]</span>
        <span class="token class-name">ApplicationContext</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61 [service,dao\u90FD\u53EA\u521B\u5EFA\u4E00\u6B21,\u5355\u4F8B\u6A21\u5F0F]</span>
        <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountServiceImpl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>accountService<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-\u884D\u751F\u6CE8\u89E3\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_2-\u884D\u751F\u6CE8\u89E3\u4F7F\u7528" aria-hidden="true">#</a> 2. \u884D\u751F\u6CE8\u89E3\u4F7F\u7528</h5><ul><li>dao</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;accountDao&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;save success...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>service</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

<span class="token comment">//    public AccountServiceImpl() {</span>
<span class="token comment">//        System.out.println(&quot;AccountServiceImpl \u5BF9\u8C61\u521B\u5EFA\u4E86...&quot;);</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accountDao<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5E94\u7528</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ============= ApplicationContext [\u7ACB\u5373\u52A0\u8F7D] =============</span>

        <span class="token comment">// 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5BF9\u8C61 [\u63A8\u8350 ClassPathXmlApplicationContext\u65B9\u5F0F\u521B\u5EFA]</span>
        <span class="token class-name">ApplicationContext</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61 [service,dao\u90FD\u53EA\u521B\u5EFA\u4E00\u6B21,\u5355\u4F8B\u6A21\u5F0F]</span>
        <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>accountService<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">AccountDao</span> accountDao <span class="token operator">=</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountDao&quot;</span><span class="token punctuation">,</span> <span class="token class-name">AccountDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>accountDao<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u7528\u4E8E\u6CE8\u5165\u6570\u636E\u7684" tabindex="-1"><a class="header-anchor" href="#_2-\u7528\u4E8E\u6CE8\u5165\u6570\u636E\u7684" aria-hidden="true">#</a> 2. \u7528\u4E8E\u6CE8\u5165\u6570\u636E\u7684</h4>`,15),m=a(`<table><thead><tr><th>\u6CE8\u89E3</th><th>\u4F5C\u7528</th><th>\u7C7B\u578B</th></tr></thead><tbody><tr><td>@Autowired</td><td>\u6CE8\u5165\u6570\u636E(\u6309\u7167\u7C7B\u578B)</td><td><strong>\u6CE8\u5165\u5176\u4ED6bean\u7C7B\u578B</strong></td></tr><tr><td>@Qualifier</td><td>\u6CE8\u5165\u6570\u636E(\u914D\u7F6E\u548C@Autowired\u89E3\u51B3<strong>\u591A\u7C7B\u578B</strong>\u6CE8\u5165\u95EE\u9898</td><td><strong>\u6CE8\u5165\u5176\u4ED6bean\u7C7B\u578B</strong></td></tr><tr><td>@Resource</td><td>\u6CE8\u5165\u6570\u636E(\u53D6\u4EE3\u4E0A\u9762\u4E24\u4E2A\u6CE8\u89E3,\u6839\u636Ebean\u7684id\u6CE8\u5165)</td><td><strong>\u6CE8\u5165\u5176\u4ED6bean\u7C7B\u578B</strong></td></tr><tr><td>@Value</td><td>\u6CE8\u5165\u57FA\u672C\u6570\u636E\u7C7B\u578B\u548CString\u7C7B\u578B</td><td>\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B</td></tr></tbody></table><h5 id="_1-autowired-\u81EA\u52A8\u6309\u7167\u7C7B\u578B\u6CE8\u5165" tabindex="-1"><a class="header-anchor" href="#_1-autowired-\u81EA\u52A8\u6309\u7167\u7C7B\u578B\u6CE8\u5165" aria-hidden="true">#</a> 1. @Autowired ==\u81EA\u52A8\u6309\u7167\u7C7B\u578B\u6CE8\u5165==</h5><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u4F5C\u7528</span><span class="token punctuation">:</span> <span class="token value attr-value">\u81EA\u52A8\u6309\u7167\u7C7B\u578B\u6CE8\u5165.</span>
<span class="token key attr-name">	  1.</span> <span class="token value attr-value">\u5BB9\u5668\u4E2D\u6709\u552F\u4E00\u7684\u4E00\u4E2Abean\u5BF9\u8C61\u7C7B\u578B\u548C\u8981\u6CE8\u5165\u7684\u53D8\u91CF\u7C7B\u578B\u5339\u914D,\u5C31\u53EF\u4EE5\u6CE8\u5165\u6210\u529F</span>
<span class="token key attr-name">      2.</span> <span class="token value attr-value">\u5982\u679Cioc\u5BB9\u5668\u4E2D\u6CA1\u6709\u4EFB\u4F55bean\u7684\u7C7B\u578B\u548C\u8981\u6CE8\u5165\u53D8\u91CF\u7C7B\u578B\u5339\u914D,\u5219\u62A5\u9519(\u4E0D\u80FD\u6CE8\u5165)</span>
<span class="token key attr-name">      3.</span> <span class="token value attr-value">\u5982\u679Cioc\u5BB9\u5668\u4E2D\u6709\u591A\u4E2A\u7C7B\u578B\u5339\u914D\u65F6,\u62A5\u9519,\u5F15\u51FA\u65B0\u7684\u6CE8\u89E3: @Qualifier</span>
<span class="token key attr-name">\u51FA\u73B0\u4F4D\u7F6E</span><span class="token punctuation">:</span> <span class="token value attr-value">\u53EF\u4EE5\u662F\u53D8\u91CF\u4E0A,\u4E5F\u53EF\u4EE5\u662F\u65B9\u6CD5\u4E0A</span>
<span class="token key attr-name">\u7EC6\u8282</span><span class="token punctuation">:</span> <span class="token value attr-value">\u4F7F\u7528\u6CE8\u89E3\u6CE8\u5165\u65F6,set\u65B9\u6CD5\u4E0D\u662F\u5FC5\u987B\u7684</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springIOC04.png" alt=""></p><ul><li>\u95EE\u9898</li></ul><p>\u5982\u679Cioc\u5BB9\u5668\u4E2D\u6709\u591A\u4E2A\u7C7B\u578B\u5339\u914D\u65F6 \u4F7F\u7528@Autowired\u600E\u6837\u64CD\u4F5C?</p><h5 id="_2-qualifier-\u89E3\u51B3-autowired\u591A\u7C7B\u578B\u5339\u914D" tabindex="-1"><a class="header-anchor" href="#_2-qualifier-\u89E3\u51B3-autowired\u591A\u7C7B\u578B\u5339\u914D" aria-hidden="true">#</a> 2. @Qualifier ==\u89E3\u51B3@Autowired\u591A\u7C7B\u578B\u5339\u914D==</h5><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u4F5C\u7528</span><span class="token punctuation">:</span> <span class="token value attr-value">\u5728\u81EA\u52A8\u6309\u7167\u7C7B\u4E2D\u6CE8\u5165\u7684\u57FA\u7840\u4E4B\u4E0A,\u5728\u6309\u7167\u540D\u79F0\u6CE8\u5165.</span>
      \u5B83\u5728\u7ED9\u7C7B\u6210\u5458\u6CE8\u5165\u65F6\u4E0D\u80FD\u5355\u72EC\u4F7F\u7528.\u4F46\u662F\u5728\u7ED9\u65B9\u6CD5\u53C2\u6570\u6CE8\u5165\u65F6\u53EF\u4EE5
<span class="token key attr-name">\u5C5E\u6027</span><span class="token punctuation">:</span>
<span class="token key attr-name">    value</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7528\u4E8E\u6307\u5B9A\u6CE8\u5165bean\u7684id</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>dao</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;accountDao2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDao2Impl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;save success 222...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;accountDao1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;save success 111...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>service\u8C03\u7528</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;accountDao1&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accountDao<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-resource-\u66FF\u6362\u4E0A\u8FB9\u4E24\u4E2A" tabindex="-1"><a class="header-anchor" href="#_3-resource-\u66FF\u6362\u4E0A\u8FB9\u4E24\u4E2A" aria-hidden="true">#</a> 3. @Resource ==\u66FF\u6362\u4E0A\u8FB9\u4E24\u4E2A==</h5><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name"> \u4F5C\u7528</span><span class="token punctuation">:</span> <span class="token value attr-value">\u76F4\u63A5\u6309\u7167bean\u7684id\u6CE8\u5165.\u53EF\u4EE5\u5355\u72EC\u4F7F\u7528</span>
<span class="token key attr-name"> \u5C5E\u6027</span><span class="token punctuation">:</span>
<span class="token key attr-name">    name</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7528\u4E8E\u6307\u5B9Abean\u7684id</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

<span class="token comment">//    @Autowired</span>
<span class="token comment">//    @Qualifier(value = &quot;accountDao1&quot;)</span>
    <span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;accountDao1&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

<span class="token comment">//    public AccountServiceImpl() {</span>
<span class="token comment">//        System.out.println(&quot;AccountServiceImpl \u5BF9\u8C61\u521B\u5EFA\u4E86...&quot;);</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accountDao<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-value-\u6CE8\u5165\u57FA\u672C\u7C7B\u578B\u548Cstring\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_4-value-\u6CE8\u5165\u57FA\u672C\u7C7B\u578B\u548Cstring\u7C7B\u578B" aria-hidden="true">#</a> 4. @Value ==\u6CE8\u5165\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B==</h5><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u4F5C\u7528</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7528\u4E8E\u6CE8\u5165\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B\u7684\u6570\u636E</span>
<span class="token key attr-name">\u5C5E\u6027</span><span class="token punctuation">:</span>
<span class="token key attr-name">   value</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7528\u4E8E\u6307\u5B9A\u6570\u636E\u7684\u503C,\u53EF\u4EE5\u4F7F\u7528spring\u4E2DSpEL(\u4E5F\u5C31\u662Fspring\u7684el\u8868\u8FBE\u5F0F)</span>
<span class="token key attr-name">          SpEL\u5199\u6CD5</span><span class="token punctuation">:</span> <span class="token value attr-value">\${\u8868\u8FBE\u5F0F}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#_5-\u603B\u7ED3" aria-hidden="true">#</a> 5. \u603B\u7ED3</h5><ol><li><p><strong>@Autowired</strong>,<strong>@Qualifier</strong>,<strong>@Resource</strong>: \u53EA\u80FD<strong>\u6CE8\u5165\u5176\u4ED6bean\u7C7B\u578B</strong>,\u800C\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B\u65E0\u6CD5\u4F7F\u7528\u4E0A\u8FF0\u6CE8\u89E3\u5B9E\u73B0,\u53E6\u5916,\u96C6\u5408\u7C7B\u578B\u7684\u6CE8\u5165\u53EA\u80FD\u901A\u8FC7xml\u6765\u5B9E\u73B0</p></li><li><p><strong>@Value</strong> \u89E3\u51B3\u4E86 ==\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B== \u7684\u6CE8\u5165</p></li></ol><h4 id="_3-\u7528\u4E8E\u6539\u53D8\u4F5C\u7528\u8303\u56F4\u7684" tabindex="-1"><a class="header-anchor" href="#_3-\u7528\u4E8E\u6539\u53D8\u4F5C\u7528\u8303\u56F4\u7684" aria-hidden="true">#</a> 3. \u7528\u4E8E\u6539\u53D8\u4F5C\u7528\u8303\u56F4\u7684</h4><ul><li>\u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u4F7F\u7528scope\u5C5E\u6027\u5B9E\u73B0\u7684\u529F\u80FD\u662F\u4E00\u6837\u7684</li></ul><p><strong>@Scope</strong></p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u4F5C\u7528</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7528\u4E8E\u6307\u5B9Abean\u7684\u4F5C\u7528\u8303\u56F4</span>
<span class="token key attr-name">\u5C5E\u6027</span><span class="token punctuation">:</span>
<span class="token key attr-name">    value</span><span class="token punctuation">:</span> <span class="token value attr-value">\u6307\u5B9A\u8303\u56F4\u7684\u53D6\u503C,\u5E38\u7528\u53D6\u503C: singleton(\u9ED8\u8BA4),property</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">@Scope(value</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;singleton&quot;) // \u65B9\u6CD5\u65F6</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-\u548C\u751F\u547D\u5468\u671F\u6709\u5173\u7684" tabindex="-1"><a class="header-anchor" href="#_4-\u548C\u751F\u547D\u5468\u671F\u6709\u5173\u7684" aria-hidden="true">#</a> 4. \u548C\u751F\u547D\u5468\u671F\u6709\u5173\u7684</h4><ul><li>\u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u4F7F\u7528init-method,destroy-method\u7684\u4F5C\u7528\u662F\u4E00\u6837\u7684</li></ul><h5 id="_1-predestroy-\u9500\u6BC1" tabindex="-1"><a class="header-anchor" href="#_1-predestroy-\u9500\u6BC1" aria-hidden="true">#</a> 1. @PreDestroy ==\u9500\u6BC1==</h5><ul><li>\u4F5C\u7528: \u7528\u4E8E\u6307\u5B9A\u9500\u6BC1\u65B9\u6CD5</li></ul><h5 id="_2-postconstruct-\u521D\u59CB\u80E1" tabindex="-1"><a class="header-anchor" href="#_2-postconstruct-\u521D\u59CB\u80E1" aria-hidden="true">#</a> 2. @PostConstruct ==\u521D\u59CB\u80E1==</h5><ul><li>\u7528\u4E8E\u6307\u5B9A\u521D\u59CB\u5316\u65B9\u6CD5</li></ul><h5 id="_3-\u5E94\u7528" tabindex="-1"><a class="header-anchor" href="#_3-\u5E94\u7528" aria-hidden="true">#</a> 3. \u5E94\u7528</h5><ul><li>\u65B9\u6CD5</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> \u8D26\u6237\u4E1A\u52A1\u5C42\u5B9E\u73B0\u7C7B <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * xml\u914D\u7F6E
 *     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 *     \u5C5E\u6027\uFF1A id,class,scope,init-method,destroy-method,property,name,value|ref
 *  \u6CE8\u89E3
 *      1. \u7528\u4E8E\u521B\u5EFA\u5BF9\u8C61\u7684\u6CE8\u89E3:
 *          \u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>\u6807\u7B7E\u5B9E\u73B0\u7684\u529F\u80FD\u662F\u4E00\u6837\u7684
 *          @Component:
 *              \u4F5C\u7528: \u7528\u4E8E\u628A\u5F53\u524D\u7C7B\u4F5C\u4E3A\u5BF9\u8C61,\u5B58\u5165spring\u5BB9\u5668\u4E2D
 *              \u5C5E\u6027:
 *                  value: \u7528\u4E8E\u6307\u5B9Abean\u7684id.\u5F53\u6211\u4EEC\u4E0D\u5199\u65F6,\u5B83\u9ED8\u8BA4\u662F\u5F53\u524D\u7C7B\u540D,\u4E14\u9996\u5B57\u6BCD\u6539\u5C0F\u5199
 *              \u884D\u751F\u6CE8\u89E3: \u4E0B\u9762\u4E09\u4E2A \u4E0E @Component \u7684\u4F5C\u7528\u548C\u5C5E\u6027\u4E00\u6A21\u4E00\u6837,\u662Fspring\u6846\u67B6\u4E3A\u6211\u4EEC\u63D0\u4F9B\u660E\u786E\u7684\u4E09\u5C42\u4F7F\u7528\u7684\u6CE8\u89E3,\u4F7F\u7528\u6211\u4EEC\u7684\u4E09\u5C42\u5BF9\u8C61\u66F4\u52A0\u6E05\u6670
 *                  @Controller: \u4E00\u822C\u7528\u4E8E\u8868\u73B0\u5C42
 *                  @Service: \u4E00\u822C\u7528\u4E8E\u4E1A\u52A1\u5C42
 *                  @Repository: \u4E00\u822C\u7528\u4E8E\u6301\u4E45\u5C42
 *
 *      2. \u7528\u4E8E\u6CE8\u5165\u6570\u636E\u7684
 *          \u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u5199\u4E00\u4E2A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>\u7684\u6807\u7B7E\u662F\u4E00\u6837\u7684
 *          @Autowired
 *              \u4F5C\u7528: \u81EA\u52A8\u6309\u7167\u7C7B\u578B\u6CE8\u5165.
 *                    1. \u5BB9\u5668\u4E2D\u6709\u552F\u4E00\u7684\u4E00\u4E2Abean\u5BF9\u8C61\u7C7B\u578B\u548C\u8981\u6CE8\u5165\u7684\u53D8\u91CF\u7C7B\u578B\u5339\u914D,\u5C31\u53EF\u4EE5\u6CE8\u5165\u6210\u529F
 *                    2. \u5982\u679Cioc\u5BB9\u5668\u4E2D\u6CA1\u6709\u4EFB\u4F55bean\u7684\u7C7B\u578B\u548C\u8981\u6CE8\u5165\u53D8\u91CF\u7C7B\u578B\u5339\u914D,\u5219\u62A5\u9519(\u4E0D\u80FD\u6CE8\u5165)
 *                    3. \u5982\u679Cioc\u5BB9\u5668\u4E2D\u6709\u591A\u4E2A\u7C7B\u578B\u5339\u914D\u65F6,\u62A5\u9519,\u5F15\u51FA\u65B0\u7684\u6CE8\u89E3 @Qualifier
 *              \u51FA\u73B0\u4F4D\u7F6E: \u53EF\u4EE5\u662F\u53D8\u91CF\u4E0A,\u4E5F\u53EF\u4EE5\u662F\u65B9\u6CD5\u4E0A
 *              \u7EC6\u8282: \u4F7F\u7528\u6CE8\u89E3\u6CE8\u5165\u65F6,set\u65B9\u6CD5\u4E0D\u662F\u5FC5\u987B\u7684
 *          @Qualifier:
 *              \u4F5C\u7528: \u5728\u81EA\u52A8\u6309\u7167\u7C7B\u4E2D\u6CE8\u5165\u7684\u57FA\u7840\u4E4B\u4E0A,\u5728\u6309\u7167\u540D\u79F0\u6CE8\u5165.
 *                    \u5B83\u5728\u7ED9\u7C7B\u6210\u5458\u6CE8\u5165\u65F6\u4E0D\u80FD\u5355\u72EC\u4F7F\u7528.\u4F46\u662F\u5728\u7ED9\u65B9\u6CD5\u53C2\u6570\u6CE8\u5165\u65F6\u53EF\u4EE5
 *              \u5C5E\u6027:
 *                  value: \u7528\u4E8E\u6307\u5B9A\u6CE8\u5165bean\u7684id
 *          @Resource:
 *              \u4F5C\u7528: \u76F4\u63A5\u6309\u7167bean\u7684id\u6CE8\u5165.\u53EF\u4EE5\u5355\u72EC\u4F7F\u7528
 *              \u5C5E\u6027:
 *                 name: \u7528\u4E8E\u6307\u5B9Abean\u7684id
 *          \u603B\u7ED3: \u4EE5\u4E0A\u4E09\u4E2A\u6CE8\u89E3\u53EA\u80FD\u6CE8\u5165\u5176\u4ED6bean\u7C7B\u578B,\u800C\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B\u65E0\u6CD5\u4F7F\u7528\u4E0A\u8FF0\u6CE8\u89E3\u5B9E\u73B0.
 *                \u53E6\u5916,\u96C6\u5408\u7C7B\u578B\u7684\u6CE8\u5165\u53EA\u80FD\u901A\u8FC7xml\u6765\u5B9E\u73B0
 *          @Value:
 *              \u4F5C\u7528: \u7528\u4E8E\u6CE8\u5165\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B\u7684\u6570\u636E
 *              \u5C5E\u6027:
 *                 value: \u7528\u4E8E\u6307\u5B9A\u6570\u636E\u7684\u503C,\u53EF\u4EE5\u4F7F\u7528spring\u4E2DSpEL(\u4E5F\u5C31\u662Fspring\u7684el\u8868\u8FBE\u5F0F)
 *                        SpEL\u5199\u6CD5: $<span class="token punctuation">{</span>\u8868\u8FBE\u5F0F<span class="token punctuation">}</span>
 *
 *      3. \u7528\u4E8E\u6539\u53D8\u4F5C\u7528\u8303\u56F4\u7684
 *          \u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u4F7F\u7528scope\u5C5E\u6027\u5B9E\u73B0\u7684\u529F\u80FD\u662F\u4E00\u6837\u7684
 *          @Scope:
 *              \u4F5C\u7528: \u7528\u4E8E\u6307\u5B9Abean\u7684\u4F5C\u7528\u8303\u56F4
 *              \u5C5E\u6027:
 *                  value: \u6307\u5B9A\u8303\u56F4\u7684\u53D6\u503C,\u5E38\u7528\u53D6\u503C: singleton(\u9ED8\u8BA4),property
 *
 *      4. \u548C\u751F\u547D\u5468\u671F\u6709\u5173\u7684 [\u4E86\u89E3]
 *          \u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u4F7F\u7528init-method,destroy-method\u7684\u4F5C\u7528\u662F\u4E00\u6837\u7684
 *          @PreDestroy:
 *              \u4F5C\u7528: \u7528\u4E8E\u6307\u5B9A\u9500\u6BC1\u65B9\u6CD5
 *          @PostConstruct:
 *              \u4F5C\u7528: \u7528\u4E8E\u6307\u5B9A\u521D\u59CB\u5316\u65B9\u6CD5
 */</span>
<span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;singleton&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

<span class="token comment">//    @Autowired</span>
<span class="token comment">//    @Qualifier(value = &quot;accountDao1&quot;)</span>
    <span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;accountDao1&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

<span class="token comment">//    public AccountServiceImpl() {</span>
<span class="token comment">//        System.out.println(&quot;AccountServiceImpl \u5BF9\u8C61\u521B\u5EFA\u4E86...&quot;);</span>
<span class="token comment">//    }</span>

    <span class="token doc-comment comment">/**
     * \u521D\u59CB\u5316\u65B9\u6CD5
     */</span>
    <span class="token annotation punctuation">@PostConstruct</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;init...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u9500\u6BC1\u65B9\u6CD5
     */</span>
    <span class="token annotation punctuation">@PreDestroy</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;destroy...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6A21\u62DF\u4FDD\u5B58\u8D26\u6237
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accountDao<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8C03\u7528</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ============= ApplicationContext [\u7ACB\u5373\u52A0\u8F7D] =============</span>

        <span class="token comment">// 1. \u83B7\u53D6\u6838\u5FC3\u5BB9\u5668\u5BF9\u8C61 [\u63A8\u8350 ClassPathXmlApplicationContext\u65B9\u5F0F\u521B\u5EFA]</span>
<span class="token comment">//        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);</span>
        <span class="token class-name">ClassPathXmlApplicationContext</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u6839\u636Eid\u83B7\u53D6bean\u5BF9\u8C61 [service,dao\u90FD\u53EA\u521B\u5EFA\u4E00\u6B21,\u5355\u4F8B\u6A21\u5F0F]</span>
        <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ac<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        System.out.println(accountService);</span>
<span class="token comment">//        AccountDao accountDao = ac.getBean(&quot;accountDao&quot;, AccountDao.class);</span>
<span class="token comment">//        System.out.println(accountDao);</span>
        <span class="token comment">// 3. \u8C03\u7528\u65B9\u6CD5</span>
        accountService<span class="token punctuation">.</span><span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. \u9500\u6BC1</span>
        ac<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code>init...
<span class="token key attr-name">save</span> <span class="token value attr-value">success 111...</span>
destroy...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-spring\u7684\u65B0\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_3-spring\u7684\u65B0\u6CE8\u89E3" aria-hidden="true">#</a> 3. spring\u7684\u65B0\u6CE8\u89E3</h2><h3 id="_1-\u65B0\u6CE8\u89E3" tabindex="-1"><a class="header-anchor" href="#_1-\u65B0\u6CE8\u89E3" aria-hidden="true">#</a> 1. \u65B0\u6CE8\u89E3</h3>`,39),b=n("thead",null,[n("tr",null,[n("th",null,"\u6CE8\u89E3"),n("th",null,"\u4F5C\u7528"),n("th",null,"\u53D6\u4EE3bean.xml"),n("th",null,"\u5C5E\u6027")])],-1),g=n("tr",null,[n("td",null,"@Configuration"),n("td",null,"\u6307\u5B9A\u4E00\u4E2A\u914D\u7F6E\u7C7B"),n("td"),n("td")],-1),h=n("tr",null,[n("td",null,"@ComponentScan"),n("td",null,"\u7528\u4E8E\u901A\u8FC7\u6CE8\u89E3\u6307\u5B9Aspring\u5728\u521B\u5EFA\u5BB9\u5668\u65F6\u8981\u626B\u63CF\u7684\u5305"),n("td",null,'<context:component-scan base-package="com.chggx"/>'),n("td",null,"basePackages(value)")],-1),y=n("td",null,"@Bean",-1),q=n("td",null,"\u7528\u4E8E\u628A\u5F53\u524D\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u4F5C\u4E3Abean\u5BF9\u8C61\u5B58\u5165spring\u7684ioc\u5BB9\u5668\u4E2D",-1),w=n("td",null,"name(\u9ED8\u8BA4\u503C: \u5F53\u524D\u65B9\u6CD5\u540D\u79F0)",-1),x=n("tr",null,[n("td",null,"@Import"),n("td",null,"\u7528\u4E8E\u5BFC\u5165\u5176\u4ED6\u7684\u914D\u7F6E\u7C7B"),n("td"),n("td",null,"value: 1. \u7528\u4E8E\u6307\u5B9A\u5176\u4ED6\u914D\u7F6E\u7C7B\u7684\u5B57\u8282\u7801 2. \u5F53\u6211\u4EEC\u4F7F\u7528@Import\u7684\u6CE8\u89E3\u4E4B\u540E,\u6709Import\u6CE8\u89E3\u7684\u7C7B\u5C31\u662F\u7236\u914D\u7F6E\u7C7B,\u800C\u5BFC\u5165\u7684\u90FD\u662F\u5B50\u914D\u7F6E\u7C7B")],-1),f=n("tr",null,[n("td",null,"@PropertySource"),n("td",null,"\u7528\u4E8E\u6307\u5B9A\u6587\u4EF6\u7684\u540D\u79F0\u548C\u8DEF\u5F84"),n("td"),n("td",null,"value: \u6307\u5B9A\u6587\u4EF6\u7684\u540D\u79F0\u548C\u8DEF\u5F84 \u5173\u952E\u5B57: classpath,\u8868\u793A\u7C7B\u8DEF\u5F84\u4E0B")],-1),S=a(`<h3 id="_2-\u65B0\u6CE8\u89E3\u53D6\u4EE3xml" tabindex="-1"><a class="header-anchor" href="#_2-\u65B0\u6CE8\u89E3\u53D6\u4EE3xml" aria-hidden="true">#</a> 2. \u65B0\u6CE8\u89E3\u53D6\u4EE3xml</h3><h4 id="_1-xml\u5F62\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-xml\u5F62\u5F0F" aria-hidden="true">#</a> 1. xml\u5F62\u5F0F</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6E\u5305\u626B\u63CF--&gt;</span>
    <span class="token comment">&lt;!--\u544A\u77E5spring\u5728\u521B\u5EFA\u5BB9\u5668\u65F6\u8981\u5305\u626B\u63CF--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6EQueryRunner: \u6539\u4E3A\u591A\u4F8B property--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>runner<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.commons.dbutils.QueryRunner<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prototype<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--\u6CE8\u5165\u6570\u636E\u6E90--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ds<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6E\u6570\u636E\u6E90 C3p0\u6570\u636E\u6E90--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mchange.v2.c3p0.ComboPooledDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--\u6CE8\u5165\u8FDE\u63A5\u6570\u636E\u5E93\u7684\u5FC5\u5907\u4FE1\u606F--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClass<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbcUrl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/spring_jdbc<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>326868<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u6CE8\u89E3\u5F62\u5F0F" tabindex="-1"><a class="header-anchor" href="#_2-\u6CE8\u89E3\u5F62\u5F0F" aria-hidden="true">#</a> 2. \u6CE8\u89E3\u5F62\u5F0F</h4><ul><li>\u7236\u914D\u7F6E\u7C7B</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> spring\u914D\u7F6E\u7C7B,\u4F5C\u7528\u548Cbean.xml\u4E00\u6837 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 * spring\u4E2D\u7684\u65B0\u6CE8\u89E3:
 *      @Configuration:
 *          \u4F5C\u7528: \u6307\u5B9A\u4E00\u4E2A\u914D\u7F6E\u7C7B
 *          \u7EC6\u8282:
 *              \u5F53\u914D\u7F6E\u7C7B\u4F5C\u4E3A new AnnotationConfigApplicationContext(SpringConfiguration.class) \u5BF9\u8C61\u521B\u5EFA\u7684\u53C2\u6570\u65F6,\u8BE5\u6CE8\u89E3\u53EF\u4EE5\u4E0D\u5199,\u5426\u5219\u8FD8\u662F\u8981\u5199
 *      @ComponentScan:
 *          \u4F5C\u7528: \u7528\u4E8E\u901A\u8FC7\u6CE8\u89E3\u6307\u5B9Aspring\u5728\u521B\u5EFA\u5BB9\u5668\u65F6\u8981\u626B\u63CF\u7684\u5305
 *                            \u540Cbean.xml\u4E2D\u7684
 *          \u5C5E\u6027:
 *               basePackages: \u6307\u5B9A\u521B\u5EFA\u5BB9\u5668\u65F6\u8981\u626B\u63CF\u7684\u5305
 *               value: 1). \u5B83\u548C basePackages \u7684\u4F5C\u7528\u662F\u4E00\u6837\u7684,\u90FD\u662F\u7528\u4E8E\u6307\u5B9A\u521B\u5EFA\u5BB9\u5668\u65F6\u8981\u626B\u63CF\u7684\u5305
 *                      2). \u6211\u4EEC\u4F7F\u7528\u6B21\u6CE8\u89E3\u5C31\u7B49\u540C\u4E8E\u5728xml\u4E2D\u914D\u7F6E\u4E86:
 *                                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 *      @Bean:
 *           \u4F5C\u7528: \u7528\u4E8E\u628A\u5F53\u524D\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u4F5C\u4E3Abean\u5BF9\u8C61\u5B58\u5165spring\u7684ioc\u5BB9\u5668\u4E2D
 *           \u5C5E\u6027:
 *               name: \u7528\u4E8E\u6307\u5B9Abean\u7684id. \u5F53\u4E0D\u5199\u65F6.\u9ED8\u8BA4\u503C\u5C31\u662F\u5F53\u524D\u65B9\u6CD5\u540D\u79F0
 *           \u7EC6\u8282:
 *               \u5F53\u6211\u4EEC\u4F7F\u7528\u6CE8\u89E3\u65B9\u5F0F\u65F6,\u5982\u679C\u65B9\u6CD5\u6709\u53C2\u6570: spring\u6846\u67B6\u4F1A\u53BB\u5BB9\u5668\u4E2D\u67E5\u627E\u6709\u6CA1\u6709\u53EF\u7528\u7684bean\u5BF9\u8C61.
 *               \u67E5\u627E\u7684\u65B9\u5F0F\u548C@Autowired\u6CE8\u89E3\u7684\u4F5C\u7528\u662F\u4E00\u6837\u7684
 *      @Import:
 *           \u4F5C\u7528: \u7528\u4E8E\u5BFC\u5165\u5176\u4ED6\u7684\u914D\u7F6E\u7C7B
 *           \u5C5E\u6027:
 *              value: 1. \u7528\u4E8E\u6307\u5B9A\u5176\u4ED6\u914D\u7F6E\u7C7B\u7684\u5B57\u8282\u7801
 *                     2. \u5F53\u6211\u4EEC\u4F7F\u7528@Import\u7684\u6CE8\u89E3\u4E4B\u540E,\u6709Import\u6CE8\u89E3\u7684\u7C7B\u5C31\u662F\u7236\u914D\u7F6E\u7C7B,\u800C\u5BFC\u5165\u7684\u90FD\u662F\u5B50\u914D\u7F6E\u7C7B,\u76F8\u5F53\u4E8Enew AnnotationConfigApplicationContext(SpringConfiguration.class);
 *      @PropertySource:
 *           \u4F5C\u7528: \u7528\u4E8E\u6307\u5B9A\u6587\u4EF6\u7684\u540D\u79F0\u548C\u8DEF\u5F84
 *           \u5C5E\u6027:
 *              value: \u6307\u5B9A\u6587\u4EF6\u7684\u540D\u79F0\u548C\u8DEF\u5F84
 *                      \u5173\u952E\u5B57: classpath,\u8868\u793A\u7C7B\u8DEF\u5F84\u4E0B
 */</span>
<span class="token comment">//@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;com.chggx&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;com.chggx.config&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">JdbcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;classpath:jdbcConfig.properties&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfiguration</span> <span class="token punctuation">{</span>


<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6570\u636E\u539F\u914D\u7F6E (\u81EA\u914D\u7F6E\u7C7B)</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Description: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> \u548Cspring\u8FDE\u63A5\u6570\u636E\u5E93\u76F8\u5173\u7684\u914D\u7F6E\u7C7B <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 */</span>
<span class="token comment">//@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * @Value: \u6CE8\u5165\u6570\u636E(\u57FA\u672C\u7C7B\u578B\u548CString\u7C7B\u578B)
     */</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${jdbc.driver}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${jdbc.url}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${jdbc.username}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${jdbc.password}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A QueryRunner \u5BF9\u8C61
     *  \u4F5C\u7528\u8303\u56F4\u591A\u4F8B: prototype
     * <span class="token keyword">@param</span> <span class="token parameter">dataSource</span> \u6570\u636E\u6E90
     * <span class="token keyword">@return</span> QueryRunner
     */</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;runner&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;prototype&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">QueryRunner</span> <span class="token function">createQueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u914D\u7F6E\u6570\u636E\u6E90
     * <span class="token keyword">@return</span> DataSource
     */</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;dataSource&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">createDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// C3p0\u6570\u636E\u6E90</span>
            <span class="token class-name">ComboPooledDataSource</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboPooledDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dataSource<span class="token punctuation">.</span><span class="token function">setDriverClass</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
            dataSource<span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            dataSource<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            dataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">PropertyVetoException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6570\u636E\u6E90\u914D\u7F6E\u6587\u4EF6 jdbcConfig.properties</li></ul><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">jdbc.driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/spring_jdbc</span>
<span class="token key attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token value attr-value">326868</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-qualifier\u53E6\u4E00\u79CD\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_3-qualifier\u53E6\u4E00\u79CD\u4F7F\u7528" aria-hidden="true">#</a> 3. @Qualifier\u53E6\u4E00\u79CD\u4F7F\u7528</h3><ol><li>\u4E4B\u524D\u914D\u5408**@Autowired**\u6765\u89E3\u51B3\u591A\u7C7B\u578B\u6CE8\u5165\u95EE\u9898.</li><li>\u73B0\u5728\u5728Spring\u4E2D\u53E6\u4E00\u79CD\u4F7F\u7528 <ul><li>\u89E3\u51B3\u4E0E\u4E0A\u8FB9\u76F8\u4F3C,\u5982\u6CE8\u5165\u6570\u636E\u6E90\u662F,\u6570\u636E\u6E90\u591A\u4E2A\u65F6,\u4F7F\u7528**@Qualifier**\u6765\u786E\u5B9A</li></ul></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A QueryRunner \u5BF9\u8C61
 *  1. \u4F5C\u7528\u8303\u56F4\u591A\u4F8B: prototype
 *  2. \u5F53\u6709DataSource \u662F\u6709\u591A\u4E2A\u6570\u636E\u6E90(\u591A\u7C7B\u578B)\u65F6,\u6B64\u5916\u7528@Qualifier(&quot;dataSource1&quot;): \u6765\u786E\u5B9A\u6CE8\u5165\u7684\u7C7B\u578B(\u540C@Autowired)
 * <span class="token keyword">@param</span> <span class="token parameter">dataSource</span> \u6570\u636E\u6E90
 * <span class="token keyword">@return</span> QueryRunner
 */</span>
<span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;runner&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;prototype&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">QueryRunner</span> <span class="token function">createQueryRunner</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;dataSource1&quot;</span><span class="token punctuation">)</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * \u914D\u7F6E\u6570\u636E\u6E90 1
 * <span class="token keyword">@return</span> DataSource
 */</span>
<span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;dataSource1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">createDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// C3p0\u6570\u636E\u6E90</span>
        <span class="token class-name">ComboPooledDataSource</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboPooledDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setDriverClass</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">PropertyVetoException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * \u914D\u7F6E\u6570\u636E\u6E90 2
 * <span class="token keyword">@return</span> DataSource
 */</span>
<span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;dataSource2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">createDataSource2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// C3p0\u6570\u636E\u6E90</span>
        <span class="token class-name">ComboPooledDataSource</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboPooledDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setDriverClass</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://localhost:3306/mybatisdb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">PropertyVetoException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-junit" tabindex="-1"><a class="header-anchor" href="#_4-junit" aria-hidden="true">#</a> 4. junit</h3><h4 id="_1-\u666E\u901Ajunit" tabindex="-1"><a class="header-anchor" href="#_1-\u666E\u901Ajunit" aria-hidden="true">#</a> 1. \u666E\u901Ajunit</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--junit \u6D4B\u8BD5--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u95EE\u9898</li></ul><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code>1\u3001\u5E94\u7528\u7A0B\u5E8F\u7684\u5165\u53E3
	main\u65B9\u6CD5
2\u3001junit\u5355\u5143\u6D4B\u8BD5\u4E2D\uFF0C\u6CA1\u6709main\u65B9\u6CD5\u4E5F\u80FD\u6267\u884C
	junit\u96C6\u6210\u4E86\u4E00\u4E2Amain\u65B9\u6CD5
<span class="token key attr-name">	\u8BE5\u65B9\u6CD5\u5C31\u4F1A\u5224\u65AD\u5F53\u524D\u6D4B\u8BD5\u7C7B\u4E2D\u54EA\u4E9B\u65B9\u6CD5\u6709</span> <span class="token value attr-value">@Test\u6CE8\u89E3</span>
	junit\u5C31\u8BA9\u6709Test\u6CE8\u89E3\u7684\u65B9\u6CD5\u6267\u884C
3\u3001junit\u4E0D\u4F1A\u7BA1\u6211\u4EEC\u662F\u5426\u91C7\u7528spring\u6846\u67B6
	\u5728\u6267\u884C\u6D4B\u8BD5\u65B9\u6CD5\u65F6\uFF0Cjunit\u6839\u672C\u4E0D\u77E5\u9053\u6211\u4EEC\u662F\u4E0D\u662F\u4F7F\u7528\u4E86spring\u6846\u67B6
	\u6240\u4EE5\u4E5F\u5C31\u4E0D\u4F1A\u4E3A\u6211\u4EEC\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6/\u914D\u7F6E\u7C7B\u521B\u5EFAspring\u6838\u5FC3\u5BB9\u5668
4\u3001\u7531\u4EE5\u4E0A\u4E09\u70B9\u53EF\u77E5
	\u5F53\u6D4B\u8BD5\u65B9\u6CD5\u6267\u884C\u65F6\uFF0C\u6CA1\u6709Ioc\u5BB9\u5668\uFF0C\u5C31\u7B97\u5199\u4E86Autowired\u6CE8\u89E3\uFF0C\u4E5F\u65E0\u6CD5\u5B9E\u73B0\u6CE8\u5165
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-spring\u96C6\u6210junit" tabindex="-1"><a class="header-anchor" href="#_2-spring\u96C6\u6210junit" aria-hidden="true">#</a> 2. Spring\u96C6\u6210junit</h4><ul><li>\u4F9D\u8D56</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--spring test--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u914D\u7F6E</li></ul><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">Spring\u6574\u5408junit\u7684\u914D\u7F6E</span><span class="token punctuation">:</span>
<span class="token key attr-name">     1.</span> <span class="token value attr-value">\u5BFC\u5165spring\u6574\u5408junit\u7684jar\u5305(\u5373: \u5750\u6807)</span>
<span class="token key attr-name">     2.</span> <span class="token value attr-value">\u4F7F\u7528Junit\u63D0\u4F9B\u7684\u4E00\u4E2A\u6CE8\u89E3\u628A\u6240\u6709\u7684main\u65B9\u6CD5\u63D0\u82B1\u4E86,\u66FF\u6362\u6210spring\u63D0\u4F9B\u7684</span>
<span class="token key attr-name">         @RunWith</span><span class="token punctuation">:</span> <span class="token value attr-value">SpringJUnit4ClassRunner.class</span>
<span class="token key attr-name">     3.</span> <span class="token value attr-value">\u544A\u77E5spring\u7684\u8FD0\u884C\u5668,spring\u7684ioc\u521B\u5EFA\u662F\u57FA\u4E8Exml\u8FD8\u662F\u6CE8\u89E3\u7684,\u5E76\u4E14\u8BF4\u660E\u4F4D\u7F6E</span>
<span class="token key attr-name">         @ContextConfiguration</span><span class="token punctuation">:</span>
<span class="token key attr-name">              locations(value)</span><span class="token punctuation">:</span> <span class="token value attr-value">\u6307\u5B9Axml\u6587\u4EF6\u7684\u4F4D\u7F6E,\u52A0\u4E0Aclasspath\u5173\u952E\u5B57,\u8868\u793A\u5728\u7C7B\u8DEF\u5F84\u4E0B</span>
<span class="token key attr-name">                 @ContextConfiguration(locations</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;classpath:bean.xml&quot;)</span>
<span class="token key attr-name">              classes</span><span class="token punctuation">:</span> <span class="token value attr-value">\u6307\u5B9A\u6CE8\u89E3(\u914D\u7F6E)\u7C7B\u6240\u5728\u7684\u4F4D\u7F6E</span>
<span class="token key attr-name">                 @ContextConfiguration(classes</span> <span class="token punctuation">=</span> <span class="token value attr-value">SpringConfiguration.class)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u6848\u4F8B-\u6CE8\u89E3\u5F62\u5F0F" tabindex="-1"><a class="header-anchor" href="#_3-\u6848\u4F8B-\u6CE8\u89E3\u5F62\u5F0F" aria-hidden="true">#</a> 3. \u6848\u4F8B ==\u6CE8\u89E3\u5F62\u5F0F==</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token comment">//@ContextConfiguration(locations = &quot;classpath:bean.xml&quot;)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">SpringConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceTest</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * spring \u6574\u5408 junit \u65B9\u5F0F: \u53EF\u4EE5\u4F7F\u7528 @Autowired \u6CE8\u5165\u6570\u636E
     */</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span>

<span class="token comment">//    @Before</span>
<span class="token comment">//    public void before() {</span>
<span class="token comment">//        // =========== AnnotationConfigApplicationContext: \u6CE8\u89E3\u5F62\u5F0F ============</span>
<span class="token comment">//        // 1. \u83B7\u53D6\u5BB9\u5668</span>
<span class="token comment">//        // \u4F7F\u7528\u914D\u7F6E\u6587\u4EF6\u65B9\u5F0F</span>
<span class="token comment">////        ApplicationContext ac = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);</span>
<span class="token comment">//        //  \u4F7F\u7528\u914D\u7F6E\u7C7B\u65B9\u5F0F SpringConfiguration</span>
<span class="token comment">//        ApplicationContext ac = new AnnotationConfigApplicationContext(SpringConfiguration.class);</span>
<span class="token comment">//        // \u5F97\u5230\u4E1A\u52A1\u5BF9\u8C61</span>
<span class="token comment">//        accountService = ac.getBean(&quot;accountService&quot;, AccountService.class);</span>
<span class="token comment">//    }</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindAllAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u67E5\u8BE2\u6240\u6709</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> accounts <span class="token operator">=</span> accountService<span class="token punctuation">.</span><span class="token function">findAllAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accounts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_4-\u52A8\u6001\u4EE3\u7406-proxy" tabindex="-1"><a class="header-anchor" href="#_4-\u52A8\u6001\u4EE3\u7406-proxy" aria-hidden="true">#</a> 4. \u52A8\u6001\u4EE3\u7406(proxy)</h2><ul><li>\u6982\u8FF0</li></ul><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u52A8\u6001\u4EE3\u7406</span><span class="token punctuation">:</span>
<span class="token key attr-name">    \u7279\u70B9</span><span class="token punctuation">:</span> <span class="token value attr-value">\u5B57\u8282\u7801\u968F\u7528\u968F\u521B\u5EFA,\u968F\u7528\u968F\u52A0\u8F7D</span>
<span class="token key attr-name">    \u4F5C\u7528</span><span class="token punctuation">:</span> <span class="token value attr-value">\u4E0D\u4FEE\u6539\u6E90\u7801\u7684\u57FA\u7840\u4E0A\u5BF9\u65B9\u6CD5\u589E\u5F3A</span>
<span class="token key attr-name">    \u5206\u7C7B</span><span class="token punctuation">:</span>
<span class="token key attr-name">        1).</span> <span class="token value attr-value">\u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u4EE3\u7406</span>
<span class="token key attr-name">            \u6D89\u53CA\u7684\u7C7B</span><span class="token punctuation">:</span> <span class="token value attr-value">Proxy</span>
            \u63D0\u4F9B\u8005,JDK\u5B98\u65B9
<span class="token key attr-name">        2).</span> <span class="token value attr-value">\u57FA\u4E8E\u5B50\u7C7B\u7684\u52A8\u6001\u4EE3\u7406</span>
<span class="token key attr-name">            \u6D89\u53CA\u7684\u7C7B</span><span class="token punctuation">:</span> <span class="token value attr-value">Enhancer</span>
<span class="token key attr-name">            \u63D0\u4F9B\u8005</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7B2C\u4E09\u65B9cglib\u5E93</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-\u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u4EE3\u7406" tabindex="-1"><a class="header-anchor" href="#_1-\u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u4EE3\u7406" aria-hidden="true">#</a> 1. \u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u4EE3\u7406</h3><h4 id="_1-\u6982\u8FF0-1" tabindex="-1"><a class="header-anchor" href="#_1-\u6982\u8FF0-1" aria-hidden="true">#</a> 1. \u6982\u8FF0</h4><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code>\u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u4EE3\u7406
<span class="token key attr-name">     \u5982\u4F55\u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61</span><span class="token punctuation">:</span>
         \u4F7F\u7528Proxy\u7C7B\u4E2D\u7684newProxyInstance\u65B9\u6CD5
<span class="token key attr-name">     \u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61\u7684\u8981\u6C42</span><span class="token punctuation">:</span>
         \u88AB\u4EE3\u7406\u7684\u7C7B\u6700\u5C11\u5B9E\u73B0\u4E00\u4E2A\u63A5\u53E3,\u5982\u679C\u6CA1\u6709\u5219\u4E0D\u80FD\u4F7F\u7528
<span class="token key attr-name">     newProxyInstance\u65B9\u6CD5\u7684\u53C2\u6570</span><span class="token punctuation">:</span>
<span class="token key attr-name">        1).</span> <span class="token value attr-value">ClassLoader loader: \u7C7B\u52A0\u8F7D\u5668</span>
                \u5B83\u662F\u7528\u4E8E\u52A0\u8F7D\u4EE3\u7406\u5BF9\u8C61\u5B57\u8282\u7801\u7684.\u548C\u88AB\u4EE3\u7406\u5BF9\u8C61\u4F7F\u7528\u76F8\u540C\u7684\u7C7B\u52A0\u8F7D\u5668.[\u56FA\u5B9A\u5199\u6CD5]
<span class="token key attr-name">        2).</span> <span class="token value attr-value">Class&lt;?&gt;[] interfaces: \u5B57\u8282\u7801\u6570\u7EC4</span>
                \u5B83\u662F\u7528\u4E8E\u8BA9\u4EE3\u7406\u5BF9\u8C61\u548C\u88AB\u4EE3\u7406\u5BF9\u8C61\u6709\u76F8\u540C\u65B9\u6CD5.[\u56FA\u5B9A\u5199\u6CD5]
<span class="token key attr-name">        3).</span> <span class="token value attr-value">InvocationHandler h: \u7528\u4E8E\u63D0\u4F9B\u8005\u589E\u5F3A\u7684\u4EE3\u7801</span>
                 \u5B83\u662F\u8BA9\u6211\u4EEC\u5199\u5982\u4F55\u4EE3\u7406.\u6211\u4EEC\u4E00\u822C\u90FD\u662F\u5199\u4E00\u4E2A\u8BE5\u63A5\u53E3\u7684\u5B9E\u73B0\u7C7B.\u901A\u5E38\u60C5\u51B5\u4E0B\u90FD\u662F\u533F\u540D\u5185\u90E8\u7C7B,\u4F46\u4E0D\u662F\u5FC5\u987B\u7684.
                  \u6B64\u63A5\u53E3\u8C01\u7528\u8C01\u5199
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_2-\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> 2. \u4EE3\u7801\u5B9E\u73B0</h4><ul><li>\u751F\u4EA7\u8005\u63A5\u53E3\u7C7B</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProducerInterface</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u9500\u552E
     *
     * <span class="token keyword">@param</span> <span class="token parameter">money</span> money
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saleProducer</span><span class="token punctuation">(</span><span class="token keyword">float</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u552E\u540E
     *
     * <span class="token keyword">@param</span> <span class="token parameter">money</span> money
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterService</span><span class="token punctuation">(</span><span class="token keyword">float</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u751F\u4EA7\u8005\u63A5\u53E3\u7C7B\u5B9E\u73B0</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Producer</span> <span class="token keyword">implements</span> <span class="token class-name">ProducerInterface</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u9500\u552E
     * <span class="token keyword">@param</span> <span class="token parameter">money</span> money
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saleProducer</span><span class="token punctuation">(</span><span class="token keyword">float</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u9500\u552E\u4EA7\u54C1,\u5E76\u62FF\u5230\u94B1&quot;</span> <span class="token operator">+</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u552E\u540E
     * <span class="token keyword">@param</span> <span class="token parameter">money</span> money
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterService</span><span class="token punctuation">(</span><span class="token keyword">float</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u63D0\u4F9B\u552E\u540E\u670D\u52A1,\u5E76\u62FF\u5230\u94B1&quot;</span> <span class="token operator">+</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6D88\u8D39\u8005</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. \u539F\u6765</span>
<span class="token comment">//        Producer producer = new Producer();</span>
<span class="token comment">//        producer.saleProducer(10000f);</span>
        <span class="token comment">// 2. \u52A8\u6001\u4EE3\u7406</span>
        <span class="token keyword">final</span> <span class="token class-name">Producer</span> producer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// \u6709\u53CD\u5C04</span>
        <span class="token class-name">ProducerInterface</span> proxyProducer <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ProducerInterface</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>
                <span class="token comment">// 1. \u7C7B\u52A0\u8F7D\u5668 [\u56FA\u5B9A\u5199\u6CD5]</span>
                producer<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// 2. \u5B57\u8282\u7801\u6570\u7EC4 [\u56FA\u5B9A\u5199\u6CD5]</span>
                producer<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// 3. \u7528\u4E8E\u63D0\u4F9B\u8005\u589E\u5F3A\u7684\u4EE3\u7801 [\u533F\u540D\u5185\u90E8\u7C7B]</span>
                <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token doc-comment comment">/**
                     * \u4F5C\u7528: \u6267\u884C\u88AB\u4EE3\u7406\u5BF9\u8C61\u7684\u4EFB\u4F55\u63A5\u53E3\u65B9\u6CD5\u90FD\u4F1A\u7ECF\u8FC7\u8BE5\u65B9\u6CD5[\u62E6\u622A\u4F5C\u7528]
                     * <span class="token keyword">@param</span> <span class="token parameter">proxy</span>     \u4EE3\u7406\u5BF9\u8C61
                     * <span class="token keyword">@param</span> <span class="token parameter">method</span>    \u5F53\u524D\u6267\u884C\u7684\u65B9\u6CD5
                     * <span class="token keyword">@param</span> <span class="token parameter">args</span>      \u5F53\u524D\u6267\u884C\u65B9\u6CD5\u6240\u9700\u7684\u53C2\u6570
                     * <span class="token keyword">@return</span> \u548C\u88AB\u4EE3\u7406\u5BF9\u8C61\u65B9\u6CD5\u6709\u76F8\u540C\u7684\u65B9\u7ED8\u5236
                     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">Throwable</span></span> \u5F02\u5E38
                     */</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                        <span class="token comment">// \u63D0\u4F9B\u589E\u5F3A\u7684\u4EE3\u7801</span>
                        <span class="token class-name">Object</span> returnValue <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                        <span class="token comment">// 1. \u83B7\u53D6\u65B9\u6CD5\u6267\u884C\u7684\u53C2\u6570</span>
                        <span class="token class-name">Float</span> money <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                        <span class="token comment">// 2. \u5224\u65AD\u5F53\u524D\u65B9\u6CD5\u662F\u4E0D\u662F\u9500\u552E</span>
                        <span class="token comment">// \u8981\u4EE3\u7406\u65B9\u6CD5\u540D</span>
                        <span class="token class-name">String</span> methodName <span class="token operator">=</span> <span class="token string">&quot;saleProducer&quot;</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>methodName<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            returnValue <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>producer<span class="token punctuation">,</span> money <span class="token operator">*</span> <span class="token number">0.8f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">return</span> returnValue<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proxyProducer<span class="token punctuation">.</span><span class="token function">saleProducer</span><span class="token punctuation">(</span><span class="token number">10000f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-\u57FA\u4E8E\u5B50\u7C7B\u7684\u52A8\u6001\u4EE3\u7406" tabindex="-1"><a class="header-anchor" href="#_2-\u57FA\u4E8E\u5B50\u7C7B\u7684\u52A8\u6001\u4EE3\u7406" aria-hidden="true">#</a> 2. \u57FA\u4E8E\u5B50\u7C7B\u7684\u52A8\u6001\u4EE3\u7406</h3><ul><li>\u4F9D\u8D56</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>cglib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>cglib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-\u6982\u8FF0-2" tabindex="-1"><a class="header-anchor" href="#_1-\u6982\u8FF0-2" aria-hidden="true">#</a> 1. \u6982\u8FF0</h4><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">\u52A8\u6001\u4EE3\u7406</span><span class="token punctuation">:</span>
<span class="token key attr-name">    \u7279\u70B9</span><span class="token punctuation">:</span> <span class="token value attr-value">\u5B57\u8282\u7801\u968F\u7528\u968F\u521B\u5EFA,\u968F\u7528\u968F\u52A0\u8F7D</span>
<span class="token key attr-name">    \u4F5C\u7528</span><span class="token punctuation">:</span> <span class="token value attr-value">\u4E0D\u4FEE\u6539\u6E90\u7801\u7684\u57FA\u7840\u4E0A\u5BF9\u65B9\u6CD5\u589E\u5F3A</span>
<span class="token key attr-name">    \u5206\u7C7B</span><span class="token punctuation">:</span>
<span class="token key attr-name">        1).</span> <span class="token value attr-value">\u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u4EE3\u7406</span>
<span class="token key attr-name">            \u6D89\u53CA\u7684\u7C7B</span><span class="token punctuation">:</span> <span class="token value attr-value">Proxy</span>
            \u63D0\u4F9B\u8005,JDK\u5B98\u65B9
<span class="token key attr-name">        2).</span> <span class="token value attr-value">\u57FA\u4E8E\u5B50\u7C7B\u7684\u52A8\u6001\u4EE3\u7406</span>
<span class="token key attr-name">            \u6D89\u53CA\u7684\u7C7B</span><span class="token punctuation">:</span> <span class="token value attr-value">Enhancer</span>
<span class="token key attr-name">            \u63D0\u4F9B\u8005</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7B2C\u4E09\u65B9cglib\u5E93</span>
    \u57FA\u4E8E\u5B50\u7C7B\u7684\u52A8\u6001\u4EE3\u7406
<span class="token key attr-name">         \u5982\u4F55\u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61</span><span class="token punctuation">:</span>
             \u4F7F\u7528Enhancer\u7C7B\u4E2D\u7684create\u65B9\u6CD5
<span class="token key attr-name">         \u521B\u5EFA\u4EE3\u7406\u5BF9\u8C61\u7684\u8981\u6C42</span><span class="token punctuation">:</span>
             \u88AB\u4EE3\u7406\u7684\u7C7B\u4E0D\u662F\u6700\u7EC8\u7C7B
<span class="token key attr-name">         create\u65B9\u6CD5\u7684\u53C2\u6570</span><span class="token punctuation">:</span>
<span class="token key attr-name">            1).</span> <span class="token value attr-value">class: \u5B57\u8282\u7801</span>
                    \u5B83\u662F\u7528\u4E8E\u52A0\u8F7D\u4EE3\u7406\u5BF9\u8C61\u5B57\u8282\u7801\u7684.\u548C\u88AB\u4EE3\u7406\u5BF9\u8C61\u4F7F\u7528\u76F8\u540C\u7684\u7C7B\u52A0\u8F7D\u5668.[\u56FA\u5B9A\u5199\u6CD5]
<span class="token key attr-name">            2).</span> <span class="token value attr-value">Class&lt;?&gt;[] interfaces: \u5B57\u8282\u7801\u6570\u7EC4</span>
                    \u5B83\u662F\u7528\u4E8E\u8BA9\u4EE3\u7406\u5BF9\u8C61\u548C\u88AB\u4EE3\u7406\u5BF9\u8C61\u6709\u76F8\u540C\u65B9\u6CD5.[\u56FA\u5B9A\u5199\u6CD5]
<span class="token key attr-name">            3).</span> <span class="token value attr-value">InvocationHandler h: \u7528\u4E8E\u63D0\u4F9B\u8005\u589E\u5F3A\u7684\u4EE3\u7801</span>
                     \u5B83\u662F\u8BA9\u6211\u4EEC\u5199\u5982\u4F55\u4EE3\u7406.\u6211\u4EEC\u4E00\u822C\u90FD\u662F\u5199\u4E00\u4E2A\u8BE5\u63A5\u53E3\u7684\u5B9E\u73B0\u7C7B.\u901A\u5E38\u60C5\u51B5\u4E0B\u90FD\u662F\u533F\u540D\u5185\u90E8\u7C7B,\u4F46\u4E0D\u662F\u5FC5\u987B\u7684.
                      \u6B64\u63A5\u53E3\u8C01\u7528\u8C01\u5199
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_2-\u5B9E\u73B0" aria-hidden="true">#</a> 2. \u5B9E\u73B0</h4><ul><li>\u751F\u4EA7\u8005</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Producer</span><span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u9500\u552E
     * <span class="token keyword">@param</span> <span class="token parameter">money</span> money
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saleProducer</span><span class="token punctuation">(</span><span class="token keyword">float</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u9500\u552E\u4EA7\u54C1,\u5E76\u62FF\u5230\u94B1&quot;</span> <span class="token operator">+</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u552E\u540E
     * <span class="token keyword">@param</span> <span class="token parameter">money</span> money
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterService</span><span class="token punctuation">(</span><span class="token keyword">float</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u63D0\u4F9B\u552E\u540E\u670D\u52A1,\u5E76\u62FF\u5230\u94B1&quot;</span> <span class="token operator">+</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6D88\u8D39\u8005</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. \u539F\u6765</span>
<span class="token comment">//        Producer producer = new Producer();</span>
<span class="token comment">//        producer.saleProducer(10000f);</span>
        <span class="token comment">// 2. \u52A8\u6001\u4EE3\u7406</span>
        <span class="token keyword">final</span> <span class="token class-name">Producer</span> producer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// \u6709\u53CD\u5C04</span>
        <span class="token class-name">Producer</span> cglibProducer <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Producer</span><span class="token punctuation">)</span> <span class="token class-name">Enhancer</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>producer<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MethodInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token doc-comment comment">/**
             * \u6267\u884C\u88AB\u4EE3\u7406\u5BF9\u8C61\u7684\u4EFB\u4F55\u65B9\u6CD5\u90FD\u4F1A\u7ECF\u8FC7\u8BE5\u65B9\u6CD5
             * <span class="token keyword">@param</span> <span class="token parameter">o</span>              \u4EE3\u7406\u5BF9\u8C61
             * <span class="token keyword">@param</span> <span class="token parameter">method</span>         \u5F53\u524D\u6267\u884C\u7684\u65B9\u6CD5
             * <span class="token keyword">@param</span> <span class="token parameter">objects</span>        \u5F53\u524D\u6267\u884C\u65B9\u6CD5\u6240\u9700\u7684\u53C2\u6570
             * <span class="token keyword">@param</span> <span class="token parameter">methodProxy</span>    \u5F53\u524D\u6267\u884C\u65B9\u6CD5\u7684\u4EE3\u7406\u5BF9\u8C61
             * <span class="token keyword">@return</span>
             * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">Throwable</span></span>
             */</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> objects<span class="token punctuation">,</span> <span class="token class-name">MethodProxy</span> methodProxy<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                <span class="token comment">// \u63D0\u4F9B\u589E\u5F3A\u7684\u4EE3\u7801</span>
                <span class="token class-name">Object</span> returnValue <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token comment">// 1. \u83B7\u53D6\u65B9\u6CD5\u6267\u884C\u7684\u53C2\u6570</span>
                <span class="token class-name">Float</span> money <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Float</span><span class="token punctuation">)</span> objects<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token comment">// 2. \u5224\u65AD\u5F53\u524D\u65B9\u6CD5\u662F\u4E0D\u662F\u9500\u552E</span>
                <span class="token comment">// \u8981\u4EE3\u7406\u65B9\u6CD5\u540D</span>
                <span class="token class-name">String</span> methodName <span class="token operator">=</span> <span class="token string">&quot;saleProducer&quot;</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>methodName<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    returnValue <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>producer<span class="token punctuation">,</span> money <span class="token operator">*</span> <span class="token number">0.8f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> returnValue<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cglibProducer<span class="token punctuation">.</span><span class="token function">saleProducer</span><span class="token punctuation">(</span><span class="token number">10000f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#_3-\u6848\u4F8B" aria-hidden="true">#</a> 3. \u6848\u4F8B</h3>`,50),A={href:"https://gitee.com/afreebird/spring",target:"_blank",rel:"noopener noreferrer"},_=a(`<h4 id="_1-\u4E8B\u52A1\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_1-\u4E8B\u52A1\u95EE\u9898" aria-hidden="true">#</a> 1. \u4E8B\u52A1\u95EE\u9898</h4><ul><li>\u81EA\u5B9A\u4E49\u4E8B\u52A1</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TransactionManager</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ConnectionUtils</span> connectionUtils<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setConnectionUtils</span><span class="token punctuation">(</span><span class="token class-name">ConnectionUtils</span> connectionUtils<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>connectionUtils <span class="token operator">=</span> connectionUtils<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u5F00\u542F\u4E8B\u52A1
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            connectionUtils<span class="token punctuation">.</span><span class="token function">getThreadConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u63D0\u4EA4\u4E8B\u52A1
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            connectionUtils<span class="token punctuation">.</span><span class="token function">getThreadConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u56DE\u6EDA\u4E8B\u52A1
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            connectionUtils<span class="token punctuation">.</span><span class="token function">getThreadConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u91CA\u653E\u4E8B\u52A1
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u8FD8\u56DE\u8FDE\u63A5\u6C60\u4E2D,\u7EBF\u7A0B\u8FD8\u56DE,\u4E0D\u662F\u5173\u95ED</span>
            connectionUtils<span class="token punctuation">.</span><span class="token function">getThreadConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// \u628A\u8FDE\u63A5\u548C\u7EBF\u7A0B\u89E3\u7ED1</span>
            connectionUtils<span class="token punctuation">.</span><span class="token function">removeConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u4F7F\u7528</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">findAccountById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> accountId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. \u5F00\u542F\u4E8B\u52A1</span>
        transactionManager<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. \u6267\u884C\u64CD\u4F5C</span>
        <span class="token class-name">Account</span> account <span class="token operator">=</span> accountDao<span class="token punctuation">.</span><span class="token function">findAccountById</span><span class="token punctuation">(</span>accountId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. \u63D0\u4EA4\u4E8B\u52A1</span>
        transactionManager<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. \u8FD4\u56DE\u7ED3\u679C</span>
        <span class="token keyword">return</span> account<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 5. \u56DE\u6EDA\u64CD\u4F5C</span>
        transactionManager<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token comment">// 6. \u91CA\u653E\u8FDE\u63A5</span>
        transactionManager<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5F15\u53D1\u7684\u95EE\u9898: \u6BCF\u4E2A\u65B9\u6CD5\u90FD\u9700\u8981\u503C\u6267\u884C\u4E0A\u9762\u76846\u6B65\u9AA4(\u4EE3\u7801\u5197\u4F59),\u6709\u4EC0\u4E48\u65B9\u6CD5\u53EF\u4EE5\u89E3\u51B3.?</p></blockquote><h4 id="_2-\u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u5730\u7406\u65B9\u5F0F\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_2-\u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u5730\u7406\u65B9\u5F0F\u5904\u7406" aria-hidden="true">#</a> 2. \u57FA\u4E8E\u63A5\u53E3\u7684\u52A8\u6001\u5730\u7406\u65B9\u5F0F\u5904\u7406</h4><h5 id="_1-\u521B\u5EFA\u4EE3\u7406\u5DE5\u5382" tabindex="-1"><a class="header-anchor" href="#_1-\u521B\u5EFA\u4EE3\u7406\u5DE5\u5382" aria-hidden="true">#</a> 1. \u521B\u5EFA\u4EE3\u7406\u5DE5\u5382</h5><ul><li>\u4EE3\u7406Server\u589E\u5F3A\u65B9\u6CD5</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanFactory</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * \u4E8B\u52A1\u5DE5\u5177\u7C7B
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">TransactionManager</span> transactionManager<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * set\u65B9\u5F0F\u6CE8\u5165
     *
     * <span class="token keyword">@param</span> <span class="token parameter">accountService</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAccountService</span><span class="token punctuation">(</span><span class="token class-name">AccountService</span> accountService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>accountService <span class="token operator">=</span> accountService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">setTransactionManager</span><span class="token punctuation">(</span><span class="token class-name">TransactionManager</span> transactionManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>transactionManager <span class="token operator">=</span> transactionManager<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u83B7\u53D6Service\u4EE3\u7406\u5BF9\u8C61
     *
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">AccountService</span> <span class="token function">getAccountService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>accountService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                accountService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token doc-comment comment">/**
                     * \u6DFB\u52A0\u4E8B\u52A1\u652F\u6301
                     * <span class="token keyword">@param</span> <span class="token parameter">proxy</span>
                     * <span class="token keyword">@param</span> <span class="token parameter">method</span>
                     * <span class="token keyword">@param</span> <span class="token parameter">args</span>
                     * <span class="token keyword">@return</span>
                     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">Throwable</span></span>
                     */</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                        <span class="token class-name">Object</span> reValue <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                        <span class="token keyword">try</span> <span class="token punctuation">{</span>
                            <span class="token comment">// 1. \u5F00\u542F\u4E8B\u52A1</span>
                            transactionManager<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// 2. \u6267\u884C\u64CD\u4F5C</span>
                            reValue <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>accountService<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// 3. \u63D0\u4EA4\u4E8B\u52A1</span>
                            transactionManager<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// 4. \u8FD4\u56DE\u7ED3\u679C</span>
                            <span class="token keyword">return</span> reValue<span class="token punctuation">;</span>
                        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token comment">// 5. \u56DE\u6EDA\u64CD\u4F5C</span>
                            transactionManager<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                            <span class="token comment">// 6. \u91CA\u653E\u8FDE\u63A5</span>
                            transactionManager<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--\u914D\u7F6E\u4EE3\u7406Service--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>proxyAccountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beanFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAccountService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--\u914D\u7F6EbeanFactory--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beanFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.factory.BeanFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--\u6CE8\u5165Dao\u5BF9\u8C61--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--\u6CE8\u5165\u4E8B\u52A1\u7BA1\u7406--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>transactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>transactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--\u914D\u7F6EService--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--\u6CE8\u5165Dao\u5BF9\u8C61--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u4EE3\u7406\u7684\u65B9\u5F0F\u6211\u4EEC\u89E3\u51B3\u4E86\u4E0A\u9762\u51FA\u73B0\u7684\u4EE3\u7801\u5197\u4F59\u95EE\u9898,\u6B64\u65F6\u540C\u6837\u4E5F\u51FA\u73B0\u7684\u4E86\u4E00\u4E2A\u95EE\u9898.\u914D\u7F6E\u8FC7\u4E8E\u7E41\u7410..... <strong>\u6211\u4EEC\u53EF\u4EE5\u5229\u7528Sprng AOP\u89E3\u51B3</strong></p><hr><h2 id="_5-spring-aop" tabindex="-1"><a class="header-anchor" href="#_5-spring-aop" aria-hidden="true">#</a> 5. Spring AOP</h2><h3 id="_1-\u6982\u8FF0-3" tabindex="-1"><a class="header-anchor" href="#_1-\u6982\u8FF0-3" aria-hidden="true">#</a> 1. \u6982\u8FF0</h3><h4 id="_1-\u4EC0\u4E48\u662Faop" tabindex="-1"><a class="header-anchor" href="#_1-\u4EC0\u4E48\u662Faop" aria-hidden="true">#</a> 1. \u4EC0\u4E48\u662FAOP</h4><p><strong>AOP</strong>\uFF1A\u5168\u79F0\u662F Aspect Oriented Programming \u5373\uFF1A<code>\u9762\u5411\u5207\u9762\u7F16\u7A0B</code>\u3002</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code>\u7B80\u5355\u7684\u8BF4\u5B83\u5C31\u662F\u628A\u6211\u4EEC\u7A0B\u5E8F\u91CD\u590D\u7684\u4EE3\u7801\u62BD\u53D6\u51FA\u6765\uFF0C\u5728\u9700\u8981\u6267\u884C\u7684\u65F6\u5019\uFF0C\u4F7F\u7528\u52A8\u6001\u4EE3\u7406\u7684\u6280\u672F\uFF0C\u5728\u4E0D\u4FEE\u6539\u6E90\u7801\u7684\u57FA\u7840\u4E0A\uFF0C\u5BF9\u6211\u4EEC\u7684\u5DF2\u6709\u65B9\u6CD5\u8FDB\u884C\u589E\u5F3A\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-aop\u4F18\u52BF" tabindex="-1"><a class="header-anchor" href="#_2-aop\u4F18\u52BF" aria-hidden="true">#</a> 2. AOP\u4F18\u52BF</h4><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code>\u4F5C\u7528\uFF1A
	\u5728\u7A0B\u5E8F\u8FD0\u884C\u671F\u95F4\uFF0C\u4E0D\u4FEE\u6539\u6E90\u7801\u5BF9\u5DF2\u6709\u65B9\u6CD5\u8FDB\u884C\u589E\u5F3A\u3002
\u4F18\u52BF\uFF1A
    \u51CF\u5C11\u91CD\u590D\u4EE3\u7801
    \u63D0\u9AD8\u5F00\u53D1\u6548\u7387
    \u7EF4\u62A4\u65B9\u4FBF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-aop-\u7684\u5B9E\u73B0\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_3-aop-\u7684\u5B9E\u73B0\u65B9\u5F0F" aria-hidden="true">#</a> 3. <strong>AOP</strong> <strong>\u7684\u5B9E\u73B0\u65B9\u5F0F</strong></h4><p><code>\u4F7F\u7528\u52A8\u6001\u4EE3\u7406\u6280\u672F</code></p><h3 id="_2-aop\u672F\u8BED" tabindex="-1"><a class="header-anchor" href="#_2-aop\u672F\u8BED" aria-hidden="true">#</a> 2. AOP\u672F\u8BED</h3><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">1.</span> <span class="token value attr-value">Joinpoint(\u8FDE\u63A5\u70B9): \u6240\u8C13\u8FDE\u63A5\u70B9\u662F\u6307\u90A3\u4E9B\u88AB\u62E6\u622A\u5230\u7684\u70B9\u3002\u5728 spring \u4E2D,\u8FD9\u4E9B\u70B9\u6307\u7684\u662F\u65B9\u6CD5,\u56E0\u4E3A spring \u53EA\u652F\u6301\u65B9\u6CD5\u7C7B\u578B\u7684\u8FDE\u63A5\u70B9\u3002 [\u4E1A\u52A1\u5C42\u7684\u65B9\u6CD5]</span>
<span class="token key attr-name">2.</span> <span class="token value attr-value">Pointcut(\u5207\u5165\u70B9): \u6240\u8C13\u5207\u5165\u70B9\u662F\u6307\u6211\u4EEC\u8981\u5BF9\u54EA\u4E9B Joinpoint \u8FDB\u884C\u62E6\u622A\u7684\u5B9A\u4E49\u3002[\u5207\u5165\u70B9: \u88AB\u589E\u5F3A\u7684\u65B9\u6CD5, \u5E76\u4E0D\u662F\u6240\u6709\u7684\u8FDE\u63A5\u70B9\u90FD\u662F,\u53EA\u6709\u88AB\u589E\u5F3A\u7684\u65B9\u6CD5\u624D\u79F0\u4E3A&quot;\u5207\u5165\u70B9&quot; ]</span>
<span class="token key attr-name">3.</span> <span class="token value attr-value">Advice(\u901A\u77E5/\u589E\u5F3A): \u6240\u8C13\u901A\u77E5\u662F\u6307\u62E6\u622A\u5230 Joinpoint \u4E4B\u540E\u6240\u8981\u505A\u7684\u4E8B\u60C5\u5C31\u662F\u901A\u77E5\u3002\u901A\u77E5\u7684\u7C7B\u578B\uFF1A\u524D\u7F6E\u901A\u77E5,\u540E\u7F6E\u901A\u77E5,\u5F02\u5E38\u901A\u77E5,\u6700\u7EC8\u901A\u77E5,\u73AF\u7ED5\u901A\u77E5\u3002</span>
<span class="token key attr-name">4.</span> <span class="token value attr-value">Introduction(\u5F15\u4ECB): \u5F15\u4ECB\u662F\u4E00\u79CD\u7279\u6B8A\u7684\u901A\u77E5\u5728\u4E0D\u4FEE\u6539\u7C7B\u4EE3\u7801\u7684\u524D\u63D0\u4E0B, Introduction \u53EF\u4EE5\u5728\u8FD0\u884C\u671F\u4E3A\u7C7B\u52A8\u6001\u5730\u6DFB\u52A0\u4E00\u4E9B\u65B9\u6CD5\u6216 Field\u3002</span>
<span class="token key attr-name">5.</span> <span class="token value attr-value">Target(\u76EE\u6807\u5BF9\u8C61): \u4EE3\u7406\u7684\u76EE\u6807\u5BF9\u8C61\u3002</span>
<span class="token key attr-name">6.</span> <span class="token value attr-value">Weaving(\u7EC7\u5165): \u662F\u6307\u628A\u589E\u5F3A\u5E94\u7528\u5230\u76EE\u6807\u5BF9\u8C61\u6765\u521B\u5EFA\u65B0\u7684\u4EE3\u7406\u5BF9\u8C61\u7684\u8FC7\u7A0B\u3002spring \u91C7\u7528\u52A8\u6001\u4EE3\u7406\u7EC7\u5165\uFF0C\u800C AspectJ \u91C7\u7528\u7F16\u8BD1\u671F\u7EC7\u5165\u548C\u7C7B\u88C5\u8F7D\u671F\u7EC7\u5165\u3002</span>
<span class="token key attr-name">7.</span> <span class="token value attr-value">Proxy\uFF08\u4EE3\u7406\uFF09: \u4E00\u4E2A\u7C7B\u88AB AOP \u7EC7\u5165\u589E\u5F3A\u540E\uFF0C\u5C31\u4EA7\u751F\u4E00\u4E2A\u7ED3\u679C\u4EE3\u7406\u7C7B\u3002</span>
<span class="token key attr-name">8.</span> <span class="token value attr-value">Aspect(\u5207\u9762): \u662F\u5207\u5165\u70B9\u548C\u901A\u77E5\uFF08\u5F15\u4ECB\uFF09\u7684\u7ED3\u5408\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-aop\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_3-aop\u4F7F\u7528" aria-hidden="true">#</a> 3. AOP\u4F7F\u7528</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--AspectJ: \u89E3\u6790\u5207\u5165\u70B9\u8868\u8FBE\u5F0F--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-\u5207\u5165\u70B9\u8868\u8FBE\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-\u5207\u5165\u70B9\u8868\u8FBE\u5F0F" aria-hidden="true">#</a> 1. \u5207\u5165\u70B9\u8868\u8FBE\u5F0F</h4><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">1).</span> <span class="token value attr-value">\u5173\u952E\u5B57: execution(\u8868\u8FBE\u5F0F)</span>
<span class="token key attr-name">2).</span> <span class="token value attr-value">\u8868\u8FBE\u5F0F:</span>
<span class="token key attr-name">        \u8BBF\u95EE\u4FEE\u9970\u7B26</span> <span class="token value attr-value">\u8FD4\u56DE\u503C \u5305\u540D.\u5305\u540D.\u5305\u540D...\u7C7B\u540D.\u65B9\u6CD5\u540D.(\u53C2\u6570\u5217\u8868)</span>
<span class="token key attr-name">3).</span> <span class="token value attr-value">\u6807\u51C6\u5199\u6CD5:</span>
<span class="token key attr-name">        public</span> <span class="token value attr-value">void com.chggx.service.impl.AccountServiceImpl.saveAccount()</span>
<span class="token key attr-name">        PS</span><span class="token punctuation">:</span> <span class="token value attr-value">1. \u8BBF\u95EE\u4FEE\u9970\u7B26\u7701\u7565:  void com.chggx.service.impl.AccountServiceImpl.saveAccount()</span>
<span class="token key attr-name">            2.</span> <span class="token value attr-value">\u8FD4\u56DE\u503C\u53EF\u4EE5\u4F7F\u7528\u4EFB\u610F\u901A\u914D\u7B26,\u8868\u793A\u4EFB\u610F\u8FD4\u56DE\u503C:  * com.chggx.service.impl.AccountServiceImpl.saveAccount()</span>
<span class="token key attr-name">            3.</span> <span class="token value attr-value">\u5305\u540D\u53EF\u4EE5\u4F7F\u7528\u7EDF\u914D\u7B26,\u8868\u793A\u4EFB\u610F\u5305(\u6CE8\u610F: \u6709\u51E0\u7EA7\u5305,\u5C31\u5199\u51E0\u4E2A&quot;*&quot;):  * *.*.*.AccountServiceImpl.saveAccount()</span>
<span class="token key attr-name">            4.</span> <span class="token value attr-value">\u53EF\u4EE5\u4F7F\u7528 &quot;..&quot;: \u8868\u793A\u5F53\u524D\u5305\u53CA\u5176\u5B50\u5305:  * *..AccountServiceImpl.saveAccount()</span>
<span class="token key attr-name">            5.</span> <span class="token value attr-value">\u7C7B\u540D\u548C\u65B9\u6CD5\u540D\u90FD\u53EF\u4EE5\u4F7F\u7528 &quot;*&quot; \u6765\u5B9E\u73B0\u901A\u914D * *..*.*()</span>
<span class="token key attr-name">            6.</span> <span class="token value attr-value">\u53C2\u6570\u5217\u8868:</span>
<span class="token key attr-name">                    1.</span> <span class="token value attr-value">\u53EF\u4EE5\u76F4\u63A5\u5199\u6570\u636E\u7C7B\u578B</span>
<span class="token key attr-name">                        1.</span> <span class="token value attr-value">\u57FA\u672C\u7C7B\u578B: \u76F4\u63A5\u5199\u540D\u79F0  [int]: * *..*.*(int)</span>
<span class="token key attr-name">                        2.</span> <span class="token value attr-value">\u5F15\u7528\u7C7B\u578B: &quot;\u5305\u540D.\u7C7B\u540D&quot; \u65B9\u5F0F  [java.lang.String]</span>
<span class="token key attr-name">                    2.</span> <span class="token value attr-value">\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u7EDF\u914D\u7B26 &quot;*&quot; \u8868\u793A\u4EFB\u610F\u7C7B\u578B,\u4F46\u5FC5\u987B\u6709\u53C2\u6570:  * *..*.*(*)</span>
<span class="token key attr-name">                    3.</span> <span class="token value attr-value">\u53EF\u4EE5\u4F7F\u7528 &quot;..&quot;: \u8868\u793A\u6709\u65E0\u53C2\u6570\u5747\u53EF,\u6709\u53C2\u6570\u53EF\u4EE5\u662F\u4EFB\u610F\u7C7B\u578B: * *..*(..)</span>
<span class="token key attr-name">4).</span> <span class="token value attr-value">\u5168\u901A\u914D\u7B26\u5199\u6CD5</span>
<span class="token key attr-name">        *</span> <span class="token value attr-value">*..*(..)</span>
<span class="token key attr-name">5).</span> <span class="token value attr-value">\u5B9E\u9645\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u5207\u5165\u70B9\u8868\u8FBE\u5F0F\u7684\u901A\u5E38\u5199\u6CD5:</span>
<span class="token key attr-name">        \u5207\u5230\u4E1A\u52A1\u5C42\u5B9E\u73B0\u7C7B\u4E0B\u7684\u6240\u6709\u65B9\u6CD5</span><span class="token punctuation">:</span>  <span class="token value attr-value">* com.chggx.service.impl.*.*(..)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-spring\u57FA\u4E8Exml\u7684aop\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-spring\u57FA\u4E8Exml\u7684aop\u914D\u7F6E" aria-hidden="true">#</a> 2. spring\u57FA\u4E8EXML\u7684AOP\u914D\u7F6E</h4><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">1.</span> <span class="token value attr-value">\u628A\u901A\u77E5Bean\u4E5F\u4EA4\u7ED9spring\u6765\u7BA1\u7406</span>
<span class="token key attr-name">2.</span> <span class="token value attr-value">\u4F7F\u7528 aop:config \u6807\u7B7E\u8868\u540D\u5F00\u59CBAOP\u7684\u914D\u7F6E</span>
<span class="token key attr-name">3.</span> <span class="token value attr-value">\u4F7F\u7528 aop:aspect \u6807\u7B7E\u8868\u540D\u914D\u7F6E\u5207\u9762</span>
<span class="token key attr-name">        id\u5C5E\u6027</span><span class="token punctuation">:</span> <span class="token value attr-value">\u7ED9\u5207\u9762\u63D0\u4F9B\u4E00\u4E2A\u552F\u4E00ID</span>
<span class="token key attr-name">        ref\u5C5E\u6027</span><span class="token punctuation">:</span> <span class="token value attr-value">\u662F\u6307\u5B9A\u901A\u77E5\u7C7Bbean\u7684id</span>
<span class="token key attr-name">4.</span> <span class="token value attr-value">\u5728 aop:aspect \u6807\u7B7E\u7684\u5185\u90E8\u4F7F\u7528\u5BF9\u5E94\u6807\u7B7E\u6765\u914D\u7F6E\u901A\u77E5\u7C7B\u578B</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_1-\u5165\u95E8" tabindex="-1"><a class="header-anchor" href="#_1-\u5165\u95E8" aria-hidden="true">#</a> 1. \u5165\u95E8</h5><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springAOP01.png" alt=""></p><ul><li>\u914D\u7F6E</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/aop<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/aop
        https://www.springframework.org/schema/aop/spring-aop.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6Espring ioc: \u628Aservice\u5BF9\u8C61\u914D\u7F6E\u8FDB\u6765 \u8FDE\u63A5\u70B9: \u4E1A\u52A1\u5C42\u7684\u65B9\u6CD5--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6ELogger\u7C7B: \u7528\u4E8E\u589E\u5F3A\u4E1A\u52A1\u5C42\u7684\u65B9\u6CD5(\u8BB0\u5F55\u65E5\u5FD7)--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logger<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx.utils.Logger<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6EAOP--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--\u914D\u7F6E\u5207\u9762--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspect</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--
                1. \u914D\u7F6E\u901A\u77E5\u7C7B\u578B: \u524D\u7F6E\u901A\u77E5
                2. \u901A\u77E5\u65B9\u6CD5: printLog() Logger\u7C7B\u4E2D\u7684\u65B9\u6CD5
                3. \u5207\u5165\u70B9\u8868\u8FBE\u5F0F: execution(public void com.chggx.service.impl.AccountServiceImpl.saveAccount()): \u7528\u4E8E\u589E\u5F3A\u7684\u65B9\u6CD5
            --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>before</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>printLog<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">pointcut</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(public void com.chggx.service.impl.AccountServiceImpl.saveAccount())<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspect</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-\u901A\u77E5\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_2-\u901A\u77E5\u7C7B\u578B" aria-hidden="true">#</a> 2. \u901A\u77E5\u7C7B\u578B</h5><table><thead><tr><th>\u901A\u77E5\u7C7B\u578B</th><th>\u4F5C\u7528</th><th></th></tr></thead><tbody><tr><td><code>\u524D\u7F6E\u901A\u77E5</code></td><td>\u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6267\u884C\u4E4B\u524D\u6267\u884C</td><td>before</td></tr><tr><td><code>\u540E\u7F6E\u901A\u77E5</code></td><td>\u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6B63\u5E38\u6267\u884C\u4E4B\u540E\u6267\u884C. (\u5B83\u548C\u5F02\u5E38\u901A\u77E5\u6C38\u8FDC\u53EA\u4F1A\u6267\u884C\u4E00\u4E2A)</td><td>after-returning</td></tr><tr><td><code>\u5F02\u5E38\u901A\u77E5</code></td><td>\u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6267\u884C\u4EA7\u751F\u5F02\u5E38\u4E4B\u540E\u6267\u884C. (\u5B83\u548C\u540E\u7F6E\u901A\u77E5\u6C38\u8FDC\u53EA\u4F1A\u6267\u884C\u4E00\u4E2A)</td><td>after-throwing</td></tr><tr><td><code>\u6700\u7EC8\u901A\u77E5</code></td><td>\u65E0\u8BBA\u5207\u5165\u70B9\u65B9\u6CD5\u662F\u5426\u6B63\u5E38\u6267\u884C,\u5B83\u90FD\u4F1A\u5728\u5176\u540E\u9762\u6267\u884C</td><td>after</td></tr><tr><td><code>\u73AF\u7ED5\u901A\u77E5</code></td><td>\u4E00\u79CD\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u624B\u52A8\u63A7\u5236\u589E\u5F3A\u65B9\u6CD5\u4F55\u65F6\u6267\u884C\u7684\u65B9\u5F0F\u3002<code>[\u63A8\u8350}</code></td><td>around</td></tr></tbody></table><h6 id="_1-xml\u5199\u6CD5" tabindex="-1"><a class="header-anchor" href="#_1-xml\u5199\u6CD5" aria-hidden="true">#</a> 1. xml\u5199\u6CD5</h6><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springAOP02.png" alt=""></p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--\u914D\u7F6EAOP--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--\u914D\u7F6E\u5207\u9762--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspect</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--\u524D\u7F6E\u901A\u77E5: \u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6267\u884C\u4E4B\u524D\u6267\u884C--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>before</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beforePrintLog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(public void com.chggx.service.impl.AccountServiceImpl.saveAccount())<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--\u540E\u7F6E\u901A\u77E5: \u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6B63\u5E38\u6267\u884C\u4E4B\u540E\u6267\u884C. (\u5B83\u548C\u5F02\u5E38\u901A\u77E5\u6C38\u8FDC\u53EA\u4F1A\u6267\u884C\u4E00\u4E2A)--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after-returning</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>afterReturningPrintLog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(public void com.chggx.service.impl.AccountServiceImpl.saveAccount())<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--\u5F02\u5E38\u901A\u77E5: \u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6267\u884C\u4EA7\u751F\u5F02\u5E38\u4E4B\u540E\u6267\u884C. (\u5B83\u548C\u540E\u7F6E\u901A\u77E5\u6C38\u8FDC\u53EA\u4F1A\u6267\u884C\u4E00\u4E2A)--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after-throwing</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>afterThrowPrintLog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(public void com.chggx.service.impl.AccountServiceImpl.saveAccount())<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--\u6700\u7EC8\u901A\u77E5: \u65E0\u8BBA\u5207\u5165\u70B9\u65B9\u6CD5\u662F\u5426\u6B63\u5E38\u6267\u884C,\u5B83\u90FD\u4F1A\u5728\u5176\u540E\u9762\u6267\u884C--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>afterPrintLog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(public void com.chggx.service.impl.AccountServiceImpl.saveAccount())<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspect</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-\u4F18\u5316\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_2-\u4F18\u5316\u4EE3\u7801" aria-hidden="true">#</a> 2. \u4F18\u5316\u4EE3\u7801</h6><ul><li>\u5728\u6807\u7B7E&lt;/aop:aspect&gt;\u5185</li></ul><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springAOP03.png" alt=""></p><ul><li>\u5728\u6807\u7B7E &lt;/aop:aspect&gt;\u5916</li></ul><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springAOP04.png" alt=""></p><h5 id="_3-\u73AF\u7ED5\u901A\u77E5" tabindex="-1"><a class="header-anchor" href="#_3-\u73AF\u7ED5\u901A\u77E5" aria-hidden="true">#</a> 3. \u73AF\u7ED5\u901A\u77E5 \u{1F604}</h5><h6 id="_1-\u73AF\u7ED5\u901A\u77E5\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_1-\u73AF\u7ED5\u901A\u77E5\u95EE\u9898" aria-hidden="true">#</a> 1. \u73AF\u7ED5\u901A\u77E5\u95EE\u9898</h6><ul><li>\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--\u914D\u7F6EAOP--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
         \u914D\u7F6E\u5207\u5165\u70B9\u8868\u8FBE\u5F0F:
      --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ptl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* com.chggx.service.impl.*.*(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--\u914D\u7F6E\u5207\u9762--&gt;</span>
    <span class="token comment">&lt;!-- pointcut-ref\u5C5E\u6027: \u7528\u4E8E\u914D\u7F6E\u5207\u5165\u70B9\u8868\u8FBE\u5F0F--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspect</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--\u914D\u7F6E\u73AF\u7ED5\u901A\u77E5: \u8BE6\u7EC6\u6CE8\u91CA(Logger\u7C7B)--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>around</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aroundPrintLog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ptl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspect</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u65B9\u6CD5</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u73AF\u7ED5\u901A\u77E5\u65B9\u6CD5
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">aroundPrintLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684before...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// \u88AB\u589E\u5F3A\u7684\u65B9\u6CD5</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;save...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u7ED3\u679C</li></ul><div class="language-verilog ext-verilog line-numbers-mode"><pre class="language-verilog"><code>E<span class="token punctuation">:</span>\\develop\\Java\\jdk1<span class="token number">.8</span><span class="token punctuation">.</span><span class="token number">0_91</span>\\bin\\java<span class="token punctuation">.</span>exe <span class="token operator">-</span>
\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684<span class="token keyword">before</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u95EE\u9898: \u5F53\u6211\u4EEC\u914D\u7F6E\u4E86\u73AF\u7ED5\u901A\u77E5\u4E4B\u540E,\u5207\u5165\u70B9\u65B9\u6CD5\u6CA1\u6709\u6267\u884C,\u800C\u901A\u77E5\u65B9\u6CD5\u6267\u884C\u4E86?</li></ul><h6 id="_2-\u89E3\u51B3" tabindex="-1"><a class="header-anchor" href="#_2-\u89E3\u51B3" aria-hidden="true">#</a> 2. \u89E3\u51B3</h6><p>\u901A\u8FC7\u4EE3\u7406\u7684\u65B9\u5F0F\u5B9E\u73B0\u4E8B\u52A1\u63A7\u5236\u5206\u6790</p><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/springAOP05.png" alt=""></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>1. \u5206\u6790\uFF1A
       \u901A\u8FC7\u5BF9\u6BD4\u52A8\u6001\u4EE3\u7406\u4E2D\u7684\u73AF\u7ED5\u901A\u77E5\u4EE3\u7801\uFF0C\u53D1\u73B0\u52A8\u6001\u4EE3\u7406\u7684\u73AF\u7ED5\u901A\u77E5\u6709\u660E\u786E\u7684\u5207\u5165\u70B9\u65B9\u6CD5\u8C03\u7528\uFF0C\u800C\u6211\u4EEC\u7684\u4EE3\u7801\u4E2D\u6CA1\u6709\u3002
2. \u89E3\u51B3\uFF1A
       Spring\u6846\u67B6\u4E3A\u6211\u4EEC\u63D0\u4F9B\u4E86\u4E00\u4E2A\u63A5\u53E3\uFF1A&quot;ProceedingJoinPoint&quot;\u3002&quot;\u8BE5\u63A5\u53E3\u6709\u4E00\u4E2A\u65B9\u6CD5proceed()&quot;\uFF0C\u6B64\u65B9\u6CD5\u5C31\u76F8\u5F53\u4E8E\u660E\u786E\u8C03\u7528&quot;\u5207\u5165\u70B9\u65B9\u6CD5&quot;\u3002
       \u8BE5\u63A5\u53E3\u53EF\u4EE5\u4F5C\u4E3A\u73AF\u7ED5\u901A\u77E5\u7684\u65B9\u6CD5\u53C2\u6570\uFF0C\u5728\u7A0B\u5E8F\u6267\u884C\u65F6\uFF0Cspring\u6846\u67B6\u4F1A\u4E3A\u6211\u4EEC\u63D0\u4F9B\u8BE5\u63A5\u53E3\u7684\u5B9E\u73B0\u7C7B\u4F9B\u6211\u4EEC\u4F7F\u7528\u3002
3. spring\u4E2D\u7684\u73AF\u7ED5\u901A\u77E5\uFF1A
       \u5B83\u662Fspring\u6846\u67B6\u4E3A\u6211\u4EEC\u63D0\u4F9B\u7684&quot;\u4E00\u79CD\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u624B\u52A8\u63A7\u5236\u589E\u5F3A\u65B9\u6CD5\u4F55\u65F6\u6267\u884C\u7684\u65B9\u5F0F\u3002&quot;
       \u53EF\u4EE5\u4F7F\u7528\u4EE3\u7801\u7684\u65B9\u5F0F\u5B9E\u73B0\u5176\u4F594\u4E2D\u901A\u77E5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">aroundPrintLog</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> point<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span> reValue <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5F97\u5230\u65B9\u6CD5\u6267\u884C\u6240\u9700\u8981\u7684\u53C2\u6570</span>
        <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684...\u524D\u7F6E\u901A\u77E5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u660E\u786E\u8C03\u7528\u4E1A\u52A1\u5C42\u65B9\u6CD5(\u5207\u5165\u70B9\u65B9\u6CD5)</span>
        reValue <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684...\u540E\u7F6E\u901A\u77E5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> reValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684...\u5F02\u5E38\u901A\u77E5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>throwable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684...\u6700\u7EC8\u901A\u77E5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-\u57FA\u4E8E\u6CE8\u89E3aop\u914D\u7F6E-\u63A8\u8350\u73AF\u7ED5\u901A\u77E5" tabindex="-1"><a class="header-anchor" href="#_3-\u57FA\u4E8E\u6CE8\u89E3aop\u914D\u7F6E-\u63A8\u8350\u73AF\u7ED5\u901A\u77E5" aria-hidden="true">#</a> 3. \u57FA\u4E8E\u6CE8\u89E3AOP\u914D\u7F6E <code>\u63A8\u8350\u73AF\u7ED5\u901A\u77E5</code></h4><table><thead><tr><th>\u901A\u77E5\u7C7B\u578B</th><th>\u4F5C\u7528</th><th></th></tr></thead><tbody><tr><td><code>\u524D\u7F6E\u901A\u77E5</code></td><td>\u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6267\u884C\u4E4B\u524D\u6267\u884C</td><td>@Before</td></tr><tr><td><code>\u540E\u7F6E\u901A\u77E5</code></td><td>\u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6B63\u5E38\u6267\u884C\u4E4B\u540E\u6267\u884C. (\u5B83\u548C\u5F02\u5E38\u901A\u77E5\u6C38\u8FDC\u53EA\u4F1A\u6267\u884C\u4E00\u4E2A)</td><td>@AfterReturning</td></tr><tr><td><code>\u5F02\u5E38\u901A\u77E5</code></td><td>\u5728\u5207\u5165\u70B9\u65B9\u6CD5\u6267\u884C\u4EA7\u751F\u5F02\u5E38\u4E4B\u540E\u6267\u884C. (\u5B83\u548C\u540E\u7F6E\u901A\u77E5\u6C38\u8FDC\u53EA\u4F1A\u6267\u884C\u4E00\u4E2A)</td><td>@AfterThrowing</td></tr><tr><td><code>\u6700\u7EC8\u901A\u77E5</code></td><td>\u65E0\u8BBA\u5207\u5165\u70B9\u65B9\u6CD5\u662F\u5426\u6B63\u5E38\u6267\u884C,\u5B83\u90FD\u4F1A\u5728\u5176\u540E\u9762\u6267\u884C</td><td>@Ater</td></tr><tr><td><code>\u73AF\u7ED5\u901A\u77E5</code></td><td>\u4E00\u79CD\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u624B\u52A8\u63A7\u5236\u589E\u5F3A\u65B9\u6CD5\u4F55\u65F6\u6267\u884C\u7684\u65B9\u5F0F\u3002<code>[\u63A8\u8350]</code></td><td>@Around</td></tr></tbody></table><h5 id="_1-\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-\u914D\u7F6E" aria-hidden="true">#</a> 1. \u914D\u7F6E</h5><ul><li>XML\u914D\u7F6E</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/aop<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/aop
        http://www.springframework.org/schema/aop/spring-aop.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6Espring\u521B\u5EFA\u5BB9\u5668\u65F6\u8981\u626B\u63CF\u7684\u5305--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.chggx<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--\u914D\u7F6Espring\u5F00\u542F\u6CE8\u89E3AOP\u7684\u652F\u6301--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspectj-autoproxy</span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u6CE8\u89E3\u914D\u7F6E</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages<span class="token operator">=</span><span class="token string">&quot;com.itheima&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EnableAspectJAutoProxy</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfiguration</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-\u901A\u77E5\u7C7B" tabindex="-1"><a class="header-anchor" href="#_2-\u901A\u77E5\u7C7B" aria-hidden="true">#</a> 2. \u901A\u77E5\u7C7B</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">&quot;logger&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Aspect</span> <span class="token comment">// \u5F53\u524D\u7C7B\u662F\u4E00\u4E2A\u5207\u9762\u7C7B</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Logger</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.chggx.service.impl.*.*(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ptl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u524D\u7F6E\u901A\u77E5
     */</span>
    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;ptl()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beforePrintLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u524D\u7F6E\u901A\u77E5log\u4E2D\u7684before...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u540E\u7F6E\u901A\u77E5
     */</span>
    <span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span><span class="token string">&quot;ptl()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterReturningPrintLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u540E\u7F6E\u901A\u77E5log\u4E2D\u7684afterReturning...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u5F02\u5E38\u901A\u77E5
     */</span>
    <span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span><span class="token string">&quot;ptl()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterThrowPrintLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F02\u5E38\u901A\u77E5log\u4E2D\u7684afterThrow...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u6700\u7EC8\u901A\u77E5
     */</span>
    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">&quot;ptl()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterPrintLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u6700\u7EC8\u901A\u77E5log\u4E2D\u7684after...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * \u73AF\u7ED5\u901A\u77E5
     * 1. \u95EE\u9898:
     * \u5F53\u6211\u4EEC\u914D\u7F6E\u4E86\u73AF\u7ED5\u901A\u77E5\u4E4B\u540E,\u5207\u5165\u70B9\u65B9\u6CD5\u6CA1\u6709\u6267\u884C,\u800C\u901A\u77E5\u65B9\u6CD5\u6267\u884C\u4E86
     * 2. \u5206\u6790\uFF1A
     * \u901A\u8FC7\u5BF9\u6BD4\u52A8\u6001\u4EE3\u7406\u4E2D\u7684\u73AF\u7ED5\u901A\u77E5\u4EE3\u7801\uFF0C\u53D1\u73B0\u52A8\u6001\u4EE3\u7406\u7684\u73AF\u7ED5\u901A\u77E5\u6709\u660E\u786E\u7684\u5207\u5165\u70B9\u65B9\u6CD5\u8C03\u7528\uFF0C\u800C\u6211\u4EEC\u7684\u4EE3\u7801\u4E2D\u6CA1\u6709\u3002
     * 3. \u89E3\u51B3\uFF1A
     * Spring\u6846\u67B6\u4E3A\u6211\u4EEC\u63D0\u4F9B\u4E86\u4E00\u4E2A\u63A5\u53E3\uFF1AProceedingJoinPoint\u3002\u8BE5\u63A5\u53E3\u6709\u4E00\u4E2A\u65B9\u6CD5proceed()\uFF0C\u6B64\u65B9\u6CD5\u5C31\u76F8\u5F53\u4E8E\u660E\u786E\u8C03\u7528\u5207\u5165\u70B9\u65B9\u6CD5\u3002
     * \u8BE5\u63A5\u53E3\u53EF\u4EE5\u4F5C\u4E3A\u73AF\u7ED5\u901A\u77E5\u7684\u65B9\u6CD5\u53C2\u6570\uFF0C\u5728\u7A0B\u5E8F\u6267\u884C\u65F6\uFF0Cspring\u6846\u67B6\u4F1A\u4E3A\u6211\u4EEC\u63D0\u4F9B\u8BE5\u63A5\u53E3\u7684\u5B9E\u73B0\u7C7B\u4F9B\u6211\u4EEC\u4F7F\u7528\u3002
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * 4. spring\u4E2D\u7684\u73AF\u7ED5\u901A\u77E5\uFF1A
     * \u5B83\u662Fspring\u6846\u67B6\u4E3A\u6211\u4EEC\u63D0\u4F9B\u7684\u4E00\u79CD\u53EF\u4EE5\u5728\u4EE3\u7801\u4E2D\u624B\u52A8\u63A7\u5236\u589E\u5F3A\u65B9\u6CD5\u4F55\u65F6\u6267\u884C\u7684\u65B9\u5F0F\u3002
     */</span>
    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;ptl()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">aroundPrintLog</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> point<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span> reValue <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u5F97\u5230\u65B9\u6CD5\u6267\u884C\u6240\u9700\u8981\u7684\u53C2\u6570</span>
            <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684...\u524D\u7F6E\u901A\u77E5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// \u660E\u786E\u8C03\u7528\u4E1A\u52A1\u5C42\u65B9\u6CD5(\u5207\u5165\u70B9\u65B9\u6CD5)</span>
            reValue <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684...\u540E\u7F6E\u901A\u77E5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> reValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684...\u5F02\u5E38\u901A\u77E5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>throwable<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u7ED5\u901A\u77E5log\u4E2D\u7684...\u6700\u7EC8\u901A\u77E5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u6211\u4EEC\u4F7F\u7528.\u6211\u4EEC<strong>\u63A8\u8350\u4F7F\u7528\u73AF\u7ED5\u901A\u77E5</strong>,\u56E0\u4E3A\u5176\u4F594\u4E2A\u901A\u77E5\u5728\u4F7F\u7528\u65F6,\u6700\u7EC8\u901A\u77E5\u5728\u540E\u7F6E\u901A\u77E5\u4E4B\u524D\u6267\u884C</p><div class="language-verilog ext-verilog line-numbers-mode"><pre class="language-verilog"><code>\u524D\u7F6E\u901A\u77E5log\u4E2D\u7684<span class="token keyword">before</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
save<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
\u6700\u7EC8\u901A\u77E5log\u4E2D\u7684after<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
\u540E\u7F6E\u901A\u77E5log\u4E2D\u7684afterReturning<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-spring\u4E2D\u7684jdbctemplate" tabindex="-1"><a class="header-anchor" href="#_6-spring\u4E2D\u7684jdbctemplate" aria-hidden="true">#</a> 6. Spring\u4E2D\u7684JdbcTemplate</h2>`,71);function j(C,P){const p=t("bean"),c=t("property"),o=t("Bean"),l=t("ExternalLinkIcon");return u(),r("div",null,[k,n("ul",null,[n("li",null,[s("\u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2A"),e(p),s("\u6807\u7B7E\u5B9E\u73B0\u7684\u529F\u80FD\u662F\u4E00\u6837\u7684")])]),v,n("ul",null,[n("li",null,[s("\u5B83\u4EEC\u7684\u4F5C\u7528\u5C31\u548CXML\u914D\u7F6E\u6587\u4EF6\u4E2D\u7F16\u5199\u4E00\u4E2Abean\u6807\u7B7E\u5199\u4E00\u4E2A"),e(c),s("\u7684\u6807\u7B7E\u662F\u4E00\u6837\u7684")])]),m,n("table",null,[b,n("tbody",null,[g,h,n("tr",null,[y,q,n("td",null,[e(o)]),w]),x,f])]),S,n("ul",null,[n("li",null,[n("a",A,[s("\u53C2\u8003spring_10_case"),e(l)])])]),_])}const D=i(d,[["render",j],["__file","1.Spring\u57FA\u7840.html.vue"]]);export{D as default};
