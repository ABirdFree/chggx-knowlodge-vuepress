(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{395:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"threadpoolçº¿ç¨‹æ± "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threadpoolçº¿ç¨‹æ± "}},[t._v("#")]),t._v(" ThreadPoolçº¿ç¨‹æ± ")]),t._v(" "),a("h2",{attrs:{id:"_1-çº¿ç¨‹æ± ç®€ä»‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-çº¿ç¨‹æ± ç®€ä»‹"}},[t._v("#")]),t._v(" 1. çº¿ç¨‹æ± ç®€ä»‹")]),t._v(" "),a("h3",{attrs:{id:"_1-1-çº¿ç¨‹æ± æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-çº¿ç¨‹æ± æ¦‚è¿°"}},[t._v("#")]),t._v(" 1.1 çº¿ç¨‹æ± æ¦‚è¿°")]),t._v(" "),a("p",[t._v("çº¿ç¨‹æ± ï¼ˆè‹±è¯­ï¼šthread poolï¼‰ï¼šä¸€ç§çº¿ç¨‹ä½¿ç”¨æ¨¡å¼ã€‚çº¿ç¨‹è¿‡å¤šä¼šå¸¦æ¥è°ƒåº¦å¼€é”€ï¼Œè¿›è€Œå½±å“ç¼“å­˜å±€éƒ¨æ€§å’Œæ•´ä½“æ€§èƒ½ã€‚è€Œçº¿ç¨‹æ± ç»´æŠ¤ç€å¤šä¸ªçº¿ç¨‹ï¼Œç­‰å¾…ç€ç›‘ç£ç®¡ç†è€…åˆ†é…å¯å¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡ã€‚è¿™é¿å…äº†åœ¨å¤„ç†çŸ­æ—¶é—´ä»»åŠ¡æ—¶åˆ›å»ºä¸é”€æ¯çº¿ç¨‹çš„ä»£ä»·ã€‚çº¿ç¨‹æ± ä¸ä»…èƒ½å¤Ÿä¿è¯å†…æ ¸çš„å……åˆ†åˆ©ç”¨ï¼Œè¿˜èƒ½é˜²æ­¢è¿‡åˆ†è°ƒåº¦ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("çº¿ç¨‹æ± çš„ä¼˜åŠ¿ï¼š")])]),t._v(" "),a("p",[t._v("çº¿ç¨‹æ± åšçš„å·¥ä½œåªè¦æ˜¯æ§åˆ¶è¿è¡Œçš„çº¿ç¨‹æ•°é‡ï¼Œå¤„ç†è¿‡ç¨‹ä¸­å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ï¼Œç„¶ååœ¨çº¿ç¨‹åˆ›å»ºåå¯åŠ¨è¿™äº›ä»»åŠ¡ï¼Œå¦‚æœçº¿ç¨‹æ•°é‡è¶…è¿‡äº†æœ€å¤§æ•°é‡ï¼Œè¶…å‡ºæ•°é‡çš„çº¿ç¨‹æ’é˜Ÿç­‰å€™ï¼Œç­‰å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå†ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ¥æ‰§è¡Œã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ç‰¹ç‚¹ï¼š")])]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("é™ä½èµ„æºæ¶ˆè€—")]),t._v(": é€šè¿‡é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹é™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„é”€è€—ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("æé«˜å“åº”é€Ÿåº¦")]),t._v(": å½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦ç­‰å¾…çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§è¡Œã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§")]),t._v(": çº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šé”€è€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ï¼Œè°ƒä¼˜å’Œç›‘æ§ã€‚")])])]),t._v(" "),a("h3",{attrs:{id:"_1-2-çº¿ç¨‹æ± æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-çº¿ç¨‹æ± æ¶æ„"}},[t._v("#")]),t._v(" 1.2 çº¿ç¨‹æ± æ¶æ„")]),t._v(" "),a("blockquote",[a("p",[t._v("Java ä¸­çš„çº¿ç¨‹æ± æ˜¯é€šè¿‡"),a("code",[t._v("Executoræ¡†æ¶")]),t._v("å®ç°çš„ï¼Œè¯¥æ¡†æ¶ä¸­ç”¨åˆ°äº†"),a("a",{attrs:{href:"https://www.matools.com/file/manual/jdk_api_1.8_google/java/util/concurrent/Executor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Executor"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://www.matools.com/file/manual/jdk_api_1.8_google/java/util/concurrent/Executors.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Executors"),a("OutboundLink")],1),t._v("ï¼Œ"),a("a",{attrs:{href:"https://www.matools.com/file/manual/jdk_api_1.8_google/java/util/concurrent/ExecutorService.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExecutorService"),a("OutboundLink")],1),t._v("ï¼Œ"),a("a",{attrs:{href:"https://www.matools.com/file/manual/jdk_api_1.8_google/java/util/concurrent/ThreadPoolExecutor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ThreadPoolExecutor"),a("OutboundLink")],1),t._v(" è¿™å‡ ä¸ªç±»")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303251828645.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"_2-çº¿ç¨‹æ± çš„ç§ç±»ä¸åˆ›å»º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-çº¿ç¨‹æ± çš„ç§ç±»ä¸åˆ›å»º"}},[t._v("#")]),t._v(" 2. çº¿ç¨‹æ± çš„ç§ç±»ä¸åˆ›å»º ğŸ˜†")]),t._v(" "),a("h3",{attrs:{id:"_2-1-newcachedthreadpool-ä¸€æ± å¯æ‰©å®¹çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-newcachedthreadpool-ä¸€æ± å¯æ‰©å®¹çº¿ç¨‹"}},[t._v("#")]),t._v(" 2.1 newCachedThreadPool ğŸ˜„ "),a("code",[t._v("ä¸€æ± å¯æ‰©å®¹çº¿ç¨‹")])]),t._v(" "),a("p",[a("strong",[t._v("ä½œç”¨")]),t._v("ï¼š")]),t._v(" "),a("p",[t._v("åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹.")]),t._v(" "),a("p",[a("strong",[t._v("ç‰¹ç‚¹ï¼š")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("çº¿ç¨‹æ± ä¸­æ•°é‡æ²¡æœ‰å›ºå®šï¼Œå¯è¾¾åˆ°æœ€å¤§å€¼ï¼ˆ"),a("code",[t._v("Interger. MAX_VALUE")]),t._v("ï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å¯è¿›è¡Œç¼“å­˜é‡å¤åˆ©ç”¨å’Œå›æ”¶ï¼ˆå›æ”¶é»˜è®¤æ—¶é—´ä¸º 1 åˆ†é’Ÿï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("å½“çº¿ç¨‹æ± ä¸­ï¼Œæ²¡æœ‰å¯ç”¨çº¿ç¨‹ï¼Œä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªçº¿ç¨‹")])])]),t._v(" "),a("p",[a("strong",[t._v("åœºæ™¯:")])]),t._v(" "),a("p",[t._v("é€‚ç”¨äºåˆ›å»ºä¸€ä¸ªå¯æ— é™æ‰©å¤§çš„çº¿ç¨‹æ± ï¼ŒæœåŠ¡å™¨è´Ÿè½½å‹åŠ›è¾ƒè½»ï¼Œæ‰§è¡Œæ—¶é—´è¾ƒçŸ­ï¼Œä»»åŠ¡å¤šçš„åœºæ™¯")]),t._v(" "),a("p",[a("strong",[t._v("çº¿ç¨‹åˆ›å»ºï¼š")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolDemo1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€æ± å¯æ‰©å®¹çº¿ç¨‹")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" threadPool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newCachedThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//10ä¸ªé¡¾å®¢è¯·æ±‚")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ‰§è¡Œ")]),t._v("\n                threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" åŠç†ä¸šåŠ¡"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å…³é—­")]),t._v("\n            threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shutdown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("p",[t._v("ç»“æœï¼š")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-8")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-7")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-6")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-6")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-8")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-7")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"_2-2-newfixedthreadpool-ä¸€æ± nçº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-newfixedthreadpool-ä¸€æ± nçº¿ç¨‹"}},[t._v("#")]),t._v(" 2.2 newFixedThreadPool ğŸ˜„ "),a("code",[t._v("ä¸€æ± Nçº¿ç¨‹")])]),t._v(" "),a("p",[a("strong",[t._v("ä½œç”¨")]),t._v("ï¼š")]),t._v(" "),a("p",[t._v("åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± ï¼Œä»¥å…±äº«çš„æ— ç•Œé˜Ÿåˆ—æ–¹å¼æ¥è¿è¡Œè¿™äº›çº¿ç¨‹ã€‚åœ¨ä»»æ„ç‚¹ï¼Œåœ¨å¤§å¤šæ•°çº¿ç¨‹ä¼šå¤„äºå¤„ç†ä»»åŠ¡çš„æ´»åŠ¨çŠ¶æ€ã€‚å¦‚æœåœ¨æ‰€æœ‰çº¿ç¨‹å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶æäº¤é™„åŠ ä»»åŠ¡ï¼Œåˆ™åœ¨æœ‰å¯ç”¨çº¿ç¨‹ä¹‹å‰ï¼Œé™„åŠ ä»»åŠ¡å°†åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚å¦‚æœåœ¨å…³é—­å‰çš„æ‰§è¡ŒæœŸé—´ç”±äºå¤±è´¥è€Œå¯¼è‡´ä»»ä½•çº¿ç¨‹ç»ˆæ­¢ï¼Œé‚£ä¹ˆä¸€ä¸ªæ–°çº¿ç¨‹å°†ä»£æ›¿å®ƒæ‰§è¡Œåç»­çš„ä»»åŠ¡ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚åœ¨æŸä¸ªçº¿ç¨‹è¢«æ˜¾å¼åœ°å…³é—­ä¹‹å‰ï¼Œæ± ä¸­çš„çº¿ç¨‹å°†ä¸€ç›´å­˜åœ¨ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ç‰¹å¾ï¼š")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å¤„äºä¸€å®šçš„é‡ï¼Œå¯ä»¥å¾ˆå¥½çš„æ§åˆ¶çº¿ç¨‹çš„å¹¶å‘é‡ ï¼ˆæ¯”å¦‚é“¶è¡ŒåŠç†ä¸šåŠ¡çš„çª—å£ï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("çº¿ç¨‹å¯ä»¥é‡å¤è¢«ä½¿ç”¨ï¼Œåœ¨æ˜¾ç¤ºå…³é—­ä¹‹å‰ï¼Œéƒ½å°†ä¸€ç›´å­˜åœ¨")])]),t._v(" "),a("li",[a("p",[t._v("è¶…å‡ºä¸€å®šé‡çš„çº¿ç¨‹è¢«æäº¤æ—¶å€™éœ€åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…")])])]),t._v(" "),a("p",[a("strong",[t._v("åœºæ™¯:")])]),t._v(" "),a("p",[t._v("é€‚ç”¨äºå¯ä»¥é¢„æµ‹çº¿ç¨‹æ•°é‡çš„ä¸šåŠ¡ä¸­ï¼Œæˆ–è€…æœåŠ¡å™¨è´Ÿè½½è¾ƒé‡ï¼Œå¯¹çº¿ç¨‹æ•°æœ‰ä¸¥æ ¼é™åˆ¶çš„åœºæ™¯")]),t._v(" "),a("p",[a("strong",[t._v("çº¿ç¨‹åˆ›å»ºï¼š")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolDemo1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€æ± äº”çº¿ç¨‹")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" threadPool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newFixedThreadPool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//5ä¸ªçª—å£")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//10ä¸ªé¡¾å®¢è¯·æ±‚")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ‰§è¡Œ")]),t._v("\n                threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" åŠç†ä¸šåŠ¡"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å…³é—­")]),t._v("\n            threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shutdown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("p",[t._v("ç»“æœï¼š")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"_2-3-newsinglethreadexecutor-ä¸€æ± ä¸€çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-newsinglethreadexecutor-ä¸€æ± ä¸€çº¿ç¨‹"}},[t._v("#")]),t._v(" 2.3 newSingleThreadExecutor ğŸ˜„ "),a("code",[t._v("ä¸€æ± ä¸€çº¿ç¨‹")])]),t._v(" "),a("p",[a("strong",[t._v("ä½œç”¨")]),t._v("ï¼š")]),t._v(" "),a("p",[t._v("åˆ›å»ºä¸€ä¸ªä½¿ç”¨å•ä¸ª worker çº¿ç¨‹çš„ Executorï¼Œä»¥æ— ç•Œé˜Ÿåˆ—æ–¹å¼æ¥è¿è¡Œè¯¥çº¿ç¨‹ã€‚ï¼ˆæ³¨æ„ï¼Œå¦‚æœå› ä¸ºåœ¨å…³é—­å‰çš„æ‰§è¡ŒæœŸé—´å‡ºç°å¤±è´¥è€Œç»ˆæ­¢äº†æ­¤å•ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆå¦‚æœéœ€è¦ï¼Œä¸€ä¸ªæ–°çº¿ç¨‹å°†ä»£æ›¿å®ƒæ‰§è¡Œåç»­çš„ä»»åŠ¡ï¼‰ã€‚å¯ä¿è¯é¡ºåºåœ°æ‰§è¡Œå„ä¸ªä»»åŠ¡ï¼Œå¹¶ä¸”åœ¨ä»»æ„ç»™å®šçš„æ—¶é—´ä¸ä¼šæœ‰å¤šä¸ªçº¿ç¨‹æ˜¯æ´»åŠ¨çš„ã€‚ä¸å…¶ä»–ç­‰æ•ˆçš„newFixedThreadPool ä¸åŒï¼Œå¯ä¿è¯æ— éœ€é‡æ–°é…ç½®æ­¤æ–¹æ³•æ‰€è¿”å›çš„æ‰§è¡Œç¨‹åºå³å¯ä½¿ç”¨å…¶ä»–çš„çº¿ç¨‹ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ç‰¹å¾ï¼š")])]),t._v(" "),a("p",[t._v("çº¿ç¨‹æ± ä¸­æœ€å¤šæ‰§è¡Œ1ä¸ªçº¿ç¨‹ï¼Œä¹‹åæäº¤çš„çº¿ç¨‹æ´»åŠ¨å°†ä¼šæ’åœ¨é˜Ÿåˆ—ä¸­ä»¥æ­¤æ‰§è¡Œ")]),t._v(" "),a("p",[a("strong",[t._v("åœºæ™¯:")])]),t._v(" "),a("p",[t._v("é€‚ç”¨äºéœ€è¦ä¿è¯é¡ºåºæ‰§è¡Œå„ä¸ªä»»åŠ¡ï¼Œå¹¶ä¸”åœ¨ä»»æ„æ—¶é—´ç‚¹ï¼Œä¸ä¼šåŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹çš„åœºæ™¯")]),t._v(" "),a("p",[a("strong",[t._v("çº¿ç¨‹åˆ›å»ºï¼š")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolDemo1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€æ± ä¸€çº¿ç¨‹")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" threadPool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newSingleThreadExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¸€ä¸ªçª—å£")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//10ä¸ªé¡¾å®¢è¯·æ±‚")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ‰§è¡Œ")]),t._v("\n                threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" åŠç†ä¸šåŠ¡"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å…³é—­")]),t._v("\n            threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shutdown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("p",[t._v("ç»“æœï¼š")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"_2-4-newschedulethreadpool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-newschedulethreadpool"}},[t._v("#")]),t._v(" 2.4 newScheduleThreadPool")]),t._v(" "),a("p",[a("strong",[t._v("ä½œç”¨:")])]),t._v(" "),a("p",[t._v("çº¿ç¨‹æ± æ”¯æŒå®šæ—¶ä»¥åŠå‘¨æœŸæ€§æ‰§è¡Œä»»åŠ¡ï¼Œåˆ›å»ºä¸€ä¸ª corePoolSize ä¸ºä¼ å…¥å‚æ•°ï¼Œæœ€å¤§çº¿ç¨‹æ•°ä¸ºæ•´å½¢çš„æœ€å¤§æ•°çš„çº¿ç¨‹æ± **")]),t._v(" "),a("p",[a("strong",[t._v("ç‰¹å¾:")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("çº¿ç¨‹æ± ä¸­å…·æœ‰æŒ‡å®šæ•°é‡çš„çº¿ç¨‹ï¼Œå³ä¾¿æ˜¯ç©ºçº¿ç¨‹ä¹Ÿå°†ä¿ç•™ ï¼ˆ")])]),t._v(" "),a("li",[a("p",[t._v("å¯å®šæ—¶æˆ–è€…å»¶è¿Ÿæ‰§è¡Œçº¿ç¨‹æ´»åŠ¨")])])]),t._v(" "),a("p",[a("strong",[t._v("åœºæ™¯:")])]),t._v(" "),a("p",[t._v("é€‚ç”¨äºéœ€è¦å¤šä¸ªåå°çº¿ç¨‹æ‰§è¡Œå‘¨æœŸä»»åŠ¡çš„åœºæ™¯")]),t._v(" "),a("h3",{attrs:{id:"_2-5-newworkstealingpool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-newworkstealingpool"}},[t._v("#")]),t._v(" 2.5 newWorkStealingPool")]),t._v(" "),a("p",[t._v("jdk1.8 æä¾›çš„çº¿ç¨‹æ± ï¼Œåº•å±‚ä½¿ç”¨çš„æ˜¯ ForkJoinPool å®ç°ï¼Œåˆ›å»ºä¸€ä¸ªæ‹¥æœ‰å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—çš„çº¿ç¨‹æ± ï¼Œå¯ä»¥å‡å°‘è¿æ¥æ•°ï¼Œåˆ›å»ºå½“å‰å¯ç”¨ cpu æ ¸æ•°çš„çº¿ç¨‹æ¥å¹¶è¡Œæ‰§è¡Œä»»åŠ¡")]),t._v(" "),a("p",[a("strong",[t._v("åœºæ™¯:")]),t._v(" é€‚ç”¨äºå¤§è€—æ—¶ï¼Œå¯å¹¶è¡Œæ‰§è¡Œçš„åœºæ™¯")]),t._v(" "),a("h2",{attrs:{id:"_3-çº¿ç¨‹æ± åº•å±‚å·¥ä½œåŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-çº¿ç¨‹æ± åº•å±‚å·¥ä½œåŸç†"}},[t._v("#")]),t._v(" 3. çº¿ç¨‹æ± åº•å±‚å·¥ä½œåŸç† ğŸ˜„")]),t._v(" "),a("h3",{attrs:{id:"_3-1-ä¸ƒä¸ªå¸¸ç”¨å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-ä¸ƒä¸ªå¸¸ç”¨å‚æ•°"}},[t._v("#")]),t._v(" 3.1 ä¸ƒä¸ªå¸¸ç”¨å‚æ•° ğŸ˜ˆ")]),t._v(" "),a("p",[a("code",[t._v("newFixedThreadPool")]),t._v("ã€"),a("code",[t._v("newSingleThreadExecutor")]),t._v("ã€"),a("code",[t._v("newCachedThreadPool")]),t._v("çº¿ç¨‹æ± çš„åˆ›å»ºéƒ½æ˜¯é€šè¿‡"),a("code",[t._v("ThreadPoolExecutor")]),t._v(". ä¸‹é¢ä»‹ç»å…¶ä¸­çš„å‚æ•°")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("corePoolSize")]),t._v(" çº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•° ğŸš—")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("maximumPoolSize")]),t._v(" èƒ½å®¹çº³çš„æœ€å¤§çº¿ç¨‹æ•° ğŸš—")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("keepAliveTime")]),t._v(" ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("unit")]),t._v(" å­˜æ´»çš„æ—¶é—´å•ä½")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("workQueue")]),t._v(" å­˜æ”¾æäº¤ä½†æœªæ‰§è¡Œä»»åŠ¡çš„é˜Ÿåˆ—(é˜»å¡é˜Ÿåˆ—) ğŸš—")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("threadFactory")]),t._v(" åˆ›å»ºçº¿ç¨‹çš„å·¥å‚ç±»")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("handler")]),t._v(" ç­‰å¾…é˜Ÿåˆ—æ»¡åçš„æ‹’ç»ç­–ç•¥")])])]),t._v(" "),a("p",[t._v("çº¿ç¨‹æ± ä¸­ï¼Œæœ‰ä¸‰ä¸ªé‡è¦çš„å‚æ•°ï¼Œå†³å®šå½±å“äº†æ‹’ç»ç­–ç•¥ï¼šcorePoolSize - æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œä¹Ÿå³æœ€å°çš„çº¿ç¨‹æ•°ã€‚workQueue - é˜»å¡é˜Ÿåˆ— ã€‚ maximumPoolSize -æœ€å¤§çº¿ç¨‹æ•°")]),t._v(" "),a("p",[t._v("å½“æäº¤ä»»åŠ¡æ•°å¤§äº corePoolSize çš„æ—¶å€™ï¼Œä¼šä¼˜å…ˆå°†ä»»åŠ¡æ”¾åˆ° workQueue é˜»å¡é˜Ÿåˆ—ä¸­ã€‚å½“é˜»å¡é˜Ÿåˆ—é¥±å’Œåï¼Œä¼šæ‰©å……çº¿ç¨‹æ± ä¸­çº¿ç¨‹æ•°ï¼Œç›´åˆ°è¾¾åˆ°maximumPoolSize æœ€å¤§çº¿ç¨‹æ•°é…ç½®ã€‚æ­¤æ—¶ï¼Œå†å¤šä½™çš„ä»»åŠ¡ï¼Œåˆ™ä¼šè§¦å‘çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥äº†ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("æ€»ç»“ï¼š"),a("strong",[t._v("å½“æäº¤çš„ä»»åŠ¡æ•°å¤§äºï¼ˆworkQueue.size() +")]),t._v(" "),a("strong",[t._v("maximumPoolSize ï¼‰ï¼Œå°±ä¼šè§¦å‘çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥")]),t._v("ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"_3-2-å·¥ä½œæµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-å·¥ä½œæµç¨‹"}},[t._v("#")]),t._v(" 3.2 å·¥ä½œæµç¨‹")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303251842876.png",alt:""}})]),t._v(" "),a("ol",[a("li",[a("p",[t._v("åœ¨åˆ›å»ºäº†çº¿ç¨‹æ± åï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸ºé›¶")])]),t._v(" "),a("li",[a("p",[t._v("å½“è°ƒç”¨ execute()æ–¹æ³•æ·»åŠ ä¸€ä¸ªè¯·æ±‚ä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåšå‡ºå¦‚ä¸‹åˆ¤æ–­ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å°äº corePoolSizeï¼Œé‚£ä¹ˆé©¬ä¸Šåˆ›å»ºçº¿ç¨‹è¿è¡Œè¿™ä¸ªä»»åŠ¡ï¼›")]),t._v(" "),a("li",[t._v("å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å¤§äºæˆ–ç­‰äº corePoolSizeï¼Œé‚£ä¹ˆå°†è¿™ä¸ªä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ï¼›")]),t._v(" "),a("li",[t._v("å¦‚æœè¿™ä¸ªæ—¶å€™é˜Ÿåˆ—æ»¡äº†ä¸”æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡è¿˜å°äºmaximumPoolSizeï¼Œé‚£ä¹ˆè¿˜æ˜¯è¦åˆ›å»ºéæ ¸å¿ƒçº¿ç¨‹ç«‹åˆ»è¿è¡Œè¿™ä¸ªä»»åŠ¡ï¼›")]),t._v(" "),a("li",[t._v("å¦‚æœé˜Ÿåˆ—æ»¡äº†ä¸”æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å¤§äºæˆ–ç­‰äº maximumPoolSizeï¼Œé‚£ä¹ˆçº¿ç¨‹æ± ä¼šå¯åŠ¨é¥±å’Œæ‹’ç»ç­–ç•¥æ¥æ‰§è¡Œã€‚")])])]),t._v(" "),a("li",[a("p",[t._v("å½“ä¸€ä¸ªçº¿ç¨‹å®Œæˆä»»åŠ¡æ—¶ï¼Œå®ƒä¼šä»é˜Ÿåˆ—ä¸­å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œ")])]),t._v(" "),a("li",[a("p",[t._v("å½“ä¸€ä¸ªçº¿ç¨‹æ— äº‹å¯åšè¶…è¿‡ä¸€å®šçš„æ—¶é—´ï¼ˆkeepAliveTimeï¼‰æ—¶ï¼Œçº¿ç¨‹ä¼šåˆ¤æ–­ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°å¤§äº corePoolSizeï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±è¢«åœæ‰ã€‚")]),t._v(" "),a("li",[t._v("æ‰€ä»¥çº¿ç¨‹æ± çš„æ‰€æœ‰ä»»åŠ¡å®Œæˆåï¼Œå®ƒæœ€ç»ˆä¼šæ”¶ç¼©åˆ° corePoolSize çš„å¤§å°ã€‚")])])])]),t._v(" "),a("h3",{attrs:{id:"_3-3-æ‹’ç»ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-æ‹’ç»ç­–ç•¥"}},[t._v("#")]),t._v(" 3.3  æ‹’ç»ç­–ç•¥ ğŸ˜ˆ")]),t._v(" "),a("blockquote",[a("p",[t._v("å·¥ä½œæµç¨‹ä¸­çš„ç¬¬å››æ­¥ï¼šRejectedExecutionHandler")])]),t._v(" "),a("p",[a("code",[t._v("AbortPolicy")]),t._v(" (é»˜è®¤): ä¸¢å¼ƒä»»åŠ¡ï¼Œå¹¶æŠ›å‡ºæ‹’ç»æ‰§è¡Œ RejectedExecutionException å¼‚å¸¸ä¿¡æ¯ã€‚çº¿ç¨‹æ± é»˜è®¤çš„æ‹’ç»ç­–ç•¥ã€‚å¿…é¡»å¤„ç†å¥½æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦åˆ™ä¼šæ‰“æ–­å½“å‰çš„æ‰§è¡Œæµç¨‹ï¼Œå½±å“åç»­çš„ä»»åŠ¡æ‰§è¡Œã€‚")]),t._v(" "),a("p",[a("code",[t._v("CallerRunsPolicy")]),t._v(": å½“è§¦å‘æ‹’ç»ç­–ç•¥ï¼Œåªè¦çº¿ç¨‹æ± æ²¡æœ‰å…³é—­çš„è¯ï¼Œåˆ™ä½¿ç”¨è°ƒç”¨çº¿ç¨‹ç›´æ¥è¿è¡Œä»»åŠ¡ã€‚ä¸€èˆ¬å¹¶å‘æ¯”è¾ƒå°ï¼Œæ€§èƒ½è¦æ±‚ä¸é«˜ï¼Œä¸å…è®¸å¤±è´¥ã€‚ä½†æ˜¯ï¼Œç”±äºè°ƒç”¨è€…è‡ªå·±è¿è¡Œä»»åŠ¡ï¼Œå¦‚æœä»»åŠ¡æäº¤é€Ÿåº¦è¿‡å¿«ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºé˜»å¡ï¼Œæ€§èƒ½æ•ˆç‡ä¸Šå¿…ç„¶çš„æŸå¤±è¾ƒå¤§")]),t._v(" "),a("p",[a("code",[t._v("DiscardPolicy")]),t._v(": ç›´æ¥ä¸¢å¼ƒï¼Œå…¶ä»–å•¥éƒ½æ²¡æœ‰")]),t._v(" "),a("p",[a("code",[t._v("DiscardOldestPolicy")]),t._v(": å½“è§¦å‘æ‹’ç»ç­–ç•¥ï¼Œåªè¦çº¿ç¨‹æ± æ²¡æœ‰å…³é—­çš„è¯ï¼Œä¸¢å¼ƒé˜»å¡é˜Ÿåˆ— workQueue ä¸­æœ€è€çš„ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶å°†æ–°ä»»åŠ¡åŠ å…¥")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303251843428.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"_4-è‡ªå®šä¹‰çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-è‡ªå®šä¹‰çº¿ç¨‹"}},[t._v("#")]),t._v(" 4. è‡ªå®šä¹‰çº¿ç¨‹ ğŸ˜ˆ")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è‡ªå®šä¹‰çº¿ç¨‹æ± åˆ›å»º")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolDemo2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" threadPool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// çº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•°")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èƒ½å®¹çº³çš„æœ€å¤§çº¿ç¨‹æ•°")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2L")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SECONDS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­˜æ´»çš„æ—¶é—´å•ä½")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayBlockingQueue")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­˜æ”¾æäº¤ä½†æœªæ‰§è¡Œä»»åŠ¡çš„é˜Ÿåˆ—")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaultThreadFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºçº¿ç¨‹çš„å·¥å‚ç±»")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AbortPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç­‰å¾…é˜Ÿåˆ—æ»¡åçš„æ‹’ç»ç­–ç•¥")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 10ä¸ªé¡¾å®¢è¯·æ±‚")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œ")]),t._v("\n                threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" åŠç†ä¸šåŠ¡"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å…³é—­")]),t._v("\n            threadPool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shutdown")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br")])]),a("p",[t._v("ç»“æœï¼š")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹")]),t._v(" "),a("p",[t._v("å½“é¡¾å®¢å°äºç­‰äº5æ—¶å€™")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("å½“é¡¾å®¢å¤§äº5æ—¶å€™ï¼šè¶…è¿‡çº¿ç¨‹åšå¤§çº¿ç¨‹æ•°ï¼Œè§¦å‘æ‹’ç»ç­–ç•¥ã€‚")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("pool-1-thread-5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("åŠç†ä¸šåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("java.util.concurrent.RejectedExecutionException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("Task cn.cnlxc.pool.ThreadPoolDemo2$$Lambda$1/1096979270@7ba4f24f rejected from java.util.concurrent.ThreadPoolExecutor@3b9a45b3[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 8]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("cn.cnlxc.pool.ThreadPoolDemo2.main(ThreadPoolDemo2.java:22)")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])])]),t._v(" "),a("h2",{attrs:{id:"_5-æ³¨æ„äº‹é¡¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-æ³¨æ„äº‹é¡¹"}},[t._v("#")]),t._v(" 5. æ³¨æ„äº‹é¡¹ğŸ˜„")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("é¡¹ç›®ä¸­åˆ›å»ºå¤šçº¿ç¨‹æ—¶ï¼Œä½¿ç”¨å¸¸è§çš„ä¸‰ç§çº¿ç¨‹æ± åˆ›å»ºæ–¹å¼ï¼Œå•ä¸€ã€å¯å˜ã€å®šé•¿éƒ½æœ‰ä¸€å®šé—®é¢˜ï¼ŒåŸå› æ˜¯ FixedThreadPool å’Œ "),a("code",[t._v("SingleThreadExecutor")]),t._v(" åº•å±‚éƒ½æ˜¯ç”¨"),a("code",[t._v("LinkedBlockingQueue")]),t._v("å®ç°çš„ï¼Œè¿™ä¸ªé˜Ÿåˆ—æœ€å¤§é•¿åº¦ä¸º Integer.MAX_VALUEï¼Œå®¹æ˜“å¯¼è‡´ OOMã€‚æ‰€ä»¥å®é™…ç”Ÿäº§ä¸€èˆ¬è‡ªå·±é€šè¿‡"),a("code",[t._v("ThreadPoolExecutor")]),t._v("çš„ 7 ä¸ªå‚æ•°ï¼Œè‡ªå®šä¹‰çº¿ç¨‹æ± ")])]),t._v(" "),a("li",[a("p",[t._v("åˆ›å»ºçº¿ç¨‹æ± æ¨èé€‚ç”¨"),a("code",[t._v("ThreadPoolExecutor")]),t._v("åŠå…¶ 7 ä¸ªå‚æ•°æ‰‹åŠ¨åˆ›å»º")]),t._v(" "),a("ul",[a("li",[t._v("corePoolSize çº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•°")]),t._v(" "),a("li",[t._v("maximumPoolSize èƒ½å®¹çº³çš„æœ€å¤§çº¿ç¨‹æ•°")]),t._v(" "),a("li",[t._v("keepAliveTime ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´")]),t._v(" "),a("li",[t._v("unit å­˜æ´»çš„æ—¶é—´å•ä½")]),t._v(" "),a("li",[t._v("workQueue å­˜æ”¾æäº¤ä½†æœªæ‰§è¡Œä»»åŠ¡çš„é˜Ÿåˆ—")]),t._v(" "),a("li",[t._v("threadFactory åˆ›å»ºçº¿ç¨‹çš„å·¥å‚ç±»")]),t._v(" "),a("li",[t._v("handler ç­‰å¾…é˜Ÿåˆ—æ»¡åçš„æ‹’ç»ç­–ç•¥")])])]),t._v(" "),a("li",[a("p",[t._v("ä¸ºä»€ä¹ˆä¸å…è®¸é€‚ç”¨ä¸å…è®¸"),a("code",[t._v("Executors")]),t._v("çš„æ–¹å¼æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± ,å¦‚ä¸‹å›¾")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303251854937.png",alt:""}})])])}),[],!1,null,null,null);a.default=e.exports}}]);