(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{497:function(s,a,n){"use strict";n.r(a);var t=n(2),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"nginx-ç¯å¢ƒæ­å»º-linuxç‰ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-ç¯å¢ƒæ­å»º-linuxç‰ˆ"}},[s._v("#")]),s._v(" Nginx-ç¯å¢ƒæ­å»º(Linuxç‰ˆ)")]),s._v(" "),a("h3",{attrs:{id:"_1-nginxç‰ˆæœ¬ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-nginxç‰ˆæœ¬ä»‹ç»"}},[s._v("#")]),s._v(" 1. Nginxç‰ˆæœ¬ä»‹ç»")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://nginx.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginxçš„å®˜æ–¹ç½‘ç«™"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("æ‰“å¼€æºç å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„é¡µé¢å†…å®¹")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152111528.png",alt:"202303152111528"}})]),s._v(" "),a("p",[s._v("Nginxçš„å®˜æ–¹ä¸‹è½½ç½‘ç«™ä¸º"),a("a",{attrs:{href:"http://nginx.org/en/download.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://nginx.org/en/download.html"),a("OutboundLink")],1),s._v("ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¹‹é—´åœ¨é¦–é¡µé€‰ä¸­å³è¾¹çš„downloadè¿›å…¥ç‰ˆæœ¬ä¸‹è½½ç½‘é¡µã€‚åœ¨ä¸‹è½½é¡µé¢æˆ‘ä»¬ä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152111265.png",alt:"202303152111265"}})]),s._v(" "),a("h3",{attrs:{id:"_2-è·å–nginxæºç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-è·å–nginxæºç "}},[s._v("#")]),s._v(" 2. è·å–Nginxæºç ")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://nginx.org/download/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://nginx.org/download/"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("æ‰“å¼€ä¸Šè¿°ç½‘ç«™ï¼Œå°±å¯ä»¥æŸ¥çœ‹åˆ°Nginxçš„æ‰€æœ‰ç‰ˆæœ¬ï¼Œé€‰ä¸­è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ã€‚ä¸‹è½½æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨windowsä¸Šä¸‹è½½ç„¶åä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»æœåŠ¡å™¨ä¸Šä¸‹è½½ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å‡†å¤‡ä¸€å°æœåŠ¡å™¨ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152111695.png",alt:"202303152111695"}})]),s._v(" "),a("h3",{attrs:{id:"_3-å‡†å¤‡æœåŠ¡å™¨ç³»ç»Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å‡†å¤‡æœåŠ¡å™¨ç³»ç»Ÿ"}},[s._v("#")]),s._v(" 3. å‡†å¤‡æœåŠ¡å™¨ç³»ç»Ÿ")]),s._v(" "),a("p",[s._v("ç¯å¢ƒå‡†å¤‡")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[s._v("ç³»ç»Ÿç‰ˆæœ¬ï¼šCentos7\nè¿œç¨‹è¿æ¥å·¥å…·ï¼šMobaXterm,xsheel,SecureCRT\nç½‘ç»œ\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("(1)ç¡®è®¤centosçš„å†…æ ¸")]),s._v(" "),a("p",[s._v("å‡†å¤‡ä¸€ä¸ªå†…æ ¸ä¸º2.6åŠä»¥ä¸Šç‰ˆæœ¬çš„æ“ä½œç³»ç»Ÿï¼Œå› ä¸ºlinux2.6åŠä»¥ä¸Šå†…æ ¸æ‰æ”¯æŒepoll,è€ŒNginxéœ€è¦è§£å†³é«˜å¹¶å‘å‹åŠ›é—®é¢˜æ˜¯éœ€è¦ç”¨åˆ°epollï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰è¿™æ ·çš„ç‰ˆæœ¬è¦æ±‚ã€‚")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[s._v("uname -a")]),s._v("å‘½ä»¤æ¥æŸ¥è¯¢linuxçš„å†…æ ¸ç‰ˆæœ¬ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152141806.png",alt:"1581416022481"}})]),s._v(" "),a("p",[s._v("(2)ç¡®ä¿centosèƒ½è”ç½‘")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" www.baidu.com\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152111951.png",alt:"1585224061192"}})]),s._v(" "),a("p",[s._v("(3)ç¡®è®¤å…³é—­é˜²ç«å¢™")]),s._v(" "),a("p",[s._v("è¿™ä¸€é¡¹çš„è¦æ±‚ä»…é’ˆå¯¹äºé‚£äº›å¯¹linuxç³»ç»Ÿçš„é˜²ç«å¢™è®¾ç½®è§„åˆ™ä¸å¤ªæ¸…æ¥šçš„ï¼Œå»ºè®®å¤§å®¶æŠŠé˜²ç«å¢™éƒ½å…³é—­æ‰ï¼Œå› ä¸ºæˆ‘ä»¬æ­¤æ¬¡è¯¾ç¨‹ä¸»è¦çš„å†…å®¹æ˜¯å¯¹Nginxçš„å­¦ä¹ ï¼ŒæŠŠé˜²ç«å¢™å…³é—­æ‰ï¼Œå¯ä»¥çœæ‰åç»­Nginxå­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„è¯¸å¤šé—®é¢˜ã€‚")]),s._v(" "),a("p",[s._v("å…³é—­çš„æ–¹å¼æœ‰å¦‚ä¸‹ä¸¤ç§ï¼š")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl stop firewalld      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…³é—­è¿è¡Œçš„é˜²ç«å¢™ï¼Œç³»ç»Ÿé‡æ–°å¯åŠ¨åï¼Œé˜²ç«å¢™å°†é‡æ–°æ‰“å¼€")]),s._v("\nsystemctl disable firewalld  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ°¸ä¹…å…³é—­é˜²ç«å¢™ï¼Œï¼Œç³»ç»Ÿé‡æ–°å¯åŠ¨åï¼Œé˜²ç«å¢™ä¾ç„¶å…³é—­")]),s._v("\nsystemctl status firewalld\t "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("ï¼ˆ4ï¼‰ç¡®è®¤åœç”¨selinux")]),s._v(" "),a("p",[s._v("selinux(security-enhanced linux),ç¾å›½å®‰å…¨å±€å¯¹äºå¼ºåˆ¶è®¿é—®æ§åˆ¶çš„å®ç°ï¼Œåœ¨linux2.6å†…æ ¸ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œselinuxå·²ç»æˆåŠŸå†…æ ¸ä¸­çš„ä¸€éƒ¨åˆ†ã€‚å¯ä»¥è¯´selinuxæ˜¯linuxå²ä¸Šæœ€æ°å‡ºçš„æ–°å®‰å…¨å­ç³»ç»Ÿä¹‹ä¸€ã€‚è™½ç„¶æœ‰äº†selinuxï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿä¼šæ›´å®‰å…¨ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬çš„å­¦ä¹ Nginxçš„å†ç¨‹ä¸­ï¼Œä¼šå¤šå¾ˆå¤šè®¾ç½®ï¼Œæ‰€ä»¥è¿™å—å»ºè®®å¤§å®¶å°†selinuxè¿›è¡Œå…³é—­ã€‚")]),s._v(" "),a("p",[s._v("sestatusæŸ¥çœ‹çŠ¶æ€")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112453.png",alt:"1581419845687"}})]),s._v(" "),a("p",[s._v("å¦‚æœæŸ¥çœ‹ä¸æ˜¯disabledçŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥è¿›è¡Œè®¾ç½®,ä¿®æ”¹SELINUX=disabledï¼Œç„¶åé‡å¯ä¸‹ç³»ç»Ÿå³å¯ç”Ÿæ•ˆã€‚")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/selinux/config\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112945.png",alt:"1581419902873"}})]),s._v(" "),a("h3",{attrs:{id:"_4-nginxå®‰è£…æ–¹å¼ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-nginxå®‰è£…æ–¹å¼ä»‹ç»"}},[s._v("#")]),s._v(" 4. Nginxå®‰è£…æ–¹å¼ä»‹ç»")]),s._v(" "),a("p",[s._v("å¦‚æœé€šè¿‡Nginxæºç å®‰è£…éœ€è¦æå‰å‡†å¤‡çš„å†…å®¹ï¼š")]),s._v(" "),a("p",[a("strong",[s._v("GCCç¼–è¯‘å™¨")])]),s._v(" "),a("p",[s._v("Nginxæ˜¯ä½¿ç”¨Cè¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œå› æ­¤æƒ³è¦è¿è¡ŒNginxå°±éœ€è¦å®‰è£…ä¸€ä¸ªç¼–è¯‘å·¥å…·ã€‚GCCå°±æ˜¯ä¸€ä¸ªå¼€æºçš„ç¼–è¯‘å™¨é›†åˆï¼Œç”¨äºå¤„ç†å„ç§å„æ ·çš„è¯­è¨€ï¼Œå…¶ä¸­å°±åŒ…å«äº†Cè¯­è¨€ã€‚")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨å‘½ä»¤`yum install -y gcc`æ¥å®‰è£…")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" gcc\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡`gcc --version`æ¥æŸ¥çœ‹gccæ˜¯å¦å®‰è£…æˆåŠŸ")]),s._v("\ngcc "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("PCRE")])]),s._v(" "),a("p",[s._v("Nginxåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦ä½¿ç”¨åˆ°PCREåº“ï¼ˆperl Compatible Regular Expressoin å…¼å®¹æ­£åˆ™è¡¨è¾¾å¼åº“)ï¼Œå› ä¸ºåœ¨Nginxçš„Rewriteæ¨¡å—å’Œhttpæ ¸å¿ƒæ¨¡å—éƒ½ä¼šä½¿ç”¨åˆ°PCREæ­£åˆ™è¡¨è¾¾å¼è¯­æ³•ã€‚")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯ä»¥ä½¿ç”¨å‘½ä»¤`yum install -y pcre pcre-devel`æ¥è¿›è¡Œå®‰è£…")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" pcre pcre-devel\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡`rpm -qa pcre pcre-devel`æ¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" pcre pcre-devel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("zlib")])]),s._v(" "),a("p",[s._v("zlibåº“æä¾›äº†å¼€å‘äººå‘˜çš„å‹ç¼©ç®—æ³•ï¼Œåœ¨Nginxçš„å„ä¸ªæ¨¡å—ä¸­éœ€è¦ä½¿ç”¨gzipå‹ç¼©ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦æå‰å®‰è£…å…¶åº“åŠæºä»£ç zlibå’Œzlib-devel")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯ä»¥ä½¿ç”¨å‘½ä»¤`yum install -y zlib zlib-devel`æ¥è¿›è¡Œå®‰è£…")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" zlib zlib-devel\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡`rpm -qa zlib zlib-devel`æ¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" zlib zlib-devel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("OpenSSL")])]),s._v(" "),a("p",[s._v("OpenSSLæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„è½¯ä»¶åº“åŒ…ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨è¿™ä¸ªåŒ…è¿›è¡Œå®‰å…¨é€šä¿¡ï¼Œå¹¶ä¸”é¿å…è¢«çªƒå¬ã€‚")]),s._v(" "),a("p",[s._v("SSL:Secure Sockets Layerå®‰å…¨å¥—æ¥åè®®çš„ç¼©å†™ï¼Œå¯ä»¥åœ¨Internetä¸Šæä¾›ç§˜å¯†æ€§ä¼ è¾“ï¼Œå…¶ç›®æ ‡æ˜¯ä¿è¯ä¸¤ä¸ªåº”ç”¨é—´é€šä¿¡çš„ä¿å¯†æ€§å’Œå¯é æ€§ã€‚åœ¨Nginxä¸­ï¼Œå¦‚æœæœåŠ¡å™¨éœ€è¦æä¾›å®‰å…¨ç½‘é¡µæ—¶å°±éœ€è¦ç”¨åˆ°OpenSSLåº“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹OpenSSLçš„åº“æ–‡ä»¶åŠå®ƒçš„å¼€å‘å®‰è£…åŒ…è¿›è¡Œä¸€ä¸ªå®‰è£…ã€‚")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯ä»¥ä½¿ç”¨å‘½ä»¤`yum install -y openssl openssl-devel`æ¥è¿›è¡Œå®‰è£…")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" openssl openssl-devel\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡`rpm -qa openssl openssl-devel`æ¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" openssl openssl-devel\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸Šè¿°å‘½ä»¤ï¼Œä¸€ä¸ªä¸ªæ¥çš„è¯æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¸€æ¡å‘½ä»¤æ¥è¿›è¡Œå®‰è£…")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("è¿›è¡Œå…¨éƒ¨å®‰è£…ã€‚\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"_4-1-nginxçš„æºç ç®€å•å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-nginxçš„æºç ç®€å•å®‰è£…"}},[s._v("#")]),s._v(" 4.1 Nginxçš„æºç ç®€å•å®‰è£…")]),s._v(" "),a("h5",{attrs:{id:"å®‰è£…nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…nginx"}},[s._v("#")]),s._v(" å®‰è£…nginx")]),s._v(" "),a("ul",[a("li",[s._v("è¿›å…¥å®˜ç½‘æŸ¥æ‰¾éœ€è¦ä¸‹è½½ç‰ˆæœ¬çš„é“¾æ¥åœ°å€ï¼Œç„¶åä½¿ç”¨wgetå‘½ä»¤è¿›è¡Œä¸‹è½½")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://nginx.org/download/nginx-1.16.1.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("å»ºè®®å¤§å®¶å°†ä¸‹è½½çš„èµ„æºè¿›è¡ŒåŒ…ç®¡ç†")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" nginx/core\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" nginx-1.16.1.tar.gz nginx/core\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("è§£å‹ç¼©")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xzf")]),s._v(" nginx-1.16.1.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("è¿›å…¥èµ„æºæ–‡ä»¶ä¸­ï¼Œå‘ç°configure")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./configure\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("ç¼–è¯‘")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("å®‰è£…")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("æ³¨æ„é»˜è®¤å®‰è£…ç›®å½•åœ¨:  "),a("code",[s._v("/usr/local/nginx/")]),s._v(" ä¸‹")]),s._v(" "),a("p",[s._v("é…ç½®æ–‡ä»¶ï¼š"),a("code",[s._v("/usr/local/nginx/conf/nginx.conf")])])]),s._v(" "),a("h5",{attrs:{id:"å¯åŠ¨nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨nginx"}},[s._v("#")]),s._v(" å¯åŠ¨nginx")]),s._v(" "),a("ul",[a("li",[s._v("å¯åŠ¨nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/local/nginx/sbin/nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("å…³é—­nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("å¦‚æœä¿®æ”¹äº†é…ç½®â½‚ä»¶åæƒ³é‡æ–°åŠ è½½Nginx,é‡æ–°åŠ è½½nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-2-yumå®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-yumå®‰è£…"}},[s._v("#")]),s._v(" 4.2 yumå®‰è£…")]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"http://nginx.org/en/linux_packages.html#RHEL",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®˜ç½‘æ–‡æ¡£åœ°å€"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("ä½¿ç”¨æºç è¿›è¡Œç®€å•å®‰è£…ï¼Œæˆ‘ä»¬ä¼šå‘ç°å®‰è£…çš„è¿‡ç¨‹æ¯”è¾ƒç¹çï¼Œéœ€è¦æå‰å‡†å¤‡"),a("code",[s._v("GCCç¼–è¯‘å™¨ã€PCREå…¼å®¹æ­£åˆ™è¡¨è¾¾å¼åº“ã€zlibå‹ç¼©åº“ã€OpenSSLå®‰å…¨é€šä¿¡")]),s._v("çš„è½¯ä»¶åº“åŒ…ï¼Œç„¶åæ‰èƒ½è¿›è¡ŒNginxçš„å®‰è£…ã€‚")]),s._v(" "),a("ul",[a("li",[s._v("å®‰è£…yum-utils")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" yum-utils\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("æ·»åŠ yumæºæ–‡ä»¶")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/yum.repos.d/nginx.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nginx-stable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx stable repo\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://nginx.org/packages/centos/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://nginx.org/keys/nginx_signing.key\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("module_hotfixes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("nginx-mainline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx mainline repo\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://nginx.org/packages/mainline/centos/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://nginx.org/keys/nginx_signing.key\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("module_hotfixes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("ul",[a("li",[s._v("æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112967.png",alt:"1581416861684"}})]),s._v(" "),a("ul",[a("li",[s._v("ä½¿ç”¨yumè¿›è¡Œå®‰è£…")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yun "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("æŸ¥çœ‹nginxçš„å®‰è£…ä½ç½®")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("whereis")]),s._v(" nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112230.png",alt:"1581416981939"}})]),s._v(" "),a("h5",{attrs:{id:"å¯åŠ¨nginx-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨nginx-2"}},[s._v("#")]),s._v(" å¯åŠ¨nginx")]),s._v(" "),a("ul",[a("li",[s._v("å¯åŠ¨nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/sbin/nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("å…³é—­nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("å¦‚æœä¿®æ”¹äº†é…ç½®â½‚ä»¶åæƒ³é‡æ–°åŠ è½½Nginx,é‡æ–°åŠ è½½nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"æºç ç®€å•å®‰è£…å’Œyumå®‰è£…çš„å·®å¼‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æºç ç®€å•å®‰è£…å’Œyumå®‰è£…çš„å·®å¼‚"}},[s._v("#")]),s._v(" æºç ç®€å•å®‰è£…å’Œyumå®‰è£…çš„å·®å¼‚ï¼š")]),s._v(" "),a("p",[s._v("è¿™é‡Œå…ˆä»‹ç»ä¸€ä¸ªå‘½ä»¤: "),a("code",[s._v("./nginx -V")]),s._v(",é€šè¿‡è¯¥å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°æ‰€å®‰è£…Nginxçš„ç‰ˆæœ¬åŠç›¸å…³é…ç½®ä¿¡æ¯ã€‚")]),s._v(" "),a("p",[s._v("ç®€å•å®‰è£…")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112440.png",alt:"1586016586042"}})]),s._v(" "),a("p",[s._v("yumå®‰è£…")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112029.png",alt:"1586016605581"}})]),s._v(" "),a("h5",{attrs:{id:"è§£å‹nginxç›®å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å‹nginxç›®å½•"}},[s._v("#")]),s._v(" è§£å‹Nginxç›®å½•")]),s._v(" "),a("p",[s._v("æ‰§è¡Œ"),a("code",[s._v("tar -zxvf nginx-1.16.1.tar.gz")]),s._v("å¯¹ä¸‹è½½çš„èµ„æºè¿›è¡Œè§£å‹ç¼©ï¼Œè¿›å…¥å‹ç¼©åçš„ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç»“æ„")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112257.png",alt:"1581421319232"}})]),s._v(" "),a("p",[s._v("å†…å®¹è§£é‡Šï¼š")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("auto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("å­˜æ”¾çš„æ˜¯ç¼–è¯‘ç›¸å…³çš„è„šæœ¬")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("CHANGES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("ç‰ˆæœ¬å˜æ›´è®°å½•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("CHANGES.ru")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("ä¿„ç½—æ–¯æ–‡çš„ç‰ˆæœ¬å˜æ›´è®°å½•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("conf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("nginxé»˜è®¤çš„é…ç½®æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("configure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("nginxè½¯ä»¶çš„è‡ªåŠ¨è„šæœ¬ç¨‹åº,æ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ–‡ä»¶ï¼Œä½œç”¨å¦‚ä¸‹ï¼š")]),s._v("\n\tï¼ˆ1ï¼‰æ£€æµ‹ç¯å¢ƒåŠæ ¹æ®ç¯å¢ƒæ£€æµ‹ç»“æœç”ŸæˆCä»£ç \n\tï¼ˆ2ï¼‰ç”Ÿæˆç¼–è¯‘ä»£ç éœ€è¦çš„Makefileæ–‡ä»¶\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("contrib")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("å­˜æ”¾çš„æ˜¯å‡ ä¸ªç‰¹æ®Šçš„è„šæœ¬æ–‡ä»¶ï¼Œå…¶ä¸­READMEä¸­å¯¹è„šæœ¬æœ‰ç€è¯¦ç»†çš„è¯´æ˜")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("å­˜æ”¾çš„æ˜¯Nginxè‡ªå¸¦çš„ä¸¤ä¸ªhtmlé¡µé¢ï¼Œè®¿é—®Nginxçš„é¦–é¡µå’Œé”™è¯¯é¡µé¢")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("LICENSE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("è®¸å¯è¯çš„ç›¸å…³æè¿°æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("man")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("nginxçš„manæ‰‹å†Œ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("README")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("Nginxçš„é˜…è¯»æŒ‡å—")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("Nginxçš„æºä»£ç ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"_4-3-nginxçš„æºç å¤æ‚å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-nginxçš„æºç å¤æ‚å®‰è£…"}},[s._v("#")]),s._v(" 4.3 Nginxçš„æºç å¤æ‚å®‰è£… ğŸ˜„")]),s._v(" "),a("p",[s._v("è¿™ç§æ–¹å¼å’Œç®€å•çš„å®‰è£…é…ç½®ä¸åŒçš„åœ°æ–¹åœ¨ç¬¬ä¸€æ­¥ï¼Œé€šè¿‡"),a("code",[s._v("./configure")]),s._v("æ¥å¯¹ç¼–è¯‘å‚æ•°è¿›è¡Œè®¾ç½®ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ¥æŒ‡å®šã€‚é‚£ä¹ˆéƒ½æœ‰å“ªäº›å‚æ•°å¯ä»¥è¿›è¡Œè®¾ç½®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿›è¡Œä¸€ä¸ªè¯¦ç»†çš„è¯´æ˜ã€‚")]),s._v(" "),a("p",[a("code",[s._v("PATH")]),s._v(":æ˜¯å’Œè·¯å¾„ç›¸å…³çš„é…ç½®ä¿¡æ¯")]),s._v(" "),a("p",[a("code",[s._v("with")]),s._v(":æ˜¯å¯åŠ¨æ¨¡å—ï¼Œé»˜è®¤æ˜¯å…³é—­çš„")]),s._v(" "),a("p",[a("code",[s._v("without")]),s._v(":æ˜¯å…³é—­æ¨¡å—ï¼Œé»˜è®¤æ˜¯å¼€å¯çš„")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å…ˆæ¥è®¤è¯†ä¸€äº›ç®€å•çš„è·¯å¾„é…ç½®å·²ç»é€šè¿‡è¿™äº›é…ç½®æ¥å®Œæˆä¸€ä¸ªç®€å•çš„ç¼–è¯‘ï¼š")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH: æŒ‡å‘Nginxçš„å®‰è£…ç›®å½•ï¼Œé»˜è®¤å€¼ä¸º/usr/local/nginx")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("--sbin-path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH: æŒ‡å‘(æ‰§è¡Œ)ç¨‹åºæ–‡ä»¶(nginx)çš„è·¯å¾„,é»˜è®¤å€¼ä¸º<prefix>/sbin/nginx")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("--modules-path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH: æŒ‡å‘NginxåŠ¨æ€æ¨¡å—å®‰è£…ç›®å½•ï¼Œé»˜è®¤å€¼ä¸º<prefix>/modules")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("--conf-path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH: æŒ‡å‘é…ç½®æ–‡ä»¶(nginx.conf)çš„è·¯å¾„,é»˜è®¤å€¼ä¸º<prefix>/conf/nginx.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("--error-log-path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH: æŒ‡å‘é”™è¯¯æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„,é»˜è®¤å€¼ä¸º<prefix>/logs/error.log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("--http-log-path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH: æŒ‡å‘è®¿é—®æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„,é»˜è®¤å€¼ä¸º<prefix>/logs/access.log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("--pid-path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH: æŒ‡å‘Nginxå¯åŠ¨åè¿›è¡ŒIDçš„æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤å€¼ä¸º<prefix>/logs/nginx.pid")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("--lock-path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH: æŒ‡å‘Nginxé”æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„,é»˜è®¤å€¼ä¸º<prefix>/logs/nginx.lock")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("è¦æƒ³ä½¿ç”¨å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--sbin-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--modules-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/modules "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--conf-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/conf/nginx.conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--error-log-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/error.log "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--http-log-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/access.log "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--pid-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/nginx.pid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--lock-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/nginx.lock\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h5",{attrs:{id:"å¸è½½ä¹‹å‰ç‰ˆæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸è½½ä¹‹å‰ç‰ˆæœ¬"}},[s._v("#")]),s._v(" å¸è½½ä¹‹å‰ç‰ˆæœ¬")]),s._v(" "),a("p",[s._v("åœ¨ä½¿ç”¨ä¸Šè¿°å‘½ä»¤ä¹‹å‰ï¼Œéœ€è¦å°†ä¹‹å‰æœåŠ¡å™¨å·²ç»å®‰è£…çš„nginxè¿›è¡Œå¸è½½ï¼ˆä¹‹å‰æœ‰å®‰è£…è¿‡ï¼‰ï¼Œå¸è½½çš„æ­¥éª¤åˆ†ä¸ºä¸‰æ­¥éª¤ï¼š")]),s._v(" "),a("p",[s._v("æ­¥éª¤ä¸€ï¼šéœ€è¦å°†nginxçš„è¿›ç¨‹å…³é—­")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("æ­¥éª¤äºŒ:å°†å®‰è£…çš„nginxè¿›è¡Œåˆ é™¤")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" /usr/local/nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("æ­¥éª¤ä¸‰:å°†å®‰è£…åŒ…ä¹‹å‰ç¼–è¯‘çš„ç¯å¢ƒæ¸…é™¤æ‰")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" clean\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"å®‰è£…æ–°ç‰ˆæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…æ–°ç‰ˆæœ¬"}},[s._v("#")]),s._v(" å®‰è£…æ–°ç‰ˆæœ¬")]),s._v(" "),a("ol",[a("li",[s._v("è¿›å…¥å®˜ç½‘æŸ¥æ‰¾éœ€è¦ä¸‹è½½ç‰ˆæœ¬çš„é“¾æ¥åœ°å€ï¼Œç„¶åä½¿ç”¨"),a("code",[s._v("wget")]),s._v("å‘½ä»¤è¿›è¡Œä¸‹è½½")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://nginx.org/download/nginx-1.16.1.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("å»ºè®®å¤§å®¶å°†ä¸‹è½½çš„èµ„æºè¿›è¡ŒåŒ…ç®¡ç†")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" nginx/core\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" nginx-1.16.1.tar.gz nginx/core\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("è§£å‹ç¼©")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xzf")]),s._v(" nginx-1.16.1.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("(4)è¿›å…¥èµ„æºæ–‡ä»¶ä¸­ï¼Œå‘ç°configure")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--sbin-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--modules-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/modules "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--conf-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/conf/nginx.conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--error-log-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/error.log "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--http-log-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/access.log "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--pid-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/nginx.pid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--lock-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/logs/nginx.lock\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181734596.png",alt:"image-20230318173421545"}})]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/tudou1179006580/p/14875457.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®‰è£…nginxå‡ºé”™the HTTP rewrite module requires the PCRE library - å¡æ´›å°è±† - åšå®¢å›­ (cnblogs.com)"),a("OutboundLink")],1)])]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[s._v("ç¼–è¯‘")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("å®‰è£…")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("4å’Œ5å¯ä»¥åˆä¸º "),a("code",[s._v("make & make install")])])]),s._v(" "),a("h5",{attrs:{id:"ç¦»çº¿å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¦»çº¿å®‰è£…"}},[s._v("#")]),s._v(" ç¦»çº¿å®‰è£… ğŸš—")]),s._v(" "),a("ol",[a("li",[s._v("ç¦»çº¿å®‰è£…")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/sinat_36521092/article/details/124731532",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/sinat_36521092/article/details/124731532"),a("OutboundLink")],1)]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("Centosç³»ç»Ÿä¸­å¦‚ä½•åœ¨æŒ‡å®šä½ç½®ä¸‹å®‰è£…Nginx")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.jb51.net/article/190645.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jb51.net/article/190645.htm"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./configure "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/nginx/ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--sbin-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/nginx/nginx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--conf-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/nginx/nginx.conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--pid-path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/nginx/nginx.pid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-http_ssl_module "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-pcre"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/nginx/pcre-8.44 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-zlib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/nginx/zlib-1.2.11 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-openssl"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/nginx/openssl-1.0.2h "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼–è¯‘å‘½ä»¤è¡Œ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é‡è¦!!!å¦‚æœä¸æ‰§è¡Œåˆ™ä¸ä¼šåˆ›å»ºçœŸæ­£çš„ nginx æ–‡ä»¶")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h5",{attrs:{id:"å¯åŠ¨nginx-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨nginx-3"}},[s._v("#")]),s._v(" å¯åŠ¨nginx")]),s._v(" "),a("ul",[a("li",[s._v("å¯åŠ¨nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/local/nginx/sbin/nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("å…³é—­nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("å¦‚æœä¿®æ”¹äº†é…ç½®â½‚ä»¶åæƒ³é‡æ–°åŠ è½½Nginx,é‡æ–°åŠ è½½nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"å°†nginxé…ç½®ä¸ºæœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°†nginxé…ç½®ä¸ºæœåŠ¡"}},[s._v("#")]),s._v(" å°†Nginxé…ç½®ä¸ºæœåŠ¡ ğŸš—")]),s._v(" "),a("p",[s._v("é…ç½®ä¿¡æ¯")]),s._v(" "),a("p",[s._v("systemctlå¯åŠ¨æœåŠ¡ç¼–å†™\nCentos7çš„æœåŠ¡systemctlè„šæœ¬å­˜æ”¾åœ¨ï¼š"),a("code",[s._v("/usr/lib/systemd/")]),s._v("ç›®å½•ä¸‹ï¼Œæœ‰ç³»ç»Ÿï¼ˆsystemï¼‰å’Œç”¨æˆ·ï¼ˆuserï¼‰ä¹‹åˆ†ï¼Œä¸€èˆ¬éœ€è¦å¼€æœºä¸ç™»å½•å°±èƒ½è¿è¡Œçš„ç¨‹åºï¼Œå°±å­˜æ”¾åœ¨"),a("code",[s._v("c")]),s._v("ç›®å½•ä¸‹")]),s._v(" "),a("p",[s._v("æ¯ä¸€ä¸ªæœåŠ¡ä»¥.serviceç»“å°¾ï¼Œä¸€èˆ¬ä¼šåˆ†ä¸º3éƒ¨åˆ†ï¼š[Unit]ã€[Service]å’Œ[Install]ï¼Œä»¥sshdä¸ºå®ä¾‹å¦‚ä¸‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("OpenSSH server daemon\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Documentation")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("man:sshd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" man:sshd_config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("After")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network.target sshd-keygen.service\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Wants")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sshd-keygen.service\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("notify\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("EnvironmentFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/sysconfig/sshd\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/sbin/sshd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$OPTIONS")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecReload")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/bin/kill "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-HUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MAINPID")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KillMode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("process\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("on-failure\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RestartSec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("42s\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("Nginxé…ç½®å¦‚ä¸‹")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/20220702175006.png",alt:""}})]),s._v(" "),a("p",[s._v("æ“ä½œå‘½ä»¤")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl start ssh.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯åŠ¨sshdæœåŠ¡ï¼š")]),s._v("\nsystemctl stop ssh.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœæ­¢sshdæœåŠ¡")]),s._v("\nsystemctl status ssh.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹sshdæœåŠ¡çŠ¶æ€")]),s._v("\nsystemctl restart ssh.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é‡å¯sshdæœåŠ¡")]),s._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" ssh.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ngi")]),s._v("\nsystemctl disable ssh.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¦æ­¢å¼€æœºè‡ªå¯åŠ¨")]),s._v("\nsystemctl list-units "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹æ‰€æœ‰å·²ç»å¯åŠ¨çš„æœåŠ¡")]),s._v("\nsystemctl daemon-reload "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åï¼Œé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶,")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("å‚è€ƒï¼š")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/sinron_wu/article/details/105216132",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä¸‰ç§å¼€æœºè‡ªå¯æ–¹å¼"),a("OutboundLink")],1),s._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/weixin_45876097/article/details/120378316",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linuxå¯åŠ¨é…ç½®æ–‡ä»¶"),a("OutboundLink")],1),s._v(" "),a("a",{attrs:{href:"https://longgege.blog.csdn.net/article/details/109781230",target:"_blank",rel:"noopener noreferrer"}},[s._v("systemctlè®¾ç½®å¼€æœºè‡ªå¯"),a("OutboundLink")],1)]),s._v(" "),a("h5",{attrs:{id:"ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶è¿›è¡ŒéªŒè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶è¿›è¡ŒéªŒè¯"}},[s._v("#")]),s._v(" ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶è¿›è¡ŒéªŒè¯ ğŸš—")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…¨å±€è·¯å¾„")]),s._v("\n/usr/local/nginx/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("æˆ–è€…è¿›å…¥ç›®å½•")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181811077.png",alt:"image-20230318181154033"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181817435.png",alt:"image-20230318181705404"}})]),s._v(" "),a("h4",{attrs:{id:"_4-rpmå®‰è£…åŒ…å®‰è£…nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-rpmå®‰è£…åŒ…å®‰è£…nginx"}},[s._v("#")]),s._v(" 4. "),a("a",{attrs:{href:"https://so.csdn.net/so/search?q=rpm%E5%AE%89%E8%A3%85&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("rpmå®‰è£…"),a("OutboundLink")],1),s._v("åŒ…å®‰è£…nginx")]),s._v(" "),a("h5",{attrs:{id:"rpmå®‰è£…nginxåŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpmå®‰è£…nginxåŒ…"}},[s._v("#")]),s._v(" rpmå®‰è£…nginxåŒ…")]),s._v(" "),a("ol",[a("li",[s._v("å®˜ç½‘ä¸‹è½½"),a("a",{attrs:{href:"https://nginx.org/packages/centos/7/x86_64/RPMS/nginx-1.20.2-1.el7.ngx.x86_64.rpm",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®‰è£…åŒ…"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://nginx.org/packages/centos/7/x86_64/RPMS/nginx-1.20.2-1.el7.ngx.x86_64.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("å®‰è£…nginxåŒ…")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ivh")]),s._v(" nginx-1.20.2-1.el7.ngx.x86_64.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[s._v("é…ç½®æƒé™")]),s._v(" "),a("p",[s._v("ä½¿ç”¨rootè´¦å·åˆ›å»ºnginxç”¨æˆ·å’Œç»„")])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /sbin/nologin "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-M")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("â€‹\tæˆæƒåˆ—è¡¨æ¸…å•ç»™nginx")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/log/logrotate.d/nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/nginx/conf.d\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/config.d/default.conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/nginx/fastcgi_params\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/nginx/mime.types\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/nginx/modules\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/nginx/nginx.conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/nginx/scgi_params\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /etc/nginx/uwsgi_params\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/lib/systemd/system/nginx-debug.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/lib/systemd/system/nginx.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/lib64/nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/lib64/nginx/modules\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/libexec/initscripts/legacy-actions/nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/libexec/initscripts/legacy-actions/nginx/check-reload\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/libexec/initscripts/legacy-actions/nginx/upgrade\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/sbin/nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/sbin/nginx-debug\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/share/doc/nginx-1.20.1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/share/doc/nginx-1.20.1/COPYRIGHT\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/share/man/man8/nginx.8.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/share/nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/share/nginx/html\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/share/nginx/html/50x.html\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /usr/share/nginx/html/index.html\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /var/cache/nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx /var/log/nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("å¯åŠ¨nginx")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl start nginix\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("éªŒè¯")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" IP\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"å¸è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸è½½"}},[s._v("#")]),s._v(" å¸è½½")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹nginxå®‰è£…æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nginx\nnginx-1.20.2-1.el7.ngx.x86_64 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å·²å®‰è£…çš„nginx")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¸è½½nginxå®‰è£…æ–‡ä»¶")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" nginx-1.20.2-1.el7.ngx.x86_64\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_5-nginxç›®å½•ç»“æ„åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-nginxç›®å½•ç»“æ„åˆ†æ"}},[s._v("#")]),s._v(" 5. Nginxç›®å½•ç»“æ„åˆ†æ")]),s._v(" "),a("p",[s._v("åœ¨ä½¿ç”¨Nginxä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¯¹å®‰è£…å¥½çš„Nginxç›®å½•æ–‡ä»¶è¿›è¡Œä¸€ä¸ªåˆ†æï¼Œåœ¨è¿™å—ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªå·¥å…·treeï¼Œé€šè¿‡treeæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹é¢çš„å»æŸ¥çœ‹centosç³»ç»Ÿä¸Šçš„æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œå½“ç„¶ï¼Œå¦‚æœæƒ³ä½¿ç”¨treeå·¥å…·ï¼Œ")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å°±å¾—å…ˆé€šè¿‡`yum install -y tree`æ¥è¿›è¡Œå®‰è£…ï¼Œå®‰è£…æˆåŠŸåï¼Œ")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" tree\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯ä»¥é€šè¿‡æ‰§è¡Œ`tree /usr/local/nginx`(treeåé¢è·Ÿçš„æ˜¯Nginxçš„å®‰è£…ç›®å½•)ï¼Œ")]),s._v("\ntree /usr/local/nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("è·å–çš„ç»“æœå¦‚ä¸‹ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112882.png",alt:"1581439634265"}})]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("conf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("nginxæ‰€æœ‰é…ç½®æ–‡ä»¶ç›®å½•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("    CGI(Common")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("Gateway Interface)é€šç”¨ç½‘å…³ã€æ¥å£ã€‘ï¼Œä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯ä»å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚å’Œæ•°æ®ï¼ŒæœåŠ¡ç«¯è·å–åˆ°è¯·æ±‚å’Œæ•°æ®åå¯ä»¥è°ƒç”¨è°ƒç”¨CGIã€ç¨‹åºã€‘å¤„ç†åŠç›¸åº”ç»“æœç»™å®¢æˆ·ç«¯çš„ä¸€ç§æ ‡å‡†è§„èŒƒã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tfastcgi.conf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("fastcgiç›¸å…³é…ç½®æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tfastcgi.conf.default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("fastcgi.confçš„å¤‡ä»½æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tfastcgi_params")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("fastcgiçš„å‚æ•°æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tfastcgi_params.default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("fastcgiçš„å‚æ•°å¤‡ä»½æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tscgi_params")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("scgiçš„å‚æ•°æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tscgi_params.default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("scgiçš„å‚æ•°å¤‡ä»½æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("    uwsgi_params")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("uwsgiçš„å‚æ•°æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tuwsgi_params.default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("uwsgiçš„å‚æ•°å¤‡ä»½æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tmime.types")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("è®°å½•çš„æ˜¯HTTPåè®®ä¸­çš„Content-Typeçš„å€¼å’Œæ–‡ä»¶åç¼€åçš„å¯¹åº”å…³ç³»")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tmime.types.default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("mime.typesçš„å¤‡ä»½æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tnginx.conf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("è¿™ä¸ªæ˜¯Nginxçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶éå¸¸é‡è¦ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å³å°†è¦å­¦ä¹ çš„é‡ç‚¹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tnginx.conf.default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("nginx.confçš„å¤‡ä»½æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tkoi-utfã€koi-winã€win-utf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("è¿™ä¸‰ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸ç¼–ç è½¬æ¢æ˜ å°„ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼Œç”¨æ¥å°†ä¸€ç§ç¼–ç è½¬æ¢æˆå¦ä¸€ç§ç¼–ç ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("å­˜æ”¾nginxè‡ªå¸¦çš„ä¸¤ä¸ªé™æ€çš„htmlé¡µé¢")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t50x.html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("è®¿é—®å¤±è´¥åçš„å¤±è´¥é¡µé¢")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tindex.html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("æˆåŠŸè®¿é—®çš„é»˜è®¤é¦–é¡µ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("logs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("è®°å½•å…¥é—¨çš„æ–‡ä»¶ï¼Œå½“nginxæœåŠ¡å™¨å¯åŠ¨åï¼Œè¿™é‡Œé¢ä¼šæœ‰ access.log error.log å’Œnginx.pidä¸‰ä¸ªæ–‡ä»¶å‡ºç°ã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sbin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("æ˜¯å­˜æ”¾æ‰§è¡Œç¨‹åºæ–‡ä»¶nginx")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tnginx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("æ˜¯ç”¨æ¥æ§åˆ¶Nginxçš„å¯åŠ¨å’Œåœæ­¢ç­‰ç›¸å…³çš„å‘½ä»¤ã€‚")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h3",{attrs:{id:"_6-nginxæœåŠ¡å™¨å¯åœå‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-nginxæœåŠ¡å™¨å¯åœå‘½ä»¤"}},[s._v("#")]),s._v(" 6. NginxæœåŠ¡å™¨å¯åœå‘½ä»¤")]),s._v(" "),a("p",[s._v("Nginxå®‰è£…å®Œæˆåï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å­¦ä¹ çš„æ˜¯å¦‚ä½•å¯åŠ¨ã€é‡å¯å’Œåœæ­¢Nginxçš„æœåŠ¡ã€‚")]),s._v(" "),a("p",[s._v("å¯¹äºNginxçš„å¯åœåœ¨linuxç³»ç»Ÿä¸­ä¹Ÿæœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œæˆ‘ä»¬æœ¬æ¬¡è¯¾ç¨‹ä»‹ç»ä¸¤ç§æ–¹å¼ï¼š")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("NginxæœåŠ¡çš„ä¿¡å·æ§åˆ¶")])]),s._v(" "),a("li",[a("p",[s._v("Nginxçš„å‘½ä»¤è¡Œæ§åˆ¶")])])]),s._v(" "),a("h4",{attrs:{id:"nginxæœåŠ¡çš„ä¿¡å·æ§åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginxæœåŠ¡çš„ä¿¡å·æ§åˆ¶"}},[s._v("#")]),s._v(" NginxæœåŠ¡çš„ä¿¡å·æ§åˆ¶")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[s._v("Nginxä¸­çš„masterå’Œworkerè¿›ç¨‹?\nNginxçš„å·¥ä½œæ–¹å¼?\nå¦‚ä½•è·å–è¿›ç¨‹çš„PID?\nä¿¡å·æœ‰å“ªäº›?\nå¦‚ä½•é€šè¿‡ä¿¡å·æ§åˆ¶Nginxçš„å¯åœç­‰ç›¸å…³æ“ä½œ?\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("å‰é¢åœ¨æåˆ°Nginxçš„é«˜æ€§èƒ½ï¼Œå…¶å®ä¹Ÿå’Œå®ƒçš„æ¶æ„æ¨¡å¼æœ‰å…³ã€‚Nginxé»˜è®¤é‡‡ç”¨çš„æ˜¯å¤šè¿›ç¨‹çš„æ–¹å¼æ¥å·¥ä½œçš„ï¼Œå½“å°†Nginxå¯åŠ¨åï¼Œæˆ‘ä»¬é€šè¿‡"),a("code",[s._v("ps -ef | grep nginx")]),s._v("å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112666.png",alt:"1581444289294"}})]),s._v(" "),a("p",[s._v("ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°,Nginxåå°è¿›ç¨‹ä¸­åŒ…å«"),a("code",[s._v("ä¸€ä¸ªmasterè¿›ç¨‹å’Œå¤šä¸ªworkerè¿›ç¨‹")]),s._v("ï¼Œmasterè¿›ç¨‹ä¸»è¦ç”¨æ¥ç®¡ç†workerè¿›ç¨‹ï¼ŒåŒ…å«æ¥æ”¶å¤–ç•Œçš„ä¿¡æ¯ï¼Œå¹¶å°†æ¥æ”¶åˆ°çš„ä¿¡å·å‘é€ç»™å„ä¸ªworkerè¿›ç¨‹ï¼Œç›‘æ§workerè¿›ç¨‹çš„çŠ¶æ€ï¼Œå½“workerè¿›ç¨‹å‡ºç°å¼‚å¸¸é€€å‡ºåï¼Œä¼šè‡ªåŠ¨é‡æ–°å¯åŠ¨æ–°çš„workerè¿›ç¨‹ã€‚è€Œworkerè¿›ç¨‹åˆ™æ˜¯ä¸“é—¨ç”¨æ¥å¤„ç†ç”¨æˆ·è¯·æ±‚çš„ï¼Œå„ä¸ªworkerè¿›ç¨‹ä¹‹é—´æ˜¯å¹³ç­‰çš„å¹¶ä¸”ç›¸äº’ç‹¬ç«‹ï¼Œå¤„ç†è¯·æ±‚çš„æœºä¼šä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚nginxçš„è¿›ç¨‹æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹å›¾æ¥è¯´æ˜ä¸‹ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152112700.png",alt:"1581444603231"}})]),s._v(" "),a("p",[s._v("æˆ‘ä»¬ç°åœ¨ä½œä¸ºç®¡ç†å‘˜ï¼Œåªéœ€è¦é€šè¿‡ç»™masterè¿›ç¨‹å‘é€ä¿¡å·å°±å¯ä»¥æ¥æ§åˆ¶Nginx,è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦æœ‰ä¸¤ä¸ªå‰ææ¡ä»¶ï¼Œä¸€ä¸ªæ˜¯è¦æ“ä½œçš„masterè¿›ç¨‹ï¼Œä¸€ä¸ªæ˜¯ä¿¡å·ã€‚")]),s._v(" "),a("p",[s._v("ï¼ˆ1ï¼‰è¦æƒ³æ“ä½œNginxçš„masterè¿›ç¨‹ï¼Œå°±éœ€è¦è·å–åˆ°masterè¿›ç¨‹çš„è¿›ç¨‹å·IDã€‚è·å–æ–¹å¼ç®€å•ä»‹ç»ä¸¤ä¸ªï¼Œ")]),s._v(" "),a("p",[s._v("æ–¹å¼ä¸€ï¼šé€šè¿‡"),a("code",[s._v("ps -ef | grep nginx")]),s._v("ï¼›")]),s._v(" "),a("p",[s._v("æ–¹å¼äºŒï¼šåœ¨è®²è§£nginxçš„"),a("code",[s._v("./configure")]),s._v("çš„é…ç½®å‚æ•°çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå‚æ•°æ˜¯"),a("code",[s._v("--pid-path=PATH")]),s._v("é»˜è®¤æ˜¯"),a("code",[s._v("/usr/local/nginx/logs/nginx.pid")]),s._v(",æ‰€ä»¥å¯ä»¥é€šè¿‡æŸ¥çœ‹è¯¥æ–‡ä»¶æ¥è·å–nginxçš„masterè¿›ç¨‹ID.")]),s._v(" "),a("p",[s._v("ï¼ˆ2ï¼‰ä¿¡å·")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("ä¿¡å·")]),s._v(" "),a("th",[s._v("ä½œç”¨")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("TERM/INT")]),s._v(" "),a("td",[s._v("ç«‹å³å…³é—­æ•´ä¸ªæœåŠ¡")])]),s._v(" "),a("tr",[a("td",[s._v("QUIT")]),s._v(" "),a("td",[s._v('"ä¼˜é›…"åœ°å…³é—­æ•´ä¸ªæœåŠ¡')])]),s._v(" "),a("tr",[a("td",[s._v("HUP")]),s._v(" "),a("td",[s._v("é‡è¯»é…ç½®æ–‡ä»¶å¹¶ä½¿ç”¨æœåŠ¡å¯¹æ–°é…ç½®é¡¹ç”Ÿæ•ˆ")])]),s._v(" "),a("tr",[a("td",[s._v("USR1")]),s._v(" "),a("td",[s._v("é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡Œæ—¥å¿—åˆ‡å‰²")])]),s._v(" "),a("tr",[a("td",[s._v("USR2")]),s._v(" "),a("td",[s._v("å¹³æ»‘å‡çº§åˆ°æœ€æ–°ç‰ˆçš„nginx")])]),s._v(" "),a("tr",[a("td",[s._v("WINCH")]),s._v(" "),a("td",[s._v("æ‰€æœ‰å­è¿›ç¨‹ä¸åœ¨æ¥æ”¶å¤„ç†æ–°è¿æ¥ï¼Œç›¸å½“äºç»™workè¿›ç¨‹å‘é€QUITæŒ‡ä»¤")])])])]),s._v(" "),a("p",[s._v("è°ƒç”¨å‘½ä»¤ä¸º"),a("code",[s._v("kill -signal PID")])]),s._v(" "),a("p",[s._v("signal:å³ä¸ºä¿¡å·ï¼›PIDå³ä¸ºè·å–åˆ°çš„masterçº¿ç¨‹ID")]),s._v(" "),a("ol",[a("li",[s._v("å‘é€TERM/INTä¿¡å·ç»™masterè¿›ç¨‹ï¼Œä¼šå°†NginxæœåŠ¡ç«‹å³å…³é—­ã€‚")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-TERM")]),s._v(" PID / "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-TERM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/nginx/logs/nginx.pid"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-INT")]),s._v(" PID / "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-INT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/nginx/logs/nginx.pid"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("å‘é€QUITä¿¡å·ç»™masterè¿›ç¨‹ï¼Œmasterè¿›ç¨‹ä¼šæ§åˆ¶æ‰€æœ‰çš„workè¿›ç¨‹ä¸å†æ¥æ”¶æ–°çš„è¯·æ±‚ï¼Œç­‰æ‰€æœ‰è¯·æ±‚å¤„ç†å®Œåï¼Œåœ¨æŠŠè¿›ç¨‹éƒ½å…³é—­æ‰ã€‚")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-QUIT")]),s._v(" PID / "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-TERM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/nginx/logs/nginx.pid"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("å‘é€HUPä¿¡å·ç»™masterè¿›ç¨‹ï¼Œmasterè¿›ç¨‹ä¼šæŠŠæ§åˆ¶æ—§çš„workè¿›ç¨‹ä¸å†æ¥æ”¶æ–°çš„è¯·æ±‚ï¼Œç­‰å¤„ç†å®Œè¯·æ±‚åå°†æ—§çš„workè¿›ç¨‹å…³é—­æ‰ï¼Œç„¶åæ ¹æ®nginxçš„é…ç½®æ–‡ä»¶é‡æ–°å¯åŠ¨æ–°çš„workè¿›ç¨‹")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-HUP")]),s._v(" PID / "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-TERM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/nginx/logs/nginx.pid"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("å‘é€USR1ä¿¡å·ç»™masterè¿›ç¨‹ï¼Œå‘Šè¯‰Nginxé‡æ–°å¼€å¯æ—¥å¿—æ–‡ä»¶")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-USR1")]),s._v(" PID / "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-TERM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/nginx/logs/nginx.pid"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("å‘é€USR2ä¿¡å·ç»™masterè¿›ç¨‹ï¼Œå‘Šè¯‰masterè¿›ç¨‹è¦å¹³æ»‘å‡çº§ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä¼šé‡æ–°å¼€å¯å¯¹åº”çš„masterè¿›ç¨‹å’Œworkè¿›ç¨‹ï¼Œæ•´ä¸ªç³»ç»Ÿä¸­å°†ä¼šæœ‰ä¸¤ä¸ªmasterè¿›ç¨‹ï¼Œå¹¶ä¸”æ–°çš„masterè¿›ç¨‹çš„PIDä¼šè¢«è®°å½•åœ¨"),a("code",[s._v("/usr/local/nginx/logs/nginx.pid")]),s._v("è€Œä¹‹å‰çš„æ—§çš„masterè¿›ç¨‹PIDä¼šè¢«è®°å½•åœ¨"),a("code",[s._v("/usr/local/nginx/logs/nginx.pid.oldbin")]),s._v("æ–‡ä»¶ä¸­ï¼Œæ¥ç€å†æ¬¡å‘é€QUITä¿¡å·ç»™æ—§çš„masterè¿›ç¨‹ï¼Œè®©å…¶å¤„ç†å®Œè¯·æ±‚åå†è¿›è¡Œå…³é—­")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-USR2")]),s._v(" PID / "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-USR2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/nginx/logs/nginx.pid"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-QUIT")]),s._v(" PID / "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-QUIT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/nginx/logs/nginx.pid.oldbin"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152141807.png",alt:"1586368250085"}})]),s._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[s._v("å‘é€WINCHä¿¡å·ç»™masterè¿›ç¨‹,è®©masterè¿›ç¨‹æ§åˆ¶ä¸è®©æ‰€æœ‰çš„workè¿›ç¨‹åœ¨æ¥æ”¶æ–°çš„è¯·æ±‚äº†ï¼Œè¯·æ±‚å¤„ç†å®Œåå…³é—­workè¿›ç¨‹ã€‚æ³¨æ„masterè¿›ç¨‹ä¸ä¼šè¢«å…³é—­æ‰")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-WINCH")]),s._v(" PID /kill -WINCH"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/nginx/logs/nginx.pid"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"nginxçš„å‘½ä»¤è¡Œæ§åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginxçš„å‘½ä»¤è¡Œæ§åˆ¶"}},[s._v("#")]),s._v(" Nginxçš„å‘½ä»¤è¡Œæ§åˆ¶")]),s._v(" "),a("p",[s._v("æ­¤æ–¹å¼æ˜¯é€šè¿‡Nginxå®‰è£…ç›®å½•ä¸‹çš„sbinä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶nginxæ¥è¿›è¡ŒNginxçŠ¶æ€çš„æ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡"),a("code",[s._v("nginx -h")]),s._v("æ¥æŸ¥çœ‹éƒ½æœ‰å“ªäº›å‚æ•°å¯ä»¥ç”¨ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152113086.png",alt:"1581486604517"}})]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-?å’Œ-h")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-v")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("æ‰“å°ç‰ˆæœ¬å·ä¿¡æ¯å¹¶é€€å‡º")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("æ‰“å°ç‰ˆæœ¬å·ä¿¡æ¯å’Œé…ç½®ä¿¡æ¯å¹¶é€€å‡º")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-t")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("æµ‹è¯•nginxçš„é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®å¹¶é€€å‡º")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("æµ‹è¯•nginxçš„é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®å¹¶åˆ—å‡ºç”¨åˆ°çš„é…ç½®æ–‡ä»¶ä¿¡æ¯ç„¶åé€€å‡º")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-q")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("åœ¨é…ç½®æµ‹è¯•æœŸé—´ç¦æ­¢æ˜¾ç¤ºéé”™è¯¯æ¶ˆæ¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-s")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("signalä¿¡å·ï¼Œåé¢å¯ä»¥è·Ÿ ï¼š")]),s._v("\n\t stop[å¿«é€Ÿå…³é—­ï¼Œç±»ä¼¼äºTERM/INTä¿¡å·çš„ä½œç”¨]\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tquit[ä¼˜é›…çš„å…³é—­ï¼Œç±»ä¼¼äºQUITä¿¡å·çš„ä½œç”¨]")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\treopen[é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶ç±»ä¼¼äºUSR1ä¿¡å·çš„ä½œç”¨]")]),s._v(" \n\treload[ç±»ä¼¼äºHUPä¿¡å·çš„ä½œç”¨]\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("prefixï¼ŒæŒ‡å®šNginxçš„prefixè·¯å¾„ï¼Œ(é»˜è®¤ä¸º: /usr/local/nginx/)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-c")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("filename,æŒ‡å®šNginxçš„é…ç½®æ–‡ä»¶è·¯å¾„,(é»˜è®¤ä¸º: conf/nginx.conf)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("-g")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("ç”¨æ¥è¡¥å……Nginxé…ç½®æ–‡ä»¶ï¼Œå‘NginxæœåŠ¡æŒ‡å®šå¯åŠ¨æ—¶åº”ç”¨å…¨å±€çš„é…ç½®")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"_7-nginxæœåŠ¡å™¨ç‰ˆæœ¬å‡çº§å’Œæ–°å¢æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-nginxæœåŠ¡å™¨ç‰ˆæœ¬å‡çº§å’Œæ–°å¢æ¨¡å—"}},[s._v("#")]),s._v(" 7. NginxæœåŠ¡å™¨ç‰ˆæœ¬å‡çº§å’Œæ–°å¢æ¨¡å—")]),s._v(" "),a("p",[s._v("å¦‚æœæƒ³å¯¹Nginxçš„ç‰ˆæœ¬è¿›è¡Œæ›´æ–°ï¼Œæˆ–è€…è¦åº”ç”¨ä¸€äº›æ–°çš„æ¨¡å—ï¼Œæœ€ç®€å•çš„åšæ³•å°±æ˜¯åœæ­¢å½“å‰çš„NginxæœåŠ¡ï¼Œç„¶åå¼€å¯æ–°çš„NginxæœåŠ¡ã€‚ä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œç”¨æˆ·æ˜¯æ— æ³•è®¿é—®æœåŠ¡å™¨ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°NginxæœåŠ¡å™¨æä¾›çš„å¹³æ»‘å‡çº§åŠŸèƒ½ã€‚è¿™ä¸ªä¹Ÿæ˜¯Nginxçš„ä¸€å¤§ç‰¹ç‚¹ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå°±å¯ä»¥ä½¿Nginxåœ¨7*24å°æ—¶ä¸é—´æ–­çš„æä¾›æœåŠ¡äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸‹éœ€æ±‚ï¼š")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[s._v("éœ€æ±‚ï¼šNginxçš„ç‰ˆæœ¬æœ€å¼€å§‹ä½¿ç”¨çš„æ˜¯Nginx-1.14.2,ç”±äºæœåŠ¡å‡çº§ï¼Œéœ€è¦å°†Nginxçš„ç‰ˆæœ¬å‡çº§åˆ°Nginx-1.16.1,è¦æ±‚Nginxä¸èƒ½ä¸­æ–­æä¾›æœåŠ¡ã€‚\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("ä¸ºäº†åº”å¯¹ä¸Šè¿°çš„éœ€æ±‚ï¼Œè¿™é‡Œæˆ‘ä»¬ç»™å¤§å®¶æä¾›ä¸¤ç§è§£å†³æ–¹æ¡ˆ:")]),s._v(" "),a("p",[s._v("æ–¹æ¡ˆä¸€:ä½¿ç”¨NginxæœåŠ¡ä¿¡å·å®ŒæˆNginxçš„å‡çº§")]),s._v(" "),a("p",[s._v("æ–¹æ¡ˆäºŒ:ä½¿ç”¨Nginxå®‰è£…ç›®å½•çš„makeå‘½ä»¤å®Œæˆå‡çº§")]),s._v(" "),a("h4",{attrs:{id:"ç¯å¢ƒå‡†å¤‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¯å¢ƒå‡†å¤‡"}},[s._v("#")]),s._v(" ç¯å¢ƒå‡†å¤‡")]),s._v(" "),a("p",[s._v("ï¼ˆ1ï¼‰å…ˆå‡†å¤‡ä¸¤ä¸ªç‰ˆæœ¬çš„Nginxåˆ†åˆ«æ˜¯ 1.14.2å’Œ1.16.1")]),s._v(" "),a("p",[s._v("ï¼ˆ2ï¼‰ä½¿ç”¨Nginxæºç å®‰è£…çš„æ–¹å¼å°†1.14.2ç‰ˆæœ¬å®‰è£…æˆåŠŸå¹¶æ­£ç¡®è®¿é—®")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("è¿›å…¥å®‰è£…ç›®å½•\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("ï¼ˆ3ï¼‰å°†Nginx1.16.1è¿›è¡Œå‚æ•°é…ç½®å’Œç¼–è¯‘ï¼Œä¸éœ€è¦è¿›è¡Œå®‰è£…ã€‚")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("è¿›å…¥å®‰è£…ç›®å½•\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"æ–¹æ¡ˆä¸€-ä½¿ç”¨nginxæœåŠ¡ä¿¡å·è¿›è¡Œå‡çº§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ¡ˆä¸€-ä½¿ç”¨nginxæœåŠ¡ä¿¡å·è¿›è¡Œå‡çº§"}},[s._v("#")]),s._v(" æ–¹æ¡ˆä¸€:ä½¿ç”¨NginxæœåŠ¡ä¿¡å·è¿›è¡Œå‡çº§")]),s._v(" "),a("p",[s._v("ç¬¬ä¸€æ­¥:å°†1.14.2ç‰ˆæœ¬çš„sbinç›®å½•ä¸‹çš„nginxè¿›è¡Œå¤‡ä»½")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/sbin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" nginx nginxold\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç¬¬äºŒæ­¥:å°†Nginx1.16.1å®‰è£…ç›®å½•ç¼–è¯‘åçš„objsç›®å½•ä¸‹çš„nginxæ–‡ä»¶ï¼Œæ‹·è´åˆ°åŸæ¥"),a("code",[s._v("/usr/local/nginx/sbin")]),s._v("ç›®å½•ä¸‹")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/nginx/core/nginx-1.16.1/objs\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" nginx /usr/local/nginx/sbin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç¬¬ä¸‰æ­¥:å‘é€ä¿¡å·USR2ç»™Nginxçš„1.14.2ç‰ˆæœ¬å¯¹åº”çš„masterè¿›ç¨‹")]),s._v(" "),a("p",[s._v("ç¬¬å››æ­¥:å‘é€ä¿¡å·QUITç»™Nginxçš„1.14.2ç‰ˆæœ¬å¯¹åº”çš„masterè¿›ç¨‹")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-QUIT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" /usr/local/logs/nginx.pid.oldbin"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"æ–¹æ¡ˆäºŒ-ä½¿ç”¨nginxå®‰è£…ç›®å½•çš„makeå‘½ä»¤å®Œæˆå‡çº§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ¡ˆäºŒ-ä½¿ç”¨nginxå®‰è£…ç›®å½•çš„makeå‘½ä»¤å®Œæˆå‡çº§"}},[s._v("#")]),s._v(" æ–¹æ¡ˆäºŒ:ä½¿ç”¨Nginxå®‰è£…ç›®å½•çš„makeå‘½ä»¤å®Œæˆå‡çº§")]),s._v(" "),a("p",[s._v("ç¬¬ä¸€æ­¥:å°†1.14.2ç‰ˆæœ¬çš„sbinç›®å½•ä¸‹çš„nginxè¿›è¡Œå¤‡ä»½")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/sbin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" nginx nginxold\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç¬¬äºŒæ­¥:å°†Nginx1.16.1å®‰è£…ç›®å½•ç¼–è¯‘åçš„objsç›®å½•ä¸‹çš„nginxæ–‡ä»¶ï¼Œæ‹·è´åˆ°åŸæ¥"),a("code",[s._v("/usr/local/nginx/sbin")]),s._v("ç›®å½•ä¸‹")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/nginx/core/nginx-1.16.1/objs\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" nginx /usr/local/nginx/sbin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç¬¬ä¸‰æ­¥:è¿›å…¥åˆ°å®‰è£…ç›®å½•ï¼Œæ‰§è¡Œ"),a("code",[s._v("make upgrade")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152113961.png",alt:"1581494652284"}})]),s._v(" "),a("p",[s._v("ç¬¬å››æ­¥:æŸ¥çœ‹æ˜¯å¦æ›´æ–°æˆåŠŸ")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå…¶å®Nginxæ˜¯ä¸€ç›´å¯¹å¤–æä¾›æœåŠ¡çš„ã€‚å¹¶ä¸”å½“Nginxçš„æœåŠ¡å™¨å¯åŠ¨æˆåŠŸåï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥é€šè¿‡æµè§ˆå™¨è¿›è¡Œç›´æ¥è®¿é—®çš„ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´æ”¹htmlç›®å½•ä¸‹çš„é¡µé¢æ¥ä¿®æ”¹æˆ‘ä»¬åœ¨é¡µé¢ä¸Šæ‰€çœ‹åˆ°çš„å†…å®¹ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä¿®æ”¹htmlç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œèƒ½ä¸èƒ½å¤šæ·»åŠ ä¸€äº›é¡µé¢æ˜¯Nginxçš„åŠŸèƒ½æ›´åŠ ä¸°å¯Œï¼Œè¿˜æœ‰å‰é¢èŠåˆ°Nginxçš„å‰ç«¯åŠŸèƒ½åˆæ˜¯å¦‚ä½•æ¥å®ç°çš„ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å¯¹Nginxçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶è¿›è¡Œä¸€ä¸ªè¯¦ç»†çš„å­¦ä¹ ã€‚")])])}),[],!1,null,null,null);a.default=e.exports}}]);