(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{423:function(t,a,s){"use strict";s.r(a);var e=s(7),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nginxæ ¸å¿ƒé…ç½®æ–‡ä»¶ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginxæ ¸å¿ƒé…ç½®æ–‡ä»¶ç»“æ„"}},[t._v("#")]),t._v(" Nginxæ ¸å¿ƒé…ç½®æ–‡ä»¶ç»“æ„")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çŸ¥é“Nginxçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶é»˜è®¤æ˜¯æ”¾åœ¨"),a("code",[t._v("/usr/local/nginx/conf/nginx.conf")]),t._v("ï¼Œnginxé…ç½®æ ¼å¼å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("worker_processes")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" 1;")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("events")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    worker_connections")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" 1024;")]),t._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("http")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("      mime.types;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    default_type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" application/octet-stream;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    sendfile")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("       on;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    keepalive_timeout")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" 65;")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        listen")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("      80;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        server_name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" localhost;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/ {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("            root")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("  html;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("            index")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" index.html index.htm;")]),t._v("\n        }\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        error_page")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("  500 502 503 504  /50x.html;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/50x.html {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("            root")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("  html;")]),t._v("\n        }\n    }\n\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br")])]),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[t._v("æŒ‡ä»¤å\tæŒ‡ä»¤å€¼;  # å…¨å±€å—ï¼Œä¸»è¦è®¾ç½®NginxæœåŠ¡å™¨æ•´ä½“è¿è¡Œçš„é…ç½®æŒ‡ä»¤\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v(" # eventså—,ä¸»è¦è®¾ç½®,NginxæœåŠ¡å™¨ä¸ç”¨æˆ·çš„ç½‘ç»œè¿æ¥,è¿™ä¸€éƒ¨åˆ†å¯¹NginxæœåŠ¡å™¨çš„æ€§èƒ½å½±å“è¾ƒå¤§")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("events")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("{\t ")]),t._v("\n    æŒ‡ä»¤å\tæŒ‡ä»¤å€¼;\n}\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#httpå—ï¼Œæ˜¯NginxæœåŠ¡å™¨é…ç½®ä¸­çš„é‡è¦éƒ¨åˆ†ï¼Œä»£ç†ã€ç¼“å­˜ã€æ—¥å¿—è®°å½•ã€ç¬¬ä¸‰æ–¹æ¨¡å—é…ç½®...             ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("http")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("{\t\t")]),t._v("\n    æŒ‡ä»¤å\tæŒ‡ä»¤å€¼;\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("{ #serverå—ï¼Œæ˜¯Nginxé…ç½®å’Œè™šæ‹Ÿä¸»æœºç›¸å…³çš„å†…å®¹")]),t._v("\n        æŒ‡ä»¤å\tæŒ‡ä»¤å€¼;\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/ { ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("        #locationå—ï¼ŒåŸºäºNginxæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å­—ç¬¦ä¸²ä¸locationåé¢çš„å€¼è¿›è¡ŒåŒ¹é…ï¼Œå¯¹ç‰¹å®šè¯·æ±‚è¿›è¡Œå¤„ç†")]),t._v("\n            æŒ‡ä»¤å\tæŒ‡ä»¤å€¼;\n        }\n    }\n\t...\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("blockquote",[a("p",[t._v("ç®€å•å°ç»“ä¸‹:")]),t._v(" "),a("p",[t._v("nginx.confé…ç½®æ–‡ä»¶ä¸­é»˜è®¤æœ‰ä¸‰å¤§å—ï¼šå…¨å±€å—ã€eventså—ã€httpå—")]),t._v(" "),a("p",[t._v("httpå—ä¸­å¯ä»¥é…ç½®å¤šä¸ªserverå—ï¼Œæ¯ä¸ªserverå—åˆå¯ä»¥é…ç½®å¤šä¸ªlocationå—ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"_1-å…¨å±€å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å…¨å±€å—"}},[t._v("#")]),t._v(" 1. å…¨å±€å—")]),t._v(" "),a("h3",{attrs:{id:"useræŒ‡ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#useræŒ‡ä»¤"}},[t._v("#")]),t._v(" useræŒ‡ä»¤ ğŸš—")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰user:ç”¨äºé…ç½®è¿è¡ŒNginxæœåŠ¡å™¨çš„workerè¿›ç¨‹çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„ã€‚")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("user user [group]")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("nobody")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("å…¨å±€å—")])])])]),t._v(" "),a("p",[t._v("è¯¥å±æ€§ä¹Ÿå¯ä»¥åœ¨ç¼–è¯‘çš„æ—¶å€™æŒ‡å®šï¼Œè¯­æ³•å¦‚ä¸‹"),a("code",[t._v("./configure --user=user --group=group")]),t._v(",å¦‚æœä¸¤ä¸ªåœ°æ–¹éƒ½è¿›è¡Œäº†è®¾ç½®ï¼Œæœ€ç»ˆç”Ÿæ•ˆçš„æ˜¯é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ã€‚")]),t._v(" "),a("p",[t._v("è¯¥æŒ‡ä»¤çš„ä½¿ç”¨æ­¥éª¤:")]),t._v(" "),a("p",[t._v('(1)è®¾ç½®ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯"www"')]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("user www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152113884.png",alt:"1586597350943"}})]),t._v(" "),a("p",[t._v("(2) åˆ›å»ºä¸€ä¸ªç”¨æˆ·")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useradd")]),t._v(" www\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("(3)ä¿®æ”¹userå±æ€§")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("user www\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("(4)åˆ›å»º"),a("code",[t._v("/root/html/index.html")]),t._v("é¡µé¢ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Welcome to nginx!"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 35em"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Tahoma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Verdana"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Arial"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sans-serif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Welcome to nginx!"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("If you see this page, the nginx web server is successfully installed and\nworking. Further configuration is required."),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("For online documentation and support please refer to\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://nginx.org/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("nginx.org"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("."),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("br")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\nCommercial support is available at\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://nginx.com/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("nginx.com"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("."),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("em")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Thank you for using nginx."),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("em")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("em")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("I am WWW"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("em")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br")])]),a("p",[t._v("(5)ä¿®æ”¹nginx.conf")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/ {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\troot")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("  /root/html;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tindex")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" index.html index.htm;")]),t._v("\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("(5)æµ‹è¯•å¯åŠ¨è®¿é—®")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[t._v("é¡µé¢ä¼šæŠ¥403æ‹’ç»è®¿é—®çš„é”™è¯¯\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("(6)åˆ†æåŸå› ")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[t._v("å› ä¸ºå½“å‰ç”¨æˆ·æ²¡æœ‰è®¿é—®/root/htmlç›®å½•çš„æƒé™\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("(7)å°†æ–‡ä»¶åˆ›å»ºåˆ° "),a("code",[t._v("/home/www/html/index.html")]),t._v(",ä¿®æ”¹é…ç½®")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/ {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\troot")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("  /home/www/html;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tindex")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" index.html index.htm;")]),t._v("\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("(8)å†æ¬¡æµ‹è¯•å¯åŠ¨è®¿é—®")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("èƒ½æ­£å¸¸è®¿é—®ã€‚\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ç»¼ä¸Šæ‰€è¿°ï¼Œä½¿ç”¨useræŒ‡ä»¤å¯ä»¥æŒ‡å®šå¯åŠ¨è¿è¡Œå·¥ä½œè¿›ç¨‹çš„ç”¨æˆ·åŠç”¨æˆ·ç»„ï¼Œè¿™æ ·å¯¹äºç³»ç»Ÿçš„æƒé™è®¿é—®æ§åˆ¶çš„æ›´åŠ ç²¾ç»†ï¼Œä¹Ÿæ›´åŠ å®‰å…¨ã€‚")]),t._v(" "),a("h3",{attrs:{id:"work-processæŒ‡ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#work-processæŒ‡ä»¤"}},[t._v("#")]),t._v(" work processæŒ‡ä»¤")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("master_process")]),t._v(": ç”¨æ¥æŒ‡å®šæ˜¯å¦å¼€å¯å·¥ä½œè¿›ç¨‹ã€‚")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("master_process on|off;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("master_process on;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("å…¨å±€å—")])])])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("worker_processes")]),t._v(":ç”¨äºé…ç½®Nginxç”Ÿæˆå·¥ä½œè¿›ç¨‹çš„æ•°é‡ï¼Œè¿™ä¸ªæ˜¯NginxæœåŠ¡å™¨å®ç°å¹¶å‘å¤„ç†æœåŠ¡çš„å…³é”®æ‰€åœ¨ã€‚ç†è®ºä¸Šæ¥è¯´workder processçš„å€¼è¶Šå¤§ï¼Œå¯ä»¥æ”¯æŒçš„å¹¶å‘å¤„ç†é‡ä¹Ÿè¶Šå¤šï¼Œä½†äº‹å®ä¸Šè¿™ä¸ªå€¼çš„è®¾å®šæ˜¯éœ€è¦å—åˆ°æ¥è‡ªæœåŠ¡å™¨è‡ªèº«çš„é™åˆ¶ï¼Œå»ºè®®å°†è¯¥å€¼å’ŒæœåŠ¡å™¨CPUçš„å†…æ ¸æ•°ä¿å­˜ä¸€è‡´ã€‚")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("worker_processes     num/auto;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("1")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("å…¨å±€å—")])])])]),t._v(" "),a("p",[t._v("å¦‚æœå°†worker_processesè®¾ç½®æˆ2ï¼Œåˆ™ä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152113452.png",alt:"1581563242526"}})]),t._v(" "),a("blockquote",[a("p",[t._v("éœ€è¦å…³é—­æœåŠ¡ï¼Œé‡æ–°å¯åŠ¨ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å…¶ä»–æŒ‡ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–æŒ‡ä»¤"}},[t._v("#")]),t._v(" å…¶ä»–æŒ‡ä»¤")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("daemon")]),t._v("ï¼šè®¾å®šNginxæ˜¯å¦ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å¯åŠ¨ã€‚")])]),t._v(" "),a("p",[t._v("å®ˆæŠ¤å¼è¿›ç¨‹æ˜¯linuxåå°æ‰§è¡Œçš„ä¸€ç§æœåŠ¡è¿›ç¨‹ï¼Œç‰¹ç‚¹æ˜¯ç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯ï¼Œä¸ä¼šéšç€ç»ˆç«¯å…³é—­è€Œåœæ­¢ã€‚")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("daemon on|off;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("daemon on;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("å…¨å±€å—")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("éœ€è¦å…³é—­æœåŠ¡ï¼Œé‡æ–°å¯åŠ¨ã€‚")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("pid")]),t._v(":ç”¨æ¥é…ç½®Nginxå½“å‰masterè¿›ç¨‹çš„è¿›ç¨‹å·IDå­˜å‚¨çš„æ–‡ä»¶è·¯å¾„ã€‚")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("pid file;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("é»˜è®¤ä¸º:/usr/local/nginx/logs/nginx.pid")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("å…¨å±€å—")])])])]),t._v(" "),a("p",[t._v("è¯¥å±æ€§å¯ä»¥é€šè¿‡"),a("code",[t._v("./configure --pid-path=PATH")]),t._v("æ¥æŒ‡å®š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("error_log")]),t._v(":ç”¨æ¥é…ç½®Nginxçš„é”™è¯¯æ—¥å¿—å­˜æ”¾è·¯å¾„")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("error_log  file [æ—¥å¿—çº§åˆ«];")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("error_log logs/error.log error;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("å…¨å±€å—ã€httpã€serverã€location")])])])]),t._v(" "),a("p",[t._v("è¯¥å±æ€§å¯ä»¥é€šè¿‡"),a("code",[t._v("./configure --error-log-path=PATH")]),t._v("æ¥æŒ‡å®š")]),t._v(" "),a("p",[t._v("å…¶ä¸­æ—¥å¿—çº§åˆ«çš„å€¼æœ‰ï¼šdebug|info|notice|warn|error|crit|alert|emergï¼Œç¿»è¯‘è¿‡æ¥ä¸ºè¯•|ä¿¡æ¯|é€šçŸ¥|è­¦å‘Š|é”™è¯¯|ä¸´ç•Œ|è­¦æŠ¥|ç´§æ€¥ï¼Œè¿™å—å»ºè®®å¤§å®¶è®¾ç½®çš„æ—¶å€™ä¸è¦è®¾ç½®æˆinfoä»¥ä¸‹çš„ç­‰çº§ï¼Œå› ä¸ºä¼šå¸¦æ¥å¤§é‡çš„ç£ç›˜I/Oæ¶ˆè€—ï¼Œå½±å“Nginxçš„æ€§èƒ½ã€‚")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("include")]),t._v(":ç”¨æ¥å¼•å…¥å…¶ä»–é…ç½®æ–‡ä»¶ï¼Œä½¿Nginxçš„é…ç½®æ›´åŠ çµæ´»[[[]]]")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("include file;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("æ— ")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("any")])])])]),t._v(" "),a("h2",{attrs:{id:"_2-eventså—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-eventså—"}},[t._v("#")]),t._v(" 2. eventså—")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("accept_mutex")]),t._v(":ç”¨æ¥è®¾ç½®Nginxç½‘ç»œè¿æ¥åºåˆ—åŒ–")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("accept_mutex on|off;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("accept_mutex on;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("events")])])])]),t._v(" "),a("p",[t._v('è¿™ä¸ªé…ç½®ä¸»è¦å¯ä»¥ç”¨æ¥è§£å†³å¸¸è¯´çš„"'),a("code",[t._v("æƒŠç¾¤")]),t._v('"é—®é¢˜ã€‚å¤§è‡´æ„æ€æ˜¯åœ¨æŸä¸€ä¸ªæ—¶åˆ»ï¼Œå®¢æˆ·ç«¯å‘æ¥ä¸€ä¸ªè¯·æ±‚è¿æ¥ï¼ŒNginxåå°æ˜¯ä»¥å¤šè¿›ç¨‹çš„å·¥ä½œæ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å¤šä¸ªworkerè¿›ç¨‹ä¼šè¢«åŒæ—¶å”¤é†’ï¼Œä½†æ˜¯æœ€ç»ˆåªä¼šæœ‰ä¸€ä¸ªè¿›ç¨‹å¯ä»¥è·å–åˆ°è¿æ¥ï¼Œå¦‚æœæ¯æ¬¡å”¤é†’çš„è¿›ç¨‹æ•°ç›®å¤ªå¤šï¼Œå°±ä¼šå½±å“Nginxçš„æ•´ä½“æ€§èƒ½ã€‚å¦‚æœå°†ä¸Šè¿°å€¼è®¾ç½®ä¸ºon(å¼€å¯çŠ¶æ€)ï¼Œå°†ä¼šå¯¹å¤šä¸ªNginxè¿›ç¨‹æ¥æ”¶è¿æ¥è¿›è¡Œåºåˆ—å·ï¼Œä¸€ä¸ªä¸ªæ¥å”¤é†’æ¥æ”¶ï¼Œå°±é˜²æ­¢äº†å¤šä¸ªè¿›ç¨‹å¯¹è¿æ¥çš„äº‰æŠ¢ã€‚')]),t._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152113904.png",alt:"1581566971955"}})]),t._v(" "),a("ul",[a("li",[a("code",[t._v("multi_accept")]),t._v(":ç”¨æ¥è®¾ç½®æ˜¯å¦å…è®¸åŒæ—¶æ¥æ”¶å¤šä¸ªç½‘ç»œè¿æ¥")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("multi_accept on|off;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("multi_accept off;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("events")])])])]),t._v(" "),a("p",[t._v("å¦‚æœmulti_acceptè¢«ç¦æ­¢äº†ï¼Œnginxä¸€ä¸ªå·¥ä½œè¿›ç¨‹åªèƒ½åŒæ—¶æ¥å—ä¸€ä¸ªæ–°çš„è¿æ¥ã€‚å¦åˆ™ï¼Œä¸€ä¸ªå·¥ä½œè¿›ç¨‹å¯ä»¥åŒæ—¶æ¥å—æ‰€æœ‰çš„æ–°è¿æ¥")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("worker_connections")]),t._v("ï¼šç”¨æ¥é…ç½®å•ä¸ªworkerè¿›ç¨‹æœ€å¤§çš„è¿æ¥æ•°")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("worker_connections number;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("worker_commections 512;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("events")])])])]),t._v(" "),a("p",[t._v("è¿™é‡Œçš„è¿æ¥æ•°ä¸ä»…ä»…åŒ…æ‹¬å’Œå‰ç«¯ç”¨æˆ·å»ºç«‹çš„è¿æ¥æ•°ï¼Œè€Œæ˜¯åŒ…æ‹¬æ‰€æœ‰å¯èƒ½çš„è¿æ¥æ•°ã€‚å¦å¤–ï¼Œnumberå€¼ä¸èƒ½å¤§äºæ“ä½œç³»ç»Ÿæ”¯æŒæ‰“å¼€çš„æœ€å¤§æ–‡ä»¶å¥æŸ„æ•°é‡ã€‚")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("use")]),t._v(":ç”¨æ¥è®¾ç½®NginxæœåŠ¡å™¨é€‰æ‹©å“ªç§äº‹ä»¶é©±åŠ¨æ¥å¤„ç†ç½‘ç»œæ¶ˆæ¯ã€‚")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("use  method;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("æ ¹æ®æ“ä½œç³»ç»Ÿå®š")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("events")])])])]),t._v(" "),a("p",[t._v("æ³¨æ„ï¼šæ­¤å¤„æ‰€é€‰æ‹©äº‹ä»¶å¤„ç†æ¨¡å‹æ˜¯Nginxä¼˜åŒ–éƒ¨åˆ†çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œmethodçš„å¯é€‰å€¼æœ‰select/poll/epoll/kqueueç­‰ï¼Œä¹‹å‰åœ¨å‡†å¤‡centosç¯å¢ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¼ºè°ƒè¿‡è¦ä½¿ç”¨linuxå†…æ ¸åœ¨2.6ä»¥ä¸Šï¼Œå°±æ˜¯ä¸ºäº†èƒ½ä½¿ç”¨epollå‡½æ•°æ¥ä¼˜åŒ–Nginxã€‚")]),t._v(" "),a("p",[t._v("å¦å¤–è¿™äº›å€¼çš„é€‰æ‹©ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨")]),t._v(" "),a("p",[a("code",[t._v("--with-select_module")]),t._v("ã€"),a("code",[t._v("--without-select_module")]),t._v("ã€")]),t._v(" "),a("p",[a("code",[t._v("--with-poll_module")]),t._v("ã€"),a("code",[t._v("--without-poll_module")]),t._v("æ¥è®¾ç½®æ˜¯å¦éœ€è¦å°†å¯¹åº”çš„äº‹ä»¶é©±åŠ¨æ¨¡å—ç¼–è¯‘åˆ°Nginxçš„å†…æ ¸ã€‚")]),t._v(" "),a("h3",{attrs:{id:"eventsæŒ‡ä»¤é…ç½®å®ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eventsæŒ‡ä»¤é…ç½®å®ä¾‹"}},[t._v("#")]),t._v(" eventsæŒ‡ä»¤é…ç½®å®ä¾‹")]),t._v(" "),a("p",[t._v("æ‰“å¼€Nginxçš„é…ç½®æ–‡ä»¶ nginx.conf,æ·»åŠ å¦‚ä¸‹é…ç½®")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[t._v("events{\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\taccept_mutex")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("on;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tmulti_accept")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("on;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tworker_commections")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("1024;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tuse")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("epoll;")]),t._v("\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("å¯åŠ¨æµ‹è¯•")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("./nginx")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("-t")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("./nginx")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("-s reload")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"_3-httpå—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-httpå—"}},[t._v("#")]),t._v(" 3. httpå—")]),t._v(" "),a("h3",{attrs:{id:"å®šä¹‰mime-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®šä¹‰mime-type"}},[t._v("#")]),t._v(" å®šä¹‰MIME-Type")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬éƒ½çŸ¥é“æµè§ˆå™¨ä¸­å¯ä»¥æ˜¾ç¤ºçš„å†…å®¹æœ‰HTMLã€XMLã€GIFç­‰ç§ç±»ç¹å¤šçš„æ–‡ä»¶ã€åª’ä½“ç­‰èµ„æºï¼Œæµè§ˆå™¨ä¸ºäº†åŒºåˆ†è¿™äº›èµ„æºï¼Œå°±éœ€è¦ä½¿ç”¨MIME Typeã€‚æ‰€ä»¥è¯´MIME Typeæ˜¯ç½‘ç»œèµ„æºçš„åª’ä½“ç±»å‹ã€‚Nginxä½œä¸ºwebæœåŠ¡å™¨ï¼Œä¹Ÿéœ€è¦èƒ½å¤Ÿè¯†åˆ«å‰ç«¯è¯·æ±‚çš„èµ„æºç±»å‹ã€‚")]),t._v(" "),a("p",[t._v("åœ¨Nginxçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œé»˜è®¤æœ‰ä¸¤è¡Œé…ç½®")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("include")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("mime.types;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("default_type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("application/octet-stream;")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ul",[a("li",[a("code",[t._v("default_type")]),t._v(":ç”¨æ¥é…ç½®Nginxå“åº”å‰ç«¯è¯·æ±‚é»˜è®¤çš„MIMEç±»å‹ã€‚")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("default_type mime-type;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("default_type text/plainï¼›")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("httpã€serverã€location")])])])]),t._v(" "),a("p",[t._v("åœ¨default_typeä¹‹å‰è¿˜æœ‰ä¸€å¥"),a("code",[t._v("include mime.types")]),t._v(",includeä¹‹å‰æˆ‘ä»¬å·²ç»ä»‹ç»è¿‡ï¼Œç›¸å½“äºæŠŠmime.typesæ–‡ä»¶ä¸­MIMTç±»å‹ä¸ç›¸å…³ç±»å‹æ–‡ä»¶çš„æ–‡ä»¶åç¼€åçš„å¯¹åº”å…³ç³»åŠ å…¥åˆ°å½“å‰çš„é…ç½®æ–‡ä»¶ä¸­ã€‚")]),t._v(" "),a("p",[t._v("ä¸¾ä¾‹æ¥è¯´æ˜ï¼š")]),t._v(" "),a("p",[t._v("æœ‰äº›æ—¶å€™è¯·æ±‚æŸäº›æ¥å£çš„æ—¶å€™éœ€è¦è¿”å›æŒ‡å®šçš„æ–‡æœ¬å­—ç¬¦ä¸²æˆ–è€…jsonå­—ç¬¦ä¸²ï¼Œå¦‚æœé€»è¾‘éå¸¸ç®€å•æˆ–è€…å¹²è„†æ˜¯å›ºå®šçš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨nginxå¿«é€Ÿå®ç°ï¼Œè¿™æ ·å°±ä¸ç”¨ç¼–å†™ç¨‹åºå“åº”è¯·æ±‚äº†ï¼Œå¯ä»¥å‡å°‘æœåŠ¡å™¨èµ„æºå ç”¨å¹¶ä¸”å“åº”æ€§èƒ½éå¸¸å¿«ã€‚")]),t._v(" "),a("p",[t._v("å¦‚ä½•å®ç°:")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/get_text {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\t#è¿™é‡Œä¹Ÿå¯ä»¥è®¾ç½®æˆtext/plain")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    default_type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("text/html;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v('200 "This is nginx\'s text";')]),t._v("\n}\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/get_json{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    default_type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("application/json;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("    return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v('200 \'{"name":"TOM","age":18}\';')]),t._v("\n}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("blockquote",[a("p",[t._v("application/octet-streamã€text/plainã€text/htmlã€application/json")])]),t._v(" "),a("h3",{attrs:{id:"è‡ªå®šä¹‰æœåŠ¡æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªå®šä¹‰æœåŠ¡æ—¥å¿—"}},[t._v("#")]),t._v(" è‡ªå®šä¹‰æœåŠ¡æ—¥å¿—")]),t._v(" "),a("p",[t._v("Nginxä¸­æ—¥å¿—çš„ç±»å‹åˆ†"),a("code",[t._v("access.log")]),t._v("ã€"),a("code",[t._v("error.log")]),t._v("ã€‚")]),t._v(" "),a("p",[a("code",[t._v("access.log")]),t._v(":ç”¨æ¥è®°å½•ç”¨æˆ·æ‰€æœ‰çš„è®¿é—®è¯·æ±‚ã€‚")]),t._v(" "),a("p",[a("code",[t._v("error.log")]),t._v(":è®°å½•nginxæœ¬èº«è¿è¡Œæ—¶çš„é”™è¯¯ä¿¡æ¯ï¼Œä¸ä¼šè®°å½•ç”¨æˆ·çš„è®¿é—®è¯·æ±‚ã€‚")]),t._v(" "),a("p",[t._v("NginxæœåŠ¡å™¨æ”¯æŒå¯¹æœåŠ¡æ—¥å¿—çš„æ ¼å¼ã€å¤§å°ã€è¾“å‡ºç­‰è¿›è¡Œè®¾ç½®ï¼Œéœ€è¦ä½¿ç”¨åˆ°ä¸¤ä¸ªæŒ‡ä»¤ï¼Œåˆ†åˆ«æ˜¯access_logå’Œlog_formatæŒ‡ä»¤ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("access_log:ç”¨æ¥è®¾ç½®ç”¨æˆ·è®¿é—®æ—¥å¿—çš„ç›¸å…³å±æ€§ã€‚")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("access_log path[format[buffer=size]]")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("access_log logs/access.log combined;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[a("code",[t._v("http")]),t._v(", "),a("code",[t._v("server")]),t._v(", "),a("code",[t._v("location")])])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181852254.png",alt:"image-20230318185233219"}})]),t._v(" "),a("ul",[a("li",[t._v("log_format:ç”¨æ¥æŒ‡å®šæ—¥å¿—çš„è¾“å‡ºæ ¼å¼ã€‚")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("log_format name [escape=default|json|none] string....;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v('log_format combined "...";')])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("http")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181851282.png",alt:"image-20230318185129240"}})]),t._v(" "),a("h3",{attrs:{id:"å…¶ä»–é…ç½®æŒ‡ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–é…ç½®æŒ‡ä»¤"}},[t._v("#")]),t._v(" å…¶ä»–é…ç½®æŒ‡ä»¤")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("sendfile")]),t._v(":ç”¨æ¥è®¾ç½®NginxæœåŠ¡å™¨æ˜¯å¦ä½¿ç”¨sendfile()ä¼ è¾“æ–‡ä»¶ï¼Œè¯¥å±æ€§"),a("code",[t._v("å¯ä»¥å¤§å¤§æé«˜Nginxå¤„ç†é™æ€èµ„æºçš„æ€§èƒ½")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("sendfile on|offï¼›")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("sendfile off;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("httpã€serverã€location")])])])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("keepalive_timeout")]),t._v(":ç”¨æ¥è®¾ç½®é•¿è¿æ¥çš„è¶…æ—¶æ—¶é—´ã€‚")])]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸ºä»€ä¹ˆè¦ä½¿ç”¨keepaliveï¼Ÿ")])]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[t._v("æˆ‘ä»¬éƒ½çŸ¥é“HTTPæ˜¯ä¸€ç§æ— çŠ¶æ€åè®®ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªTCPè¯·æ±‚ï¼ŒæœåŠ¡ç«¯å“åº”å®Œæ¯•åæ–­å¼€è¿æ¥ã€‚\nå¦‚ä½•å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å¤šä¸ªè¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦é‡æ–°åˆ›å»ºä¸€æ¬¡è¿æ¥ï¼Œæ•ˆç‡ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå¤šï¼Œä½¿ç”¨keepaliveæ¨¡å¼ï¼Œå¯ä»¥å‘Šè¯‰æœåŠ¡å™¨ç«¯åœ¨å¤„ç†å®Œä¸€ä¸ªè¯·æ±‚åä¿æŒè¿™ä¸ªTCPè¿æ¥çš„æ‰“å¼€çŠ¶æ€ï¼Œè‹¥æ¥æ”¶åˆ°æ¥è‡ªè¿™ä¸ªå®¢æˆ·ç«¯çš„å…¶ä»–è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å°±ä¼šåˆ©ç”¨è¿™ä¸ªæœªè¢«å…³é—­çš„è¿æ¥ï¼Œè€Œä¸éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°è¿æ¥ï¼Œæå‡æ•ˆç‡ï¼Œä½†æ˜¯è¿™ä¸ªè¿æ¥ä¹Ÿä¸èƒ½ä¸€ç›´ä¿æŒï¼Œè¿™æ ·çš„è¯ï¼Œè¿æ¥å¦‚æœè¿‡å¤šï¼Œä¹Ÿä¼šæ˜¯æœåŠ¡ç«¯çš„æ€§èƒ½ä¸‹é™ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æˆ‘ä»¬è¿›è¡Œè®¾ç½®å…¶çš„è¶…æ—¶æ—¶é—´ã€‚\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("keepalive_timeout time;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("keepalive_timeout 75s;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("httpã€serverã€location")])])])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("keepalive_requests")]),t._v(":ç”¨æ¥è®¾ç½®ä¸€ä¸ªkeep-aliveè¿æ¥ä½¿ç”¨çš„æ¬¡æ•°ã€‚")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("è¯­æ³•")]),t._v(" "),a("th",[t._v("keepalive_requests number;")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("é»˜è®¤å€¼")]),t._v(" "),a("td",[t._v("keepalive_requests 100;")])]),t._v(" "),a("tr",[a("td",[t._v("ä½ç½®")]),t._v(" "),a("td",[t._v("httpã€serverã€location")])])])]),t._v(" "),a("h2",{attrs:{id:"_4-serverå—å’Œlocationå—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-serverå—å’Œlocationå—"}},[t._v("#")]),t._v(" 4. serverå—å’Œlocationå—")]),t._v(" "),a("p",[t._v("serverå—å’Œlocationå—éƒ½æ˜¯æˆ‘ä»¬è¦é‡ç‚¹è®²è§£å’Œå­¦ä¹ çš„å†…å®¹ï¼Œå› ä¸ºæˆ‘ä»¬åé¢ä¼šå¯¹Nginxçš„åŠŸèƒ½è¿›è¡Œè¯¦ç»†è®²è§£ï¼Œæ‰€ä»¥è¿™å—å†…å®¹å°±æ”¾åˆ°é™æ€èµ„æºéƒ¨ç½²çš„åœ°æ–¹ç»™å¤§å®¶è¯¦ç»†è¯´æ˜ã€‚")]),t._v(" "),a("p",[t._v("æœ¬èŠ‚æˆ‘ä»¬ä¸»è¦æ¥è®¤è¯†ä¸‹Nginxé»˜è®¤ç»™çš„nginx.confä¸­çš„ç›¸å…³å†…å®¹ï¼Œä»¥åŠserverå—ä¸locationå—åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„çš„ä¸€äº›å†…å®¹ã€‚")]),t._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("\tserver")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        listen")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("      80;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        server_name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" localhost;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/ {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("            root")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("  html;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("            index")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v(" index.html index.htm;")]),t._v("\n        }\n       \n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        error_page")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("  500 502 503 504 404  /50x.html;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("        location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/50x.html {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("            root")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("  html;")]),t._v("\n        }\n    }\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);