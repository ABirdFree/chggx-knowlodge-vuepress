(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{414:function(a,t,s){"use strict";s.r(t);var e=s(7),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"nginx简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx简介"}},[a._v("#")]),a._v(" Nginx简介")]),a._v(" "),t("h3",{attrs:{id:"背景介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景介绍"}},[a._v("#")]),a._v(" 背景介绍")]),a._v(" "),t("p",[a._v("Nginx（“engine x”）一个具有高性能的【"),t("code",[a._v("HTTP")]),a._v("】和【"),t("code",[a._v("反向代理")]),a._v("】的【"),t("code",[a._v("WEB服务器")]),a._v("】，同时也是一个【"),t("code",[a._v("POP3/SMTP/IMAP代理服务器")]),a._v("】，是由伊戈尔·赛索耶夫(俄罗斯人)使用C语言编写的，Nginx的第一个版本是2004年10月4号发布的0.1.0版本。另外值得一提的是伊戈尔·赛索耶夫将Nginx的源码进行了开源，这也为Nginx的发展提供了良好的保障。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152110631.png",alt:"1573470187616"}})]),a._v(" "),t("h4",{attrs:{id:"名词解释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#名词解释"}},[a._v("#")]),a._v(" 名词解释")]),a._v(" "),t("ul",[t("li",[a._v("WEB服务器：")])]),a._v(" "),t("p",[a._v("WEB服务器也叫网页服务器，英文名叫Web Server，主要功能是为用户提供网上信息浏览服务。")]),a._v(" "),t("ul",[t("li",[a._v("HTTP:")])]),a._v(" "),t("p",[a._v("HTTP是超文本传输协议的缩写，是用于从WEB服务器传输超文本到本地浏览器的传输协议，也是互联网上应用最为广泛的一种网络协议。HTTP是一个客户端和服务器端请求和应答的标准，客户端是终端用户，服务端是网站，通过使用Web浏览器、网络爬虫或者其他工具，客户端发起一个到服务器上指定端口的HTTP请求。")]),a._v(" "),t("ul",[t("li",[a._v("POP3/SMTP/IMAP：")])]),a._v(" "),t("p",[a._v("POP3(Post Offic Protocol 3)邮局协议的第三个版本，")]),a._v(" "),t("p",[a._v("SMTP(Simple Mail Transfer Protocol)简单邮件传输协议，")]),a._v(" "),t("p",[a._v("IMAP(Internet Mail Access Protocol)交互式邮件存取协议，")]),a._v(" "),t("p",[a._v("通过上述名词的解释，我们可以了解到Nginx也可以作为电子邮件代理服务器。")]),a._v(" "),t("ul",[t("li",[a._v("反向代理")])]),a._v(" "),t("p",[a._v("正向代理")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152111337.png",alt:"1573489359728"}})]),a._v(" "),t("p",[a._v("反向代理")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152111309.png",alt:"1573489653799"}})]),a._v(" "),t("h3",{attrs:{id:"常见服务器对比"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见服务器对比"}},[a._v("#")]),a._v(" 常见服务器对比")]),a._v(" "),t("p",[a._v("Netcraft公司于1994年底在英国成立，多年来一直致力于互联网市场以及在线安全方面的咨询服务，其中在国际上最具影响力的当属其针对网站服务器、SSL市场所做的客观严谨的分析研究，公司官网每月公布的调研数据（Web Server Survey）已成为当今人们了解全球网站数量以及服务器市场分额情况的主要参考依据，时常被诸如华尔街杂志，英国BBC，Slashdot等媒体报道或引用。")]),a._v(" "),t("p",[a._v("我们先来看一组数据，我们先打开Nginx的官方网站  "),t("a",{attrs:{href:"http://nginx.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://nginx.org/"),t("OutboundLink")],1),a._v(", 找到Netcraft公司公布的数据，对当前主流服务器产品进行介绍。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152111204.png",alt:"1581394945120"}})]),a._v(" "),t("p",[a._v("上面这张图展示了2019年全球主流Web服务器的市场情况，其中有Apache、Microsoft-IIS、google Servers、Nginx、Tomcat等，而我们在了解新事物的时候，往往习惯通过类比来帮助自己理解事物的概貌。所以下面我们把几种常见的服务器来给大家简单介绍下：")]),a._v(" "),t("h4",{attrs:{id:"iis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iis"}},[a._v("#")]),a._v(" IIS")]),a._v(" "),t("p",[a._v('​\t全称(Internet Information Services)即互联网信息服务，是由微软公司提供的基于windows系统的互联网基本服务。windows作为服务器在稳定性与其他一些性能上都不如类UNIX操作系统，因此在需要高性能Web服务器的场合下，IIS可能就会被"冷落".')]),a._v(" "),t("h4",{attrs:{id:"tomcat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tomcat"}},[a._v("#")]),a._v(" Tomcat 🚗")]),a._v(" "),t("p",[a._v("​\tTomcat是一个运行Servlet和JSP的Web应用软件，Tomcat技术先进、性能稳定而且开放源代码，因此深受Java爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的Web应用服务器。但是Tomcat天生是一个重量级的Web服务器，对静态文件和高并发的处理比较弱。")]),a._v(" "),t("h4",{attrs:{id:"apache"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apache"}},[a._v("#")]),a._v(" Apache")]),a._v(" "),t("p",[a._v("​\tApache的发展时期很长，同时也有过一段辉煌的业绩。从上图可以看出大概在2014年以前都是市场份额第一的服务器。Apache有很多优点，如稳定、开源、跨平台等。但是它出现的时间太久了，在它兴起的年代，互联网的产业规模远远不如今天，所以它被设计成一个重量级的、不支持高并发的Web服务器。在Apache服务器上，如果有数以万计的并发HTTP请求同时访问，就会导致服务器上消耗大量能存，操作系统内核对成百上千的Apache进程做进程间切换也会消耗大量的CUP资源，并导致HTTP请求的平均响应速度降低，这些都决定了Apache不可能成为高性能的Web服务器。这也促使了Lighttpd和Nginx的出现。")]),a._v(" "),t("h4",{attrs:{id:"lighttpd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lighttpd"}},[a._v("#")]),a._v(" Lighttpd")]),a._v(" "),t("p",[a._v("​\tLighttpd是德国的一个开源的Web服务器软件，它和Nginx一样，都是轻量级、高性能的Web服务器，欧美的业界开发者比较钟爱Lighttpd,而国内的公司更多的青睐Nginx，同时网上Nginx的资源要更丰富些。")]),a._v(" "),t("h4",{attrs:{id:"其他的服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他的服务器"}},[a._v("#")]),a._v(" 其他的服务器")]),a._v(" "),t("p",[a._v("Google Servers，Weblogic, Webshpere(IBM)...")]),a._v(" "),t("p",[a._v("经过各个服务器的对比，种种迹象都表明，Nginx将以性能为王。这也是我们为什么选择Nginx的理由。")]),a._v(" "),t("h3",{attrs:{id:"nginx的优点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx的优点"}},[a._v("#")]),a._v(" Nginx的优点")]),a._v(" "),t("h4",{attrs:{id:"速度更快、并发更高"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#速度更快、并发更高"}},[a._v("#")]),a._v(" 速度更快、并发更高")]),a._v(" "),t("p",[a._v("单次请求或者高并发请求的环境下，Nginx都会比其他Web服务器响应的速度更快。一方面在正常情况下，单次请求会得到更快的响应，另一方面，在高峰期(如有数以万计的并发请求)，Nginx比其他Web服务器更快的响应请求。Nginx之所以有这么高的并发处理能力和这么好的性能原因在于"),t("code",[a._v("Nginx采用了多进程和I/O多路复用(epoll)的底层实现")]),a._v("。")]),a._v(" "),t("h4",{attrs:{id:"配置简单-扩展性强"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置简单-扩展性强"}},[a._v("#")]),a._v(" 配置简单，扩展性强")]),a._v(" "),t("p",[a._v("Nginx的设计极具扩展性，它本身就是由很多模块组成，这些模块的使用可以通过配置文件的配置来添加。这些模块有官方提供的也有第三方提供的模块，如果需要完全可以开发服务自己业务特性的定制模块。")]),a._v(" "),t("h4",{attrs:{id:"高可靠性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高可靠性"}},[a._v("#")]),a._v(" 高可靠性")]),a._v(" "),t("p",[a._v('Nginx采用的是多进程模式运行，其中有一个master主进程和N多个worker进程，worker进程的数量我们可以手动设置，每个worker进程之间都是相互独立提供服务，并且master主进程可以在某一个worker进程出错时，快速去"拉起"新的worker进程提供服务。')]),a._v(" "),t("h4",{attrs:{id:"热部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#热部署"}},[a._v("#")]),a._v(" 热部署")]),a._v(" "),t("p",[a._v("现在互联网项目都要求以"),t("code",[a._v("7*24小时进行服务")]),a._v("的提供，针对于这一要求，Nginx也提供了热部署功能，即可以在Nginx不停止的情况下，对Nginx进行文件升级、更新配置和更换日志文件等功能。")]),a._v(" "),t("h4",{attrs:{id:"成本低、bsd许可证"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#成本低、bsd许可证"}},[a._v("#")]),a._v(" 成本低、BSD许可证")]),a._v(" "),t("p",[a._v("BSD是一个开源的许可证，世界上的开源许可证有很多，现在比较流行的有六种分别是GPL、BSD、MIT、Mozilla、Apache、LGPL。这六种的区别是什么，我们可以通过下面一张图来解释下：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303152111082.png",alt:"1585139995444"}})]),a._v(" "),t("p",[a._v("Nginx本身是开源的，我们不仅可以免费的将Nginx应用在商业领域，而且还可以在项目中直接修改Nginx的源码来定制自己的特殊要求。这些点也都是Nginx为什么能吸引无数开发者继续为Nginx来贡献自己的智慧和青春。OpenRestry [Nginx+Lua]   Tengine[淘宝]")]),a._v(" "),t("h3",{attrs:{id:"nginx的功能特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx的功能特性"}},[a._v("#")]),a._v(" Nginx的功能特性")]),a._v(" "),t("p",[a._v('Nginx提供的基本功能服务从大体上归纳为"基本HTTP服务"、“高级HTTP服务”和"邮件服务"等三大类。')]),a._v(" "),t("h4",{attrs:{id:"基本http服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本http服务"}},[a._v("#")]),a._v(" 基本HTTP服务 🚗")]),a._v(" "),t("p",[a._v("Nginx可以提供基本HTTP服务，"),t("code",[a._v("可以作为HTTP代理服务器和反向代理服务器")]),a._v("，支持通过缓存加速访问，可以完成简单的负载均衡和容错，支持包过滤功能，支持SSL等。")]),a._v(" "),t("ul",[t("li",[a._v("处理"),t("code",[a._v("静态文件")]),a._v("、"),t("code",[a._v("处理索引文件")]),a._v("以及"),t("code",[a._v("支持自动索引")]),a._v("；")]),a._v(" "),t("li",[a._v("提供反向代理服务器，并可以使用缓存加上反向代理，同时完成负载均衡和容错；")]),a._v(" "),t("li",[a._v("提供对FastCGI、memcached等服务的缓存机制，，同时完成负载均衡和容错；")]),a._v(" "),t("li",[a._v("使用Nginx的模块化特性提供过滤器功能。Nginx基本过滤器包括gzip压缩、ranges支持、chunked响应、XSLT、SSI以及图像缩放等。其中针对包含多个SSI的页面，经由FastCGI或反向代理，SSI过滤器可以并行处理。")]),a._v(" "),t("li",[a._v("支持HTTP下的安全套接层安全协议SSL.")]),a._v(" "),t("li",[a._v("支持基于加权和依赖的优先权的HTTP/2")])]),a._v(" "),t("h4",{attrs:{id:"高级http服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高级http服务"}},[a._v("#")]),a._v(" 高级HTTP服务 🚗")]),a._v(" "),t("ul",[t("li",[a._v("支持基于名字和IP的虚拟主机设置")]),a._v(" "),t("li",[a._v("支持HTTP/1.0中的KEEP-Alive模式和管线(PipeLined)模型连接")]),a._v(" "),t("li",[a._v("自定义访问日志格式、带缓存的日志写操作以及快速日志轮转。")]),a._v(" "),t("li",[a._v("提供3xx~5xx错误代码重定向功能")]),a._v(" "),t("li",[a._v("支持重写（Rewrite)模块扩展")]),a._v(" "),t("li",[a._v("支持重新加载配置以及在线升级时无需中断正在处理的请求")]),a._v(" "),t("li",[a._v("支持网络监控")]),a._v(" "),t("li",[a._v("支持FLV和MP4流媒体传输")])]),a._v(" "),t("h4",{attrs:{id:"邮件服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#邮件服务"}},[a._v("#")]),a._v(" 邮件服务")]),a._v(" "),t("p",[a._v("Nginx提供邮件代理服务也是其基本开发需求之一，主要包含以下特性：")]),a._v(" "),t("ul",[t("li",[a._v("支持IMPA/POP3代理服务功能")]),a._v(" "),t("li",[a._v("支持内部SMTP代理服务功能")])]),a._v(" "),t("h3",{attrs:{id:"nginx常用的功能模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx常用的功能模块"}},[a._v("#")]),a._v(" Nginx常用的功能模块")]),a._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("1.")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("静态资源部署")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("2.")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("Rewrite地址重写")]),a._v("\n\t正则表达式\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("3.")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("反向代理")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("4.")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("负载均衡")]),a._v("\n\t轮询、加权轮询、ip_hash、url_hash、fair\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("5.")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("Web缓存")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("6.")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("环境部署")]),a._v("\n\t高可用的环境\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("7.")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("用户认证模块...")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br")])]),t("p",[a._v("Nginx的核心组成")]),a._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[a._v("nginx二进制可执行文件\nnginx.conf配置文件\nerror.log错误的日志记录\naccess.log访问日志记录\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);