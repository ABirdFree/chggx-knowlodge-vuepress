(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{389:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://gitee.com/afreebird/chggx-java-code/tree/master/JUC/juc_base",target:"_blank",rel:"noopener noreferrer"}},[s._v("æµ‹è¯•ä»£ç åœ°å€"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"_1-jucæ¦‚è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-jucæ¦‚è¿°"}},[s._v("#")]),s._v(" 1. JUCæ¦‚è¿°")]),s._v(" "),t("h3",{attrs:{id:"_1-1-jucç®€ä»‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-jucç®€ä»‹"}},[s._v("#")]),s._v(" 1.1 JUCç®€ä»‹")]),s._v(" "),t("p",[s._v("JUCå°±æ˜¯"),t("code",[s._v("java.util.concurrent")]),s._v("å·¥å…·åŒ…çš„ç®€ç§°ã€‚è¿™æ˜¯ä¸€ä¸ªå¤„ç†çº¿ç¨‹çš„å·¥å…·åŒ…ï¼Œ"),t("code",[s._v("JDK 1.5")]),s._v("å¼€å§‹å‡ºç°çš„ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303192245214.png?x-oss-process=style/shuiyin_1",alt:""}})]),s._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("JAVA API"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"_1-2-çº¿ç¨‹å’Œè¿›ç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-çº¿ç¨‹å’Œè¿›ç¨‹"}},[s._v("#")]),s._v(" 1.2 çº¿ç¨‹å’Œè¿›ç¨‹")]),s._v(" "),t("p",[t("strong",[s._v("è¿›ç¨‹ï¼ˆProcessï¼‰")]),s._v(" æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚ åœ¨å½“ä»£é¢å‘çº¿ç¨‹è®¾è®¡çš„è®¡ç®—æœºç»“æ„ä¸­ï¼Œè¿›ç¨‹æ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚æ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚ç¨‹åºæ˜¯æŒ‡ä»¤ã€æ•°æ®åŠå…¶ç»„ç»‡å½¢å¼çš„æè¿°ï¼Œè¿›ç¨‹æ˜¯ç¨‹åºçš„å®ä½“ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("çº¿ç¨‹ï¼ˆthreadï¼‰")]),s._v(" æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("æ€»ç»“æ¥è¯´:")])]),s._v(" "),t("p",[s._v("è¿›ç¨‹ï¼šæŒ‡åœ¨ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼›ç¨‹åºä¸€æ—¦è¿è¡Œå°±æ˜¯è¿›ç¨‹ï¼›è¿›ç¨‹â€”â€”èµ„æºåˆ†é…çš„æœ€å°å•ä½ã€‚")]),s._v(" "),t("p",[s._v("â€‹\t\t\tä¾‹å¦‚ï¼šæ‰“å¼€æ€æ¯’è½¯ä»¶å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚")]),s._v(" "),t("p",[s._v("çº¿ç¨‹ï¼šç³»ç»Ÿåˆ†é…å¤„ç†å™¨æ—¶é—´èµ„æºçš„åŸºæœ¬å•å…ƒï¼Œæˆ–è€…è¯´è¿›ç¨‹ä¹‹å†…ç‹¬ç«‹æ‰§è¡Œçš„ä¸€ä¸ªå•å…ƒæ‰§è¡Œæµã€‚çº¿ç¨‹â€”â€”ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½ã€‚")]),s._v(" "),t("p",[s._v("â€‹\t\t\tä¾‹å¦‚ï¼šæ€æ¯’è½¯ä»¶ä¸­çš„æ²¡æƒ³æ“ä½œå³ä¸ºä¸€ä¸ªçº¿ç¨‹ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"_1-3-çº¿ç¨‹çš„çŠ¶æ€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-çº¿ç¨‹çš„çŠ¶æ€"}},[s._v("#")]),s._v(" 1.3 çº¿ç¨‹çš„çŠ¶æ€")]),s._v(" "),t("h4",{attrs:{id:"çº¿ç¨‹çŠ¶æ€æšä¸¾ç±»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹çŠ¶æ€æšä¸¾ç±»"}},[s._v("#")]),s._v(" çº¿ç¨‹çŠ¶æ€æšä¸¾ç±»")]),s._v(" "),t("p",[t("code",[s._v("Thread.State")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("enum")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("State")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NEW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ–°å»º")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RUNNABLE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‡†å¤‡å°±ç»ª")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BLOCKED")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é˜»å¡")]),s._v("\n \n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WAITING")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸è§ä¸æ•£")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TIMED_WAITING")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿‡æ—¶ä¸å€™")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TERMINATED")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç»ˆç»“")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h4",{attrs:{id:"wait-sleep-çš„åŒºåˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wait-sleep-çš„åŒºåˆ«"}},[s._v("#")]),s._v(" wait/sleep çš„åŒºåˆ«")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("sleep æ˜¯ Thread çš„é™æ€æ–¹æ³•ï¼Œwait æ˜¯ Object çš„æ–¹æ³•ï¼Œä»»ä½•å¯¹è±¡å®ä¾‹éƒ½èƒ½è°ƒç”¨ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("sleep ä¸ä¼šé‡Šæ”¾é”ï¼Œå®ƒä¹Ÿä¸éœ€è¦å ç”¨é”ã€‚wait ä¼šé‡Šæ”¾é”ï¼Œä½†è°ƒç”¨å®ƒçš„å‰ææ˜¯å½“å‰çº¿ç¨‹å æœ‰é”(å³ä»£ç è¦åœ¨ synchronized ä¸­)ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("å®ƒä»¬éƒ½å¯ä»¥è¢« interrupted æ–¹æ³•ä¸­æ–­ã€‚")])])]),s._v(" "),t("h3",{attrs:{id:"_1-4-ç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-ç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹"}},[s._v("#")]),s._v(" 1.4 ç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹")]),s._v(" "),t("p",[t("strong",[s._v("ç”¨æˆ·çº¿ç¨‹:")]),s._v(" å¹³æ—¶ç”¨åˆ°çš„æ™®é€šçº¿ç¨‹,è‡ªå®šä¹‰çº¿ç¨‹")]),s._v(" "),t("p",[t("strong",[s._v("å®ˆæŠ¤çº¿ç¨‹:")]),s._v(" è¿è¡Œåœ¨åå°,æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿ç¨‹,æ¯”å¦‚åƒåœ¾å›æ”¶")]),s._v(" "),t("p",[t("strong",[s._v("å½“ä¸»çº¿ç¨‹ç»“æŸå,ç”¨æˆ·çº¿ç¨‹è¿˜åœ¨è¿è¡Œ,JVM")]),s._v(" "),t("strong",[s._v("å­˜æ´»")])]),s._v(" "),t("p",[t("strong",[s._v("å¦‚æœæ²¡æœ‰ç”¨æˆ·çº¿ç¨‹,éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹,JVM")]),s._v(" "),t("strong",[s._v("ç»“æŸ")])]),s._v(" "),t("h2",{attrs:{id:"_2-lock-æ¥å£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-lock-æ¥å£"}},[s._v("#")]),s._v(" 2. Lock æ¥å£")]),s._v(" "),t("h3",{attrs:{id:"_2-1-synchronized"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-synchronized"}},[s._v("#")]),s._v(" 2.1 Synchronized")]),s._v(" "),t("p",[t("code",[s._v("synchronized")]),s._v("æ˜¯ Java ä¸­çš„å…³é”®å­—ï¼Œæ˜¯ä¸€ç§åŒæ­¥é”ã€‚å®ƒä¿®é¥°çš„å¯¹è±¡æœ‰ä»¥ä¸‹å‡ ç§ï¼š")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("ä¿®é¥°ä¸€ä¸ªä»£ç å—ï¼Œè¢«ä¿®é¥°çš„ä»£ç å—ç§°ä¸º"),t("code",[s._v("åŒæ­¥è¯­å¥å—")]),s._v("ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯å¤§æ‹¬å·{}æ‹¬èµ·æ¥çš„ä»£ç ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è°ƒç”¨è¿™ä¸ªä»£ç å—çš„å¯¹è±¡ï¼›")])]),s._v(" "),t("li",[t("p",[s._v("ä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œè¢«ä¿®é¥°çš„æ–¹æ³•ç§°ä¸º"),t("code",[s._v("åŒæ­¥æ–¹æ³•")]),s._v("ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯æ•´ä¸ªæ–¹æ³•ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼›")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹")]),s._v(" "),t("p",[s._v("è™½ç„¶å¯ä»¥ä½¿ç”¨ synchronized æ¥å®šä¹‰æ–¹æ³•ï¼Œä½† synchronized å¹¶ä¸å±äºæ–¹æ³•å®šä¹‰çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ï¼Œsynchronized å…³é”®å­—ä¸èƒ½è¢«ç»§æ‰¿ã€‚å¦‚æœåœ¨çˆ¶ç±»ä¸­çš„æŸä¸ªæ–¹æ³•ä½¿ç”¨äº† synchronized å…³é”®å­—ï¼Œè€Œåœ¨å­ç±»ä¸­è¦†ç›–äº†è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨å­ç±»ä¸­çš„è¿™ä¸ªæ–¹æ³•é»˜è®¤æƒ…å†µä¸‹å¹¶ä¸æ˜¯åŒæ­¥çš„ï¼Œè€Œå¿…é¡»æ˜¾å¼åœ°åœ¨å­ç±»çš„è¿™ä¸ªæ–¹æ³•ä¸­åŠ ä¸Šsynchronized å…³é”®å­—æ‰å¯ä»¥ã€‚å½“ç„¶ï¼Œè¿˜å¯ä»¥åœ¨å­ç±»æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»ä¸­ç›¸åº”çš„æ–¹æ³•ï¼Œè¿™æ ·è™½ç„¶å­ç±»ä¸­çš„æ–¹æ³•ä¸æ˜¯åŒæ­¥çš„ï¼Œä½†å­ç±»è°ƒç”¨äº†çˆ¶ç±»çš„åŒæ­¥æ–¹æ³•ï¼Œå› æ­¤ï¼Œå­ç±»çš„æ–¹æ³•ä¹Ÿå°±ç›¸å½“äºåŒæ­¥äº†ã€‚")])])]),s._v(" "),t("li",[t("p",[s._v("ä¿®æ”¹ä¸€ä¸ªé™æ€çš„æ–¹æ³•ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯æ•´ä¸ªé™æ€æ–¹æ³•ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ï¼›")])]),s._v(" "),t("li",[t("p",[s._v("ä¿®æ”¹ä¸€ä¸ªç±»ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯ synchronized åé¢æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†ï¼Œä½œç”¨ä¸»çš„å¯¹è±¡æ˜¯è¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ã€‚")])])]),s._v(" "),t("p",[t("strong",[s._v("ç¤ºä¾‹")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Ticket")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¥¨æ•°")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" number "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ“ä½œæ–¹æ³•ï¼šå–ç¥¨")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sale")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ¤æ–­ï¼šæ˜¯å¦æœ‰ç¥¨")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("number "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" : å–å‡ºï¼š"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("number"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" å‰©ä¸‹ï¼š"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("number"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("å¦‚æœä¸€ä¸ªä»£ç å—è¢« synchronized ä¿®é¥°äº†ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è·å–äº†å¯¹åº”çš„é”ï¼Œå¹¶æ‰§è¡Œè¯¥ä»£ç å—æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¾¿åªèƒ½ä¸€ç›´ç­‰å¾…ï¼Œç­‰å¾…è·å–é”çš„çº¿ç¨‹é‡Šæ”¾é”ï¼Œè€Œè¿™é‡Œè·å–é”çš„çº¿ç¨‹é‡Šæ”¾é”åªä¼šæœ‰ä¸¤ç§æƒ…å†µï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("è·å–é”çš„çº¿ç¨‹æ‰§è¡Œå®Œäº†è¯¥ä»£ç å—ï¼Œç„¶åçº¿ç¨‹é‡Šæ”¾å¯¹é”çš„å æœ‰ï¼›")])]),s._v(" "),t("li",[t("p",[s._v("çº¿ç¨‹æ‰§è¡Œå‘ç”Ÿå¼‚å¸¸ï¼Œæ­¤æ—¶ JVM ä¼šè®©çº¿ç¨‹è‡ªåŠ¨é‡Šæ”¾é”ã€‚")])])]),s._v(" "),t("p",[s._v("é‚£ä¹ˆå¦‚æœè¿™ä¸ªè·å–é”çš„çº¿ç¨‹ç”±äºè¦ç­‰å¾… IO æˆ–è€…å…¶ä»–åŸå› ï¼ˆæ¯”å¦‚è°ƒç”¨ sleepæ–¹æ³•ï¼‰è¢«é˜»å¡äº†ï¼Œä½†æ˜¯åˆæ²¡æœ‰é‡Šæ”¾é”ï¼Œå…¶ä»–çº¿ç¨‹ä¾¿åªèƒ½å¹²å·´å·´åœ°ç­‰å¾…ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œè¿™å¤šä¹ˆå½±å“ç¨‹åºæ‰§è¡Œæ•ˆç‡ã€‚")]),s._v(" "),t("p",[s._v("å› æ­¤å°±éœ€è¦æœ‰ä¸€ç§æœºåˆ¶å¯ä»¥ä¸è®©ç­‰å¾…çš„çº¿ç¨‹ä¸€ç›´æ— æœŸé™åœ°ç­‰å¾…ä¸‹å»ï¼ˆæ¯”å¦‚åªç­‰å¾…ä¸€å®šçš„æ—¶é—´æˆ–è€…èƒ½å¤Ÿå“åº”ä¸­æ–­ï¼‰ï¼Œé€šè¿‡ Lock å°±å¯ä»¥åŠåˆ°ã€‚")]),s._v(" "),t("h3",{attrs:{id:"_2-2-ä»€ä¹ˆæ˜¯-lock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ä»€ä¹ˆæ˜¯-lock"}},[s._v("#")]),s._v(" 2.2 "),t("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä»€ä¹ˆæ˜¯ Lock"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("code",[s._v("Lock")]),s._v("é”å®ç°æä¾›äº†æ¯”ä½¿ç”¨åŒæ­¥æ–¹æ³•å’Œè¯­å¥å¯ä»¥è·å¾—çš„æ›´å¹¿æ³›çš„é”æ“ä½œã€‚å®ƒä»¬å…è®¸æ›´çµæ´»çš„ç»“æ„ï¼Œå¯èƒ½å…·æœ‰éå¸¸ä¸åŒçš„å±æ€§ï¼Œå¹¶ä¸”å¯èƒ½æ”¯æŒå¤šä¸ªå…³è”çš„æ¡ä»¶å¯¹è±¡ã€‚"),t("code",[s._v("Lock")]),s._v("æä¾›äº†æ¯”"),t("code",[s._v("synchronized")]),s._v("æ›´å¤šçš„åŠŸèƒ½ã€‚")]),s._v(" "),t("h4",{attrs:{id:"lockæ¥å£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lockæ¥å£"}},[s._v("#")]),s._v(" Lockæ¥å£  ğŸ±")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n   \t * ä¸Šé”\n   \t */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lockInterruptibly")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tryLock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tryLock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TimeUnit")]),s._v(" unit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n   \t * é‡Šæ”¾é”\n   \t */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unlock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Condition")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newCondition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h4",{attrs:{id:"condition"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#condition"}},[s._v("#")]),s._v(" Condition")]),s._v(" "),t("p",[s._v("å…³é”®å­— synchronized ä¸ wait()/notify()è¿™ä¸¤ä¸ªæ–¹æ³•ä¸€èµ·ä½¿ç”¨å¯ä»¥å®ç°ç­‰å¾…/é€šçŸ¥æ¨¡å¼ï¼Œ Lock é”çš„ newContition()æ–¹æ³•è¿”å› Condition å¯¹è±¡ï¼ŒCondition ç±»ä¹Ÿå¯ä»¥å®ç°ç­‰å¾…/é€šçŸ¥æ¨¡å¼ã€‚")]),s._v(" "),t("p",[s._v("ç”¨ notify()é€šçŸ¥æ—¶ï¼ŒJVM ä¼šéšæœºå”¤é†’æŸä¸ªç­‰å¾…çš„çº¿ç¨‹ï¼Œ ä½¿ç”¨ Condition ç±»å¯ä»¥è¿›è¡Œé€‰æ‹©æ€§é€šçŸ¥ï¼Œ Condition æ¯”è¾ƒå¸¸ç”¨çš„ä¸¤ä¸ªæ–¹æ³•ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("await()ä¼šä½¿å½“å‰çº¿ç¨‹ç­‰å¾…,åŒæ—¶ä¼šé‡Šæ”¾é”,å½“å…¶ä»–çº¿ç¨‹è°ƒç”¨ signal()æ—¶,çº¿ç¨‹ä¼šé‡æ–°è·å¾—é”å¹¶ç»§ç»­æ‰§è¡Œã€‚")])]),s._v(" "),t("li",[t("p",[s._v("signal()ç”¨äºå”¤é†’ä¸€ä¸ªç­‰å¾…çš„çº¿ç¨‹ã€‚")])])]),s._v(" "),t("blockquote",[t("p",[s._v("æ³¨æ„ï¼šåœ¨è°ƒç”¨ Condition çš„ await()/signal()æ–¹æ³•å‰ï¼Œä¹Ÿéœ€è¦çº¿ç¨‹æŒæœ‰ç›¸å…³çš„ Lock é”ï¼Œè°ƒç”¨ await()åçº¿ç¨‹ä¼šé‡Šæ”¾è¿™ä¸ªé”ï¼Œåœ¨ singal()è°ƒç”¨åä¼šä»å½“å‰Condition å¯¹è±¡çš„ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œå”¤é†’ ä¸€ä¸ªçº¿ç¨‹ï¼Œå”¤é†’çš„çº¿ç¨‹å°è¯•è·å¾—é”ï¼Œ ä¸€æ—¦è·å¾—é”æˆåŠŸå°±ç»§ç»­æ‰§è¡Œã€‚")])]),s._v(" "),t("h4",{attrs:{id:"readwritelock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#readwritelock"}},[s._v("#")]),s._v(" ReadWriteLock")]),s._v(" "),t("p",[s._v("ReadWriteLockæ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨å®ƒé‡Œé¢åªå®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼š")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReadWriteLock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * å†™é”\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("readLock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * è¯»é”\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeLock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("ä¸€ä¸ªç”¨æ¥è·å–è¯»é”ï¼Œä¸€ä¸ªç”¨æ¥è·å–å†™é”ã€‚ä¹Ÿå°±æ˜¯è¯´å°†æ–‡ä»¶çš„è¯»å†™æ“ä½œåˆ†å¼€ï¼Œåˆ†æˆ 2 ä¸ªé”æ¥åˆ†é…ç»™çº¿ç¨‹ï¼Œä»è€Œä½¿å¾—å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¿›è¡Œè¯»æ“ä½œã€‚")]),s._v(" "),t("h4",{attrs:{id:"reentrantlock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reentrantlock"}},[s._v("#")]),s._v(" ReentrantLock ğŸ˜„")]),s._v(" "),t("p",[s._v("ReentrantLockï¼š"),t("code",[s._v("å¯é‡å…¥é”")])]),s._v(" "),t("p",[s._v("ReentrantLock æ˜¯å”¯ä¸€å®ç°äº† Lock æ¥å£çš„ç±»ï¼Œå¹¶ä¸” ReentrantLock æä¾›äº†æ›´å¤šçš„æ–¹æ³•ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ç¤ºä¾‹")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LTicket")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¥¨æ•°é‡")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" number "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1. åˆ›å»ºå¯é‡å…¥é”")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReentrantLock")]),s._v(" lock "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReentrantLock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å–ç¥¨æ–¹æ³•")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sale")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2. ä¸Šé”")]),s._v("\n        lock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ¤æ–­æ˜¯å¦æœ‰ç¥¨")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("number "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentThread")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" ï¼šå–å‡º"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("number"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" å‰©ä½™ï¼š"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" number"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("finally")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3. è§£é”")]),s._v("\n            lock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unlock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h3",{attrs:{id:"_2-3-lock-ä¸çš„-synchronized-åŒºåˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-lock-ä¸çš„-synchronized-åŒºåˆ«"}},[s._v("#")]),s._v(" 2.3 Lock ä¸çš„ Synchronized åŒºåˆ« ğŸ˜ˆ")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("Lock æ˜¯ä¸€ä¸ªæ¥å£")]),s._v("ï¼Œè€Œ "),t("code",[s._v("synchronized æ˜¯ Java ä¸­çš„å…³é”®å­—")]),s._v("ï¼Œsynchronized æ˜¯å†…ç½®çš„è¯­è¨€å®ç°ï¼›-")]),s._v(" "),t("li",[s._v("synchronized åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾çº¿ç¨‹å æœ‰çš„é”ï¼Œå› æ­¤ä¸ä¼šå¯¼è‡´æ­»é”ç°è±¡å‘ç”Ÿï¼›è€Œ "),t("code",[s._v("Lock åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¸»åŠ¨é€šè¿‡ unLock()å»é‡Šæ”¾é”ï¼Œåˆ™å¾ˆå¯èƒ½é€ æˆæ­»é”ç°è±¡ï¼Œå› æ­¤ä½¿ç”¨ Lock æ—¶éœ€è¦åœ¨ finally å—ä¸­é‡Šæ”¾é”")]),s._v("ï¼›")]),s._v(" "),t("li",[s._v("Lock å¯ä»¥"),t("code",[s._v("è®©ç­‰å¾…é”çš„çº¿ç¨‹å“åº”ä¸­æ–­")]),s._v("ï¼Œè€Œ synchronized å´ä¸è¡Œï¼Œä½¿ç”¨synchronized æ—¶ï¼Œç­‰å¾…çš„çº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œä¸èƒ½å¤Ÿå“åº”ä¸­æ–­ï¼›")]),s._v(" "),t("li",[s._v("é€šè¿‡Lockå¯ä»¥çŸ¥é“"),t("code",[s._v("æœ‰æ²¡æœ‰æˆåŠŸè·å–é”")]),s._v("ï¼Œè€Œ synchronized å´æ— æ³•åŠåˆ°ã€‚")]),s._v(" "),t("li",[s._v("Lock å¯ä»¥"),t("code",[s._v("æé«˜å¤šä¸ªçº¿ç¨‹è¿›è¡Œè¯»æ“ä½œçš„æ•ˆç‡")]),s._v("ã€‚")])])])}),[],!1,null,null,null);t.default=e.exports}}]);