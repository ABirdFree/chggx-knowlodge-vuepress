(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{530:function(s,a,t){"use strict";t.r(a);var e=t(2),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"pnpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"https://so.csdn.net/so/search?q=pnpm&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("pnpm"),a("OutboundLink")],1)]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("pnpm")]),s._v("是 "),a("code",[s._v("Node.js")]),s._v(" 的替代包管理器。它是 "),a("code",[s._v("npm")]),s._v(" 的直接替代品，但速度更快、效率更高。")]),s._v(" "),a("p",[s._v("文档："),a("a",{attrs:{href:"https://www.pnpm.cn/motivation",target:"_blank",rel:"noopener noreferrer"}},[s._v("动机 | pnpm中文文档 | pnpm中文网"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"pnpm介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm介绍"}},[s._v("#")]),s._v(" pnpm介绍")]),s._v(" "),a("p",[a("strong",[s._v("为什么效率更高？")])]),s._v(" "),a("ul",[a("li",[s._v("当您安装软件包时，我们会将其保存在您机器上的全局存储中，然后我们会从中创建一个"),a("a",{attrs:{href:"https://so.csdn.net/so/search?q=%E7%A1%AC%E9%93%BE%E6%8E%A5&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"}},[s._v("硬链接"),a("OutboundLink")],1),s._v("，而不是进行复制。对于模块的每个版本，磁盘上只保留一个副本。例如，当使用"),a("code",[s._v("npm")]),s._v("或"),a("code",[s._v("yarn")]),s._v("时，如果您有 100 个使用"),a("code",[s._v("lodash")]),s._v("的包，则磁盘上将有 100 个"),a("code",[s._v("lodash")]),s._v("副本。")]),s._v(" "),a("li",[a("code",[s._v("pnpm")]),s._v(" 可让您节省数 GB 的磁盘空间！")])]),s._v(" "),a("p",[a("strong",[s._v("pnpm优势")])]),s._v(" "),a("p",[a("code",[s._v("pnpm")]),s._v(" 拥有"),a("code",[s._v("Yarn")]),s._v(" 超过 "),a("code",[s._v("npm")]),s._v(" 的所有附加功能：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("安全:")]),s._v(" 与 "),a("code",[s._v("yarn")]),s._v(" 一样，"),a("code",[s._v("pnpm")]),s._v(" 有一个包含所有已安装包校验和的特殊文件，用于在执行代码之前验证每个已安装包的完整性。")]),s._v(" "),a("li",[a("strong",[s._v("离线模式:")]),s._v(" "),a("code",[s._v("pnpm")]),s._v(" 将所有下载的包 "),a("code",[s._v("tarball")]),s._v(" 保存在本地注册表镜像中。当包在本地可用时，它从不发出请求。使用该"),a("code",[s._v("--offline")]),s._v("参数可以完全禁止"),a("code",[s._v("HTTP")]),s._v("请求。")]),s._v(" "),a("li",[a("strong",[s._v("速度:")]),s._v(" "),a("code",[s._v("pnpm")]),s._v(" 不仅比 "),a("code",[s._v("npm")]),s._v(" 快，而且比"),a("code",[s._v("yarn")]),s._v(" 快。无论是冷缓存还是热缓存，它都比"),a("code",[s._v("yarn")]),s._v(" 快。"),a("code",[s._v("yarn")]),s._v(" 从缓存中复制文件，而 "),a("code",[s._v("pnpm")]),s._v(" 只是从全局存储中链接它们。")])]),s._v(" "),a("p",[a("strong",[s._v("与 npm 的差别")])]),s._v(" "),a("ul",[a("li",[s._v("与 "),a("code",[s._v("npm")]),s._v(" 不同的是，"),a("code",[s._v("pnpm")]),s._v(" 会校验所有的参数。 比如，"),a("code",[s._v("pnpm install --foo")]),s._v(" 会执行失败，因为 "),a("code",[s._v("--foo")]),s._v(" 不是 "),a("code",[s._v("pnpm install")]),s._v("的有效参数。")])]),s._v(" "),a("p",[s._v("但是，某些依赖关系可能使用 "),a("code",[s._v("npm_config_")]),s._v(" 环境变量，其中 从 "),a("code",[s._v("CLI")]),s._v(" 选项中填充。 在这种情况下，你有以下选择：")]),s._v(" "),a("ul",[a("li",[s._v("设置明确的环境变量："),a("code",[s._v("npm_config_foo=true pnpm install")])]),s._v(" "),a("li",[s._v("用 "),a("code",[s._v("--config.")]),s._v("强制使用未知选项: "),a("code",[s._v("pnpm install --config.foo")])])]),s._v(" "),a("h2",{attrs:{id:"pnpm安装使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm安装使用"}},[s._v("#")]),s._v(" pnpm安装使用")]),s._v(" "),a("p",[a("strong",[s._v("官网： "),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fpnpm.js.org%2Finstallation%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pnpm.js.org/installation/"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"全局安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局安装"}},[s._v("#")]),s._v(" "),a("strong",[s._v("全局安装")])]),s._v(" "),a("div",{staticClass:"language-coffeescript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-coffeescript"}},[a("code",[s._v("npm install pnpm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"设置源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置源"}},[s._v("#")]),s._v(" "),a("strong",[s._v("设置源")])]),s._v(" "),a("div",{staticClass:"language-cobol line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cobol"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 查看源\npnpm config get registry\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 切换淘宝源\npnpm config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" registry https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("registry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("npmmirror"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" "),a("strong",[s._v("使用")])]),s._v(" "),a("div",{staticClass:"language-cobol line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cobol"}},[a("code",[s._v("pnpm install 包名称\npnpm i 包名称\npnpm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" 包名称    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" -S  默认写入dependencies\npnpm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" -D    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" -D devDependencies\npnpm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" -g    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 全局安装\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"移除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移除"}},[s._v("#")]),s._v(" "),a("strong",[s._v("移除")])]),s._v(" "),a("div",{staticClass:"language-cobol line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cobol"}},[a("code",[s._v("pnpm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("remove")]),s._v(" 包名称  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 移除包\n\npnpm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("remove")]),s._v(" 包名称 --global  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 移除全局包\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新"}},[s._v("#")]),s._v(" "),a("strong",[s._v("更新")])]),s._v(" "),a("div",{staticClass:"language-cobol line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cobol"}},[a("code",[s._v("pnpm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("up")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 更新所有依赖项\n\npnpm upgrade 包  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 更新包\n\npnpm upgrade 包 --global  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 更新全局包\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"设置存储路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置存储路径"}},[s._v("#")]),s._v(" "),a("strong",[s._v("设置存储路径")])]),s._v(" "),a("div",{staticClass:"language-cobol line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-cobol"}},[a("code",[s._v("pnpm config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" store-dir "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pnpm-store\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("个人使用")])]),s._v(" "),a("p",[s._v("一些需要node-gyp的包一定要记得安装好\n在系统上禁止使用脚本解决方法")]),s._v(" "),a("div",{staticClass:"language-csharp line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token preprocessor property"}},[s._v("# 以管理员身份运行power shell")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("executionpolicy remotesigned\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"pnpm升级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm升级"}},[s._v("#")]),s._v(" pnpm升级")]),s._v(" "),a("h2",{attrs:{id:"pnpm问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm问题"}},[s._v("#")]),s._v(" pnpm问题")]),s._v(" "),a("h4",{attrs:{id:"pnpm在vscode无法使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm在vscode无法使用"}},[s._v("#")]),s._v(" pnpm在vscode无法使用")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202304122027710.png",alt:"image-20230412202731683"}})]),s._v(" "),a("p",[s._v("参考文档："),a("a",{attrs:{href:"https://blog.csdn.net/weixin_43295106/article/details/126887112",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档地址"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("管理员终端")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("set-executionpolicy remotesigned\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("没有给shell授权，导致只能在cmd上运行pnpm指令，用管理员方式打开powershell，使用以下指令set-executionpolicy remotesigned放开授权")])])])}),[],!1,null,null,null);a.default=r.exports}}]);