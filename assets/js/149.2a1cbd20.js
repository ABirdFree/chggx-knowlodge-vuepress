(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{497:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"nginx-åŸºç¡€é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-åŸºç¡€é…ç½®"}},[s._v("#")]),s._v(" Nginx-åŸºç¡€é…ç½®")]),s._v(" "),t("h2",{attrs:{id:"nginxæœåŠ¡å™¨åŸºç¡€é…ç½®å®ä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginxæœåŠ¡å™¨åŸºç¡€é…ç½®å®ä¾‹"}},[s._v("#")]),s._v(" NginxæœåŠ¡å™¨åŸºç¡€é…ç½®å®ä¾‹")]),s._v(" "),t("p",[s._v("å‰é¢æˆ‘ä»¬å·²ç»å¯¹NginxæœåŠ¡å™¨é»˜è®¤é…ç½®æ–‡ä»¶çš„ç»“æ„å’Œæ¶‰åŠçš„åŸºæœ¬æŒ‡ä»¤åšäº†è¯¦ç»†çš„é˜è¿°ã€‚é€šè¿‡è¿™äº›æŒ‡ä»¤çš„åˆç†é…ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©ä¸€å°NginxæœåŠ¡å™¨æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”æä¾›åŸºæœ¬çš„webæœåŠ¡å™¨åŠŸèƒ½ã€‚")]),s._v(" "),t("p",[s._v("æ¥ä¸‹æ¥æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´å’Œæœ€ç®€å•çš„åŸºç¡€é…ç½®å®ä¾‹ï¼Œæ¥å·©å›ºä¸‹å‰é¢æ‰€å­¦ä¹ çš„æŒ‡ä»¤åŠå…¶é…ç½®ã€‚")]),s._v(" "),t("p",[s._v("éœ€æ±‚å¦‚ä¸‹:")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[s._v("ï¼ˆ1ï¼‰æœ‰å¦‚ä¸‹è®¿é—®ï¼š\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\thttp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("//192.168.200.133:8081/server1/location1")]),s._v("\n\t\tè®¿é—®çš„æ˜¯ï¼šindex_sr1_location1.html\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\thttp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("//192.168.200.133:8081/server1/location2")]),s._v("\n\t\tè®¿é—®çš„æ˜¯ï¼šindex_sr1_location2.html\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\thttp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("//192.168.200.133:8082/server2/location1")]),s._v("\n\t\tè®¿é—®çš„æ˜¯ï¼šindex_sr2_location1.html\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\thttp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("//192.168.200.133:8082/server2/location2")]),s._v("\n\t\tè®¿é—®çš„æ˜¯ï¼šindex_sr2_location2.html\nï¼ˆ2ï¼‰å¦‚æœè®¿é—®çš„èµ„æºä¸å­˜åœ¨ï¼Œ\n\tè¿”å›è‡ªå®šä¹‰çš„404é¡µé¢\nï¼ˆ3ï¼‰å°†/server1å’Œ/server2çš„é…ç½®ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶åˆ†å‰²\n\tå°†æ–‡ä»¶æ”¾åˆ°/home/www/conf.dç›®å½•ä¸‹ï¼Œç„¶åä½¿ç”¨includeè¿›è¡Œåˆå¹¶\nï¼ˆ4ï¼‰ä¸º/server1å’Œ/server2å„è‡ªåˆ›å»ºä¸€ä¸ªè®¿é—®æ—¥å¿—æ–‡ä»¶\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("å‡†å¤‡ç›¸å…³æ–‡ä»¶ï¼Œç›®å½•å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181857957.png",alt:"202303181857957"}})]),s._v(" "),t("p",[s._v("é…ç½®çš„å†…å®¹å¦‚ä¸‹:")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##å…¨å±€å— begin##")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®å…è®¸è¿è¡ŒNginxå·¥ä½œè¿›ç¨‹çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("www;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®è¿è¡ŒNginxè¿›ç¨‹ç”Ÿæˆçš„workerè¿›ç¨‹æ•°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("worker_processes")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("2;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®NginxæœåŠ¡å™¨è¿è¡Œå¯¹é”™è¯¯æ—¥å¿—å­˜æ”¾çš„è·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("error_log")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("logs/error.log;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®NginxæœåŠ¡å™¨å…è®¸æ—¶è®°å½•Nginxçš„masterè¿›ç¨‹çš„PIDæ–‡ä»¶è·¯å¾„å’Œåç§°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("pid")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("logs/nginx.pid;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®NginxæœåŠ¡æ˜¯å¦ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹æ³•å¯åŠ¨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#daemon on;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##å…¨å±€å— end##")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##eventså— begin##")]),s._v("\nevents{\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t#è®¾ç½®Nginxç½‘ç»œè¿æ¥åºåˆ—åŒ–")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\taccept_mutex")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("on;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t#è®¾ç½®Nginxçš„workerè¿›ç¨‹æ˜¯å¦å¯ä»¥åŒæ—¶æ¥æ”¶å¤šä¸ªè¯·æ±‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tmulti_accept")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("on;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t#è®¾ç½®Nginxçš„workerè¿›ç¨‹æœ€å¤§çš„è¿æ¥æ•°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tworker_connections")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1024;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t#è®¾ç½®Nginxä½¿ç”¨çš„äº‹ä»¶é©±åŠ¨æ¨¡å‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tuse")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("epoll;")]),s._v("\n}\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##eventså— end##")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##httpå— start##")]),s._v("\nhttp{\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t#å®šä¹‰MIME-Type")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tinclude")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("mime.types;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tdefault_type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("application/octet-stream;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t#é…ç½®å…è®¸ä½¿ç”¨sendfileæ–¹å¼è¿è¾“")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tsendfile")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("on;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t#é…ç½®è¿æ¥è¶…æ—¶æ—¶é—´")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tkeepalive_timeout")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("65;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t#é…ç½®è¯·æ±‚å¤„ç†æ—¥å¿—æ ¼å¼")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tlog_format")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("server1 '===>server1 access log';")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tlog_format")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("server2 '===>server2 access log';")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t##serverå— å¼€å§‹##")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\tinclude")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/conf.d/*.conf;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t##serverå— ç»“æŸ##")]),s._v("\n}\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##httpå— end##")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br")])]),t("p",[s._v("server1.conf")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[s._v("server{\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®ç›‘å¬ç«¯å£å’Œä¸»æœºåç§°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tlisten")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("8081;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tserver_name")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("localhost;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®è¯·æ±‚å¤„ç†æ—¥å¿—å­˜æ”¾è·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\taccess_log")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/myweb/server1/logs/access.log server1;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®é”™è¯¯é¡µé¢")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\terror_page")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("404 /404.html;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®å¤„ç†/server1/location1è¯·æ±‚çš„location")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tlocation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/server1/location1{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\troot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/myweb;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\tindex")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("index_sr1_location1.html;")]),s._v("\n\t\t}\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®å¤„ç†/server1/location2è¯·æ±‚çš„location")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tlocation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/server1/location2{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\troot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/myweb;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\tindex")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("index_sr1_location2.html;")]),s._v("\n\t\t}\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®é”™è¯¯é¡µé¢è½¬å‘")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tlocation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/404.html {")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\troot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/myweb;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\tindex")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("404.html;")]),s._v("\n\t\t}\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("p",[s._v("server2.conf")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[s._v("server{\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®ç›‘å¬ç«¯å£å’Œä¸»æœºåç§°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tlisten")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("8082;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tserver_name")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("localhost;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®è¯·æ±‚å¤„ç†æ—¥å¿—å­˜æ”¾è·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\taccess_log")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/myweb/server2/logs/access.log server2;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®é”™è¯¯é¡µé¢,å¯¹404.htmlåšäº†å®šå‘é…ç½®")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\terror_page")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("404 /404.html;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®å¤„ç†/server1/location1è¯·æ±‚çš„location")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tlocation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/server2/location1{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\troot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/myweb;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\tindex")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("index_sr2_location1.html;")]),s._v("\n\t\t}\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®å¤„ç†/server2/location2è¯·æ±‚çš„location")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tlocation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/server2/location2{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\troot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/myweb;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\tindex")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("index_sr2_location2.html;")]),s._v("\n\t\t}\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\t\t#é…ç½®é”™è¯¯é¡µé¢è½¬å‘")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\tlocation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/404.html {")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\troot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/home/www/myweb;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("\t\t\tindex")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("404.html;")]),s._v("\n\t\t}\n\t}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("p",[s._v("è®¿é—®æµ‹è¯•ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181857531.png",alt:"1587129766585"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181857903.png",alt:"1587129777898"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181857779.png",alt:"1587290246228"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181858453.png",alt:"1587129805309"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202303181858022.png",alt:"1587129817226"}})]),s._v(" "),t("h2",{attrs:{id:"nginxæœåŠ¡æ“ä½œçš„é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginxæœåŠ¡æ“ä½œçš„é—®é¢˜"}},[s._v("#")]),s._v(" NginxæœåŠ¡æ“ä½œçš„é—®é¢˜")]),s._v(" "),t("p",[s._v("ç»è¿‡å‰é¢çš„æ“ä½œï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œå¦‚æœæƒ³è¦å¯åŠ¨ã€å…³é—­æˆ–é‡æ–°åŠ è½½nginxé…ç½®æ–‡ä»¶ï¼Œéƒ½éœ€è¦å…ˆè¿›å…¥åˆ°nginxçš„å®‰è£…ç›®å½•çš„sbinç›®å½•ï¼Œç„¶åä½¿ç”¨nginxçš„äºŒçº§åˆ¶å¯æ‰§è¡Œæ–‡ä»¶æ¥æ“ä½œï¼Œç›¸å¯¹æ¥è¯´æ“ä½œæ¯”è¾ƒç¹çï¼Œè¿™å—è¯¥å¦‚ä½•ä¼˜åŒ–ï¼Ÿå¦å¤–å¦‚æœæˆ‘ä»¬æƒ³æŠŠNginxè®¾ç½®æˆéšç€æœåŠ¡å™¨å¯åŠ¨å°±è‡ªåŠ¨å®Œæˆå¯åŠ¨æ“ä½œï¼Œåˆè¯¥å¦‚ä½•æ¥å®ç°?è¿™å°±éœ€è¦ç”¨åˆ°æ¥ä¸‹æ¥æˆ‘ä»¬è¦è®²è§£çš„ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼š")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[s._v("Nginxé…ç½®æˆç³»ç»ŸæœåŠ¡\nNginxå‘½ä»¤é…ç½®åˆ°ç³»ç»Ÿç¯å¢ƒ\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"nginxé…ç½®æˆç³»ç»ŸæœåŠ¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginxé…ç½®æˆç³»ç»ŸæœåŠ¡"}},[s._v("#")]),s._v(" Nginxé…ç½®æˆç³»ç»ŸæœåŠ¡ ğŸ˜„")]),s._v(" "),t("p",[s._v("æŠŠNginxåº”ç”¨æœåŠ¡è®¾ç½®æˆä¸ºç³»ç»ŸæœåŠ¡ï¼Œæ–¹ä¾¿å¯¹NginxæœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢ç­‰ç›¸å…³æ“ä½œï¼Œå…·ä½“å®ç°æ­¥éª¤:")]),s._v(" "),t("ol",[t("li",[s._v("åœ¨"),t("code",[s._v("/usr/lib/systemd/system")]),s._v("ç›®å½•ä¸‹æ·»åŠ nginx.service,å†…å®¹å¦‚ä¸‹:")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /usr/lib/systemd/system/nginx.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[s._v("[Unit]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("Description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("nginx web service")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("Documentation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("http://nginx.org/en/docs/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("After")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("network.target")]),s._v("\n\n[Service]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("Type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("forking")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("PIDFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/usr/local/nginx/logs/nginx.pid")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("ExecStartPre")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/usr/local/nginx/sbin/nginx -t -c /usr/local/nginx/conf/nginx.conf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("ExecStart")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/usr/local/nginx/sbin/nginx")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("ExecReload")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/usr/local/nginx/sbin/nginx -s reload")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("ExecStop")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/usr/local/nginx/sbin/nginx -s stop")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("PrivateTmp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("true")]),s._v("\n\n[Install]\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("WantedBy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("default.target")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("æ·»åŠ å®Œæˆåå¦‚æœæƒé™æœ‰é—®é¢˜éœ€è¦è¿›è¡Œæƒé™è®¾ç½®")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("755")]),s._v(" /usr/lib/systemd/system/nginx.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("ä½¿ç”¨ç³»ç»Ÿå‘½ä»¤æ¥æ“ä½œNginxæœåŠ¡")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("å¯åŠ¨: systemctl start nginx\nåœæ­¢: systemctl stop nginx\né‡å¯: systemctl restart nginx\né‡æ–°åŠ è½½é…ç½®æ–‡ä»¶: systemctl reload nginx\næŸ¥çœ‹nginxçŠ¶æ€: systemctl status nginx\nå¼€æœºå¯åŠ¨: systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"nginxå‘½ä»¤é…ç½®åˆ°ç³»ç»Ÿç¯å¢ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginxå‘½ä»¤é…ç½®åˆ°ç³»ç»Ÿç¯å¢ƒ"}},[s._v("#")]),s._v(" Nginxå‘½ä»¤é…ç½®åˆ°ç³»ç»Ÿç¯å¢ƒ ğŸ˜„")]),s._v(" "),t("p",[s._v("å‰é¢æˆ‘ä»¬ä»‹ç»è¿‡Nginxå®‰è£…ç›®å½•ä¸‹çš„äºŒçº§åˆ¶å¯æ‰§è¡Œæ–‡ä»¶"),t("code",[s._v("nginx")]),s._v("çš„å¾ˆå¤šå‘½ä»¤ï¼Œè¦æƒ³ä½¿ç”¨è¿™äº›å‘½ä»¤å‰ææ˜¯éœ€è¦è¿›å…¥sbinç›®å½•ä¸‹æ‰èƒ½ä½¿ç”¨ï¼Œå¾ˆä¸æ–¹ä¾¿ï¼Œå¦‚ä½•å»ä¼˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¯¥äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶åŠ å…¥åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼Œè¿™æ ·çš„è¯åœ¨ä»»ä½•ç›®å½•éƒ½å¯ä»¥ä½¿ç”¨nginxå¯¹åº”çš„ç›¸å…³å‘½ä»¤ã€‚å…·ä½“å®ç°æ­¥éª¤å¦‚ä¸‹:")]),s._v(" "),t("p",[s._v("æ¼”ç¤ºå¯åˆ é™¤")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("/usr/local/nginx/sbin/nginx "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-V")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/sbin  nginx "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-V")]),s._v("\nå¦‚ä½•ä¼˜åŒ–ï¼Ÿï¼Ÿï¼Ÿ\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ol",[t("li",[s._v("ä¿®æ”¹"),t("code",[s._v("/etc/profile")]),s._v("æ–‡ä»¶")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile\nåœ¨æœ€åä¸€è¡Œæ·»åŠ \n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/nginx/sbin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("ä½¿ä¹‹ç«‹å³ç”Ÿæ•ˆ")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("æ‰§è¡Œnginxå‘½ä»¤")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("nginx "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-V")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);