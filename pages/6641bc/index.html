<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ElasticSearch7.6.1快速入门 | chggx-knowledge</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/chggx-knowlodge-vuepress/img/favicon.ico">
    <script src="https://cdn.wwads.cn/js/makemoney.js" type="text/javascript"></script>
    <meta name="description" content="一个基于VuePress的 知识管理&amp;博客 主题">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    <meta name="wwads-cn-verify" content="6c4b761a28b734fe93831e3fb400ce87">
    
    <link rel="preload" href="/chggx-knowlodge-vuepress/assets/css/0.styles.2ef74c7b.css" as="style"><link rel="preload" href="/chggx-knowlodge-vuepress/assets/js/app.c86428f6.js" as="script"><link rel="preload" href="/chggx-knowlodge-vuepress/assets/js/2.796b80a3.js" as="script"><link rel="preload" href="/chggx-knowlodge-vuepress/assets/js/70.24d79987.js" as="script"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/10.d561b0c2.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/11.0720f19f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/12.5d554c82.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/13.4e0ace35.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/14.808cecd6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/15.a88fe488.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/16.44bc7919.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/17.938d3a1c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/18.64dacf85.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/19.a803fc23.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/20.c1c2146a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/21.2875405f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/22.ce9324af.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/23.7ec260ba.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/24.87703a4c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/25.8e5c123a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/26.3815a3e7.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/27.07c2fe23.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/28.4c7c1d67.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/29.cb4dfbde.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/3.012c198a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/30.7c581baa.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/31.80f83812.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/32.524da684.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/33.25cbd38e.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/34.09051961.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/35.36340c93.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/36.0011002d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/37.76ead6a3.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/38.18549a08.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/39.d23a932f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/4.1abb0fb3.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/40.a78a9c46.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/41.5e095b7d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/42.ded5bf3f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/43.06e5ad7a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/44.ea2a31fc.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/45.39fd0f74.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/46.7bedb2b3.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/47.a0c3dd2d.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/48.6158ea4f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/49.79802558.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/5.4e46cbb7.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/50.eec01633.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/51.4254e3ad.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/52.d757c510.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/53.b3a99e2b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/54.314904a6.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/55.faec50d3.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/56.38b51e67.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/57.ac1e59d0.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/58.c33030aa.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/59.84517968.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/6.5730c3e8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/60.8dc249d3.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/61.b6bc00c2.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/62.747bc842.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/63.0dff780b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/64.081d4d7b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/65.f4f91e3c.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/66.978db708.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/67.67d4d1d8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/68.8d05943b.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/69.ae72c384.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/7.a61120e8.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/71.d31d81cb.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/72.b05f8f7e.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/73.e301468a.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/74.c4a7643f.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/75.68f1fd86.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/76.52914c36.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/77.0925e3d3.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/8.c3da94f5.js"><link rel="prefetch" href="/chggx-knowlodge-vuepress/assets/js/9.f9490316.js">
    <link rel="stylesheet" href="/chggx-knowlodge-vuepress/assets/css/0.styles.2ef74c7b.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/chggx-knowlodge-vuepress/" class="home-link router-link-active"><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202302271042851.png" alt="chggx-knowledge" class="logo"> <span class="site-name can-hide">chggx-knowledge</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/chggx-knowlodge-vuepress/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/ec1391/" class="link-title">语言</a> <span class="title" style="display:none;">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JAVA语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/ec1391/" class="nav-link">语言基础</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/9faa36/" class="nav-link">JVM</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">并发&amp;多线程</a></li></ul></li><li class="dropdown-item"><h4>C语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">语言基础</a></li></ul></li><li class="dropdown-item"><h4>C++语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">语言基础</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/29740f/" class="nav-link">MySQL基础</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">MySQL高级</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/ff9a50/" class="nav-link">Influxdb</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程基础" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/febdf1/" class="link-title">编程基础</a> <span class="title" style="display:none;">编程基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>数据结构和算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/febdf1/" class="nav-link">数据结构</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">算法</a></li></ul></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">操作系统</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/391852/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/3d8e99/" class="link-title">开发工具</a> <span class="title" style="display:none;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>集成开发环境</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/6ad6ad/" class="nav-link">IDEA</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/d486f7/" class="nav-link">VSCode</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/17afa5/" class="nav-link">数据库工具</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/5082de/" class="nav-link">接口测试工具</a></li></ul></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Linux系统</a></li><li class="dropdown-item"><h4>代码管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/00b1bb/" class="nav-link">Svn</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/d486f7/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>项目管理&amp;构建工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/020d30/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Gradle</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端应用框架" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/0705f0/" class="link-title">后端应用框架</a> <span class="title" style="display:none;">后端应用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring家族</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/0705f0/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">SpringMVC</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/c71dea/" class="nav-link">SpringBoot</a></li></ul></li><li class="dropdown-item"><h4>服务器软件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Web服务器</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">应用服务器</a></li></ul></li><li class="dropdown-item"><h4>中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/1db5d1/" class="nav-link">缓存</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">消息队列</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">RPC架构</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">数据库</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">ORM层框架</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">连接池</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">分库分表</a></li></ul></li><li class="dropdown-item"><h4>搜索引擎</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/6641bc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Solr</a></li></ul></li><li class="dropdown-item"><h4>分布式/微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">服务发现/注册</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">网关</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">服务调用（负载均衡）</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">熔断/降级</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">配置中心</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">认证和鉴权</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">分布式事务</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">任务调度</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">链路追踪与监控</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">日志分析与监控</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">虚拟化/容器化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端应用框架" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/3ae290/" class="link-title">前端应用框架</a> <span class="title" style="display:none;">前端应用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础套餐</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/3ae290/" class="nav-link">三大件</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">基础库</a></li></ul></li><li class="dropdown-item"><h4>模板框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">JSP/JSTL</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Thymeleaf</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">FreeMarker</a></li></ul></li><li class="dropdown-item"><h4>组件化框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/abd7cf/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">VUE</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">React</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Angular</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维知识" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/bcb9d3/" class="link-title">运维知识</a> <span class="title" style="display:none;">运维知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/bcb9d3/" class="nav-link">Web服务器</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">应用服务器</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">CDN加速</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">持续集成/持续发布</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/e8fc76/" class="nav-link">代码质量检查</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">日志收集/分析</a></li></ul></div></div> <a href="https://github.com/ABirdFree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/chggx-knowlodge-vuepress/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/ec1391/" class="link-title">语言</a> <span class="title" style="display:none;">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JAVA语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/ec1391/" class="nav-link">语言基础</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/9faa36/" class="nav-link">JVM</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">并发&amp;多线程</a></li></ul></li><li class="dropdown-item"><h4>C语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">语言基础</a></li></ul></li><li class="dropdown-item"><h4>C++语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">语言基础</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/29740f/" class="nav-link">MySQL基础</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">MySQL高级</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/ff9a50/" class="nav-link">Influxdb</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程基础" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/febdf1/" class="link-title">编程基础</a> <span class="title" style="display:none;">编程基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>数据结构和算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/febdf1/" class="nav-link">数据结构</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">算法</a></li></ul></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">操作系统</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/391852/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/3d8e99/" class="link-title">开发工具</a> <span class="title" style="display:none;">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>集成开发环境</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/6ad6ad/" class="nav-link">IDEA</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/d486f7/" class="nav-link">VSCode</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/17afa5/" class="nav-link">数据库工具</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/5082de/" class="nav-link">接口测试工具</a></li></ul></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Linux系统</a></li><li class="dropdown-item"><h4>代码管理工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/00b1bb/" class="nav-link">Svn</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/d486f7/" class="nav-link">Git</a></li></ul></li><li class="dropdown-item"><h4>项目管理&amp;构建工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/020d30/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Gradle</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端应用框架" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/0705f0/" class="link-title">后端应用框架</a> <span class="title" style="display:none;">后端应用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring家族</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/0705f0/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">SpringMVC</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/c71dea/" class="nav-link">SpringBoot</a></li></ul></li><li class="dropdown-item"><h4>服务器软件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Web服务器</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">应用服务器</a></li></ul></li><li class="dropdown-item"><h4>中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/1db5d1/" class="nav-link">缓存</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">消息队列</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">RPC架构</a></li></ul></li><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">数据库</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">ORM层框架</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">连接池</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">分库分表</a></li></ul></li><li class="dropdown-item"><h4>搜索引擎</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/6641bc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Solr</a></li></ul></li><li class="dropdown-item"><h4>分布式/微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">服务发现/注册</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">网关</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">服务调用（负载均衡）</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">熔断/降级</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">配置中心</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">认证和鉴权</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">分布式事务</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">任务调度</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">链路追踪与监控</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">日志分析与监控</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">虚拟化/容器化</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端应用框架" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/3ae290/" class="link-title">前端应用框架</a> <span class="title" style="display:none;">前端应用框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础套餐</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/3ae290/" class="nav-link">三大件</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">基础库</a></li></ul></li><li class="dropdown-item"><h4>模板框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">JSP/JSTL</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Thymeleaf</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">FreeMarker</a></li></ul></li><li class="dropdown-item"><h4>组件化框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/abd7cf/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">VUE</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">React</a></li><li class="dropdown-subitem"><a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">Angular</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维知识" class="dropdown-title"><a href="/chggx-knowlodge-vuepress/pages/bcb9d3/" class="link-title">运维知识</a> <span class="title" style="display:none;">运维知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/bcb9d3/" class="nav-link">Web服务器</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">应用服务器</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">CDN加速</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">持续集成/持续发布</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/e8fc76/" class="nav-link">代码质量检查</a></li><li class="dropdown-item"><!----> <a href="/chggx-knowlodge-vuepress/pages/" class="nav-link router-link-active">日志收集/分析</a></li></ul></div></div> <a href="https://github.com/ABirdFree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring家族</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>服务器软件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>搜索引擎</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>ElasticSearch</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/chggx-knowlodge-vuepress/pages/6641bc/" aria-current="page" class="active sidebar-link">ElasticSearch7.6.1快速入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_1-elasticsearch概述" class="sidebar-link">1. ElasticSearch概述</a></li><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-es安装" class="sidebar-link">2. ES安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-1-下载" class="sidebar-link">2.1 下载</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-2-安装" class="sidebar-link">2.2 安装</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-2-1-解压即可" class="sidebar-link">2.2.1 解压即可</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-2-2-目录结构" class="sidebar-link">2.2.2 目录结构</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-2-3-启动" class="sidebar-link">2.2.3 启动</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-2-4-访问" class="sidebar-link">2.2.4 访问</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-3-安装可视化界面-es-head的插件" class="sidebar-link">2.3 安装可视化界面 es head的插件</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-3-1-下载地址" class="sidebar-link">2.3.1 下载地址</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-3-2-启动" class="sidebar-link">2.3.2 启动</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-3-3-连接测试" class="sidebar-link">2.3.3 连接测试</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-3-4-重启es服务器-然后再次连接" class="sidebar-link">2.3.4 重启es服务器，然后再次连接</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-4-了解-elk" class="sidebar-link">2.4 了解 ELK</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-5-kibana" class="sidebar-link">2.5 Kibana</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-5-1-概述" class="sidebar-link">2.5.1 概述</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-5-2-下载" class="sidebar-link">2.5.2 下载</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-5-3-解压目录" class="sidebar-link">2.5.3 解压目录</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-5-4-启动" class="sidebar-link">2.5.4 启动</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-5-5-访问" class="sidebar-link">2.5.5 访问</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-5-6-测试工具" class="sidebar-link">2.5.6 测试工具</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-5-7-汉化" class="sidebar-link">2.5.7 汉化</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-es核心概念" class="sidebar-link">3. ES核心概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-1-关系行数据库-和-elasticsearch" class="sidebar-link">3.1 关系行数据库 和 elasticsearch</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-2-逻辑设计" class="sidebar-link">3.2 逻辑设计</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-3-逻辑设计" class="sidebar-link">3.3 逻辑设计</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-3-1-文档" class="sidebar-link">3.3.1 文档</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-3-2-类型" class="sidebar-link">3.3.2 类型</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-3-3-索引" class="sidebar-link">3.3.3 索引</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_4-ik分词器" class="sidebar-link">4. IK分词器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_4-1-下载" class="sidebar-link">4.1 下载</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_4-2-安装" class="sidebar-link">4.2 安装</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_4-2-重启-访问" class="sidebar-link">4.2 重启,访问</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_4-3-kibana测试" class="sidebar-link">4.3 Kibana测试</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_4-3-1-ik-smart分词" class="sidebar-link">4.3.1 ik_smart分词</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_4-3-2-ik-max-word分词" class="sidebar-link">4.3.2 ikmaxword分词</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_4-4-自定义分词器的字典" class="sidebar-link">4.4 自定义分词器的字典</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#问题" class="sidebar-link">问题:</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#解决" class="sidebar-link">解决</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#重启" class="sidebar-link">重启</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#kibana结果" class="sidebar-link">Kibana结果</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_5-rest风格说明" class="sidebar-link">5. Rest风格说明</a></li><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-索引的基本操作" class="sidebar-link">6. 索引的基本操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-1-类型" class="sidebar-link">6.1 类型</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-2-创建一个索引" class="sidebar-link">6.2 创建一个索引</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-2-1-无字段类型" class="sidebar-link">6.2.1 无字段类型</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-3-2-设置字段类型" class="sidebar-link">6.3.2 设置字段类型</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-3-获取索引信息" class="sidebar-link">6.3 获取索引信息</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-4-查看默认的信息-另一种创建索引的方式" class="sidebar-link">6.4  查看默认的信息(另一种创建索引的方式)</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#获取信息" class="sidebar-link">获取信息</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-5-修改索引" class="sidebar-link">6.5 修改索引</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-5-1-旧的方式-put" class="sidebar-link">6.5.1 旧的方式 	PUT</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-5-2-新的方式-post" class="sidebar-link">6.5.2 新的方式 POST</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-6-删除索引-delete" class="sidebar-link">6.6 删除索引 DELETE</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_6-7-扩展" class="sidebar-link">6.7 扩展</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_7-文档的基本操作" class="sidebar-link">7. 文档的基本操作</a></li><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_8-集成sringboot" class="sidebar-link">8. 集成SringBoot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_1-官方文档" class="sidebar-link">1. 官方文档</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-创建springboot项目" class="sidebar-link">2. 创建SpringBoot项目</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-1-依赖" class="sidebar-link">2.1 依赖</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-2-问题" class="sidebar-link">2.2. 问题</a></li><li class="sidebar-sub-header level5"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#解决-2" class="sidebar-link">解决</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_2-3-提供的对象" class="sidebar-link">2.3 提供的对象</a></li><li class="sidebar-sub-header level5"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#spring-data下的默认对象" class="sidebar-link">spring data下的默认对象</a></li><li class="sidebar-sub-header level5"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#rest-对象" class="sidebar-link">rest 对象</a></li><li class="sidebar-sub-header level3"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-api使用" class="sidebar-link">3 API使用</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-1-创建索引" class="sidebar-link">3.1 创建索引</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-2-获取索引" class="sidebar-link">3.2 获取索引</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-3-删除索引" class="sidebar-link">3.3 删除索引</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-4-创建文档" class="sidebar-link">3.4 创建文档</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-5-获取文档" class="sidebar-link">3.5 获取文档</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-6-修改文档" class="sidebar-link">3.6 修改文档</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-7-删除文档" class="sidebar-link">3.7 删除文档</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-8-批量添加" class="sidebar-link">3.8  批量添加</a></li><li class="sidebar-sub-header level4"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_3-9-查询" class="sidebar-link">3.9 查询</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/chggx-knowlodge-vuepress/pages/6641bc/#_9-爬虫" class="sidebar-link">9. 爬虫</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Solr</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>分布式或微服务</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/chggx-knowlodge-vuepress/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>后端应用框架</span></li><li data-v-06225672><span data-v-06225672>搜索引擎</span></li><li data-v-06225672><span data-v-06225672>ElasticSearch</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/ABirdFree" target="_blank" title="作者" class="beLink" data-v-06225672>晨光-向</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-02-27</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">ElasticSearch7.6.1快速入门<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><h1 id="elasticsearch7-6-1快速入门"><a href="#elasticsearch7-6-1快速入门" class="header-anchor">#</a> ElasticSearch7.6.1快速入门</h1> <blockquote><p>本次ElasticSearch版本 <code>ElasticSearch7.6.1</code>,Java版本 <code>Java8</code></p> <p>环境资源 :</p> <p>​	链接：https://pan.baidu.com/s/1zJHCPe2vB0KguE_DhknhMA  提取码：h7n4</p></blockquote> <h2 id="_1-elasticsearch概述"><a href="#_1-elasticsearch概述" class="header-anchor">#</a> 1. ElasticSearch概述</h2> <p>Elaticsearch，简称为es， es是一个开源的<code>高扩展</code>的<code>分布式全文检索引擎</code>，它可以近乎<code>实时的存储、检索数据</code>；本身扩展性很好，可以扩展到上百台服务器，处理PB级别（大数据时代）的数据。es也使用Java开发并使用Lucene作为其核心来实现所有索引和搜索的功能，但是它的目的是通过简单的<code>RESTful API</code>来隐藏Lucene的复杂性，从而让全文搜索变得简单。</p> <h2 id="_2-es安装"><a href="#_2-es安装" class="header-anchor">#</a> 2. ES安装</h2> <blockquote><p>声明：JDK1.8 ，最低要求！ ElasticSearch 客户端，界面工具！</p> <p>Java开发，ElasticSearch 的版本和我们之后对应的 Java 的核心jar包！ 版本对应！JDK 环境是正常！</p></blockquote> <h3 id="_2-1-下载"><a href="#_2-1-下载" class="header-anchor">#</a> 2.1 下载</h3> <p><a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160313-571506.png" alt=""></p> <p><a href="https://www.elastic.co/downloads/elasticsearch" target="_blank" rel="noopener noreferrer">下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160318-715834.png" alt=""></p> <h3 id="_2-2-安装"><a href="#_2-2-安装" class="header-anchor">#</a> 2.2 安装</h3> <h4 id="_2-2-1-解压即可"><a href="#_2-2-1-解压即可" class="header-anchor">#</a> 2.2.1 解压即可</h4> <h4 id="_2-2-2-目录结构"><a href="#_2-2-2-目录结构" class="header-anchor">#</a> 2.2.2 目录结构</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160320-170395.png" alt=""></p> <blockquote><p>功能</p></blockquote> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">bin</span> <span class="token value attr-value">启动文件 </span>
<span class="token key attr-name">config</span> <span class="token value attr-value">配置文件 </span>
<span class="token key attr-name">	log4j2</span> <span class="token value attr-value">日志配置文件 </span>
<span class="token key attr-name">	jvm.options</span> <span class="token value attr-value">java 虚拟机相关的配置  配置ES内存参数 </span>
<span class="token key attr-name">	elasticsearch.yml</span> <span class="token value attr-value">elasticsearch 的配置文件！ 默认 9200 端口！ 跨域！ </span>
<span class="token key attr-name">lib</span> <span class="token value attr-value">相关jar包 </span>
<span class="token key attr-name">logs</span> <span class="token value attr-value">日志！ </span>
<span class="token key attr-name">modules</span> <span class="token value attr-value">功能模块 </span>
<span class="token key attr-name">plugins</span> <span class="token value attr-value">插件！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-2-3-启动"><a href="#_2-2-3-启动" class="header-anchor">#</a> 2.2.3 启动</h4> <p>双击 <code>bin</code> 目录下的 <code>elasticsearch.bat</code> 启动ES</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160324-722026.png" alt=""></p> <blockquote><p>使用Java版本,需要<code>Java11</code>,这里使用<code>Java8</code>.</p></blockquote> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160322-724639.png" alt=""></p> <blockquote><p>默认端口号: 9200</p> <p>通信端口号: 9300</p></blockquote> <h4 id="_2-2-4-访问"><a href="#_2-2-4-访问" class="header-anchor">#</a> 2.2.4 访问</h4> <p>地址 http://localhost:9200/</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160327-343123.png" alt=""></p> <h3 id="_2-3-安装可视化界面-es-head的插件"><a href="#_2-3-安装可视化界面-es-head的插件" class="header-anchor">#</a> 2.3 安装可视化界面 es head的插件</h3> <h4 id="_2-3-1-下载地址"><a href="#_2-3-1-下载地址" class="header-anchor">#</a> 2.3.1 <a href="https://github.com/mobz/elasticsearch-head/" target="_blank" rel="noopener noreferrer">下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p>此项目需要环境 <code>node.js</code> ,<code>npm</code></p> <h4 id="_2-3-2-启动"><a href="#_2-3-2-启动" class="header-anchor">#</a> 2.3.2 启动</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> 
<span class="token function">npm</span> run start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-3-3-连接测试"><a href="#_2-3-3-连接测试" class="header-anchor">#</a> 2.3.3 连接测试</h4> <p>访问 http://localhost:9100/</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160330-370119.png" alt=""></p> <p><strong>存在跨域问题</strong>：</p> <ul><li>配置es, 修改 <code>elasticsearch.yaml</code> 添加如下:</li></ul> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">http.cors.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> 
<span class="token key atrule">http.cors.allow-origin</span><span class="token punctuation">:</span> <span class="token string">&quot;*&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-3-4-重启es服务器-然后再次连接"><a href="#_2-3-4-重启es服务器-然后再次连接" class="header-anchor">#</a> 2.3.4 重启es服务器，然后再次连接</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160338-564498.png" alt=""></p> <blockquote><p>这个head我们就把它当做数据展示工具！我们后面所有的查询，使用<code>Kibana</code> ！</p></blockquote> <h3 id="_2-4-了解-elk"><a href="#_2-4-了解-elk" class="header-anchor">#</a> 2.4 了解 ELK</h3> <p><code>ELK</code>是<code>Elasticsearch、Logstash、Kibana</code>三大开源框架首字母大写简称。市面上也被成为Elastic Stack。</p> <ul><li><p>Elasticsearch是一个基于Lucene、分布式、通过Restful方式进行交互的近实时搜索平台框架。像类似百度、谷歌这种大数据全文搜索引擎的场景都可以使用Elasticsearch作为底层支持框架，可见Elasticsearch提供的搜索能力确实强大,市面上很多时候我们简称Elasticsearch为es。</p></li> <li><p>Logstash是ELK的中央数据流引擎，用于从不同目标（文件/数据存储/MQ）收集的不同格式数据，经过过滤后支持输出到不同目的地（文件/MQ/redis/elasticsearch/kafka等）。Kibana可以将elasticsearch的数据通过友好的页面展示出来，提供实时分析的功能。</p></li></ul> <h3 id="_2-5-kibana"><a href="#_2-5-kibana" class="header-anchor">#</a> 2.5 <a href="https://www.elastic.co/cn/kibana" target="_blank" rel="noopener noreferrer">Kibana<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <h4 id="_2-5-1-概述"><a href="#_2-5-1-概述" class="header-anchor">#</a> 2.5.1 概述</h4> <p>Kibana是一个<code>针对Elasticsearch的开源分析及可视化平台，用来搜索、查看交互存储在Elasticsearch索引中的数据</code>。使用Kibana，可以通过各种图表进行高级数据分析及展示。Kibana让海量数据更容易理解。它操作简单，基于浏览器的用户界面可以快速创建仪表板（dashboard）实时显Elasticsearch查询动态。设置Kibana非常简单。无需编码或者额外的基础架构，几分钟内就可以完成Kibana安装并启动Elasticsearch索引监测。</p> <h4 id="_2-5-2-下载"><a href="#_2-5-2-下载" class="header-anchor">#</a> 2.5.2 <a href="https://www.elastic.co/cn/kibana" target="_blank" rel="noopener noreferrer">下载<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160340-540068.png" alt=""></p> <blockquote><p>Kibana 版本要和 Es 一致！</p></blockquote> <h4 id="_2-5-3-解压目录"><a href="#_2-5-3-解压目录" class="header-anchor">#</a> 2.5.3 解压目录</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160342-579071.png" alt=""></p> <h4 id="_2-5-4-启动"><a href="#_2-5-4-启动" class="header-anchor">#</a> 2.5.4 启动</h4> <p>双击 <code>bin</code> 目录下 <code>kibana.bat</code></p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160345-996622.png" alt=""></p> <h4 id="_2-5-5-访问"><a href="#_2-5-5-访问" class="header-anchor">#</a> 2.5.5 访问</h4> <p>http://localhost:5601</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160347-752251.png" alt=""></p> <h4 id="_2-5-6-测试工具"><a href="#_2-5-6-测试工具" class="header-anchor">#</a> 2.5.6 测试工具</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/160349-776795.png" alt=""></p> <blockquote><p>开发工具！ （Post、curl、head、谷歌浏览器插件测试！）</p></blockquote> <h4 id="_2-5-7-汉化"><a href="#_2-5-7-汉化" class="header-anchor">#</a> 2.5.7 汉化</h4> <ul><li>在 <code>x-pack\plugins\translations\translations\zh-CN.json</code> 已有中文设置</li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;messages&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;common.ui.aggResponse.allDocsTitle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;所有文档&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;common.ui.aggResponse.fieldLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;字段&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;common.ui.aggResponse.valueLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;值&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;xpack.watcher.watchEdit.thresholdWatchExpression.aggType.fieldIsRequiredValidationMessage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;此字段必填。&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;xpack.watcher.watcherDescription&quot;</span><span class="token operator">:</span> <span class="token string">&quot;通过创建、管理和监测警报来检测数据中的更改。&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>修改 <code>config\kibana.yml</code></li></ul> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token comment"># Specifies locale to be used for all localizable strings, dates and number formats.</span>
<span class="token comment"># Supported languages are the following: English - en , by default , Chinese - zh-CN .</span>
<span class="token comment">#i18n.locale: &quot;en&quot;</span>
<span class="token key atrule">i18n.locale</span><span class="token punctuation">:</span> <span class="token string">&quot;zh-CN&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>访问</li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161859-96714.png" alt=""></p> <h2 id="_3-es核心概念"><a href="#_3-es核心概念" class="header-anchor">#</a> 3. ES核心概念</h2> <ol><li><p>索引</p></li> <li><p>字段类型（mapping）</p></li> <li><p>文档（documents）</p></li></ol> <blockquote><p>elasticsearch是<code>面向文档</code>，关系行数据库 和 elasticsearch 客观的对比！一切都是<code>JSON</code>！</p></blockquote> <h3 id="_3-1-关系行数据库-和-elasticsearch"><a href="#_3-1-关系行数据库-和-elasticsearch" class="header-anchor">#</a> 3.1 关系行数据库 和 elasticsearch</h3> <table><thead><tr><th><strong>Relational DB</strong> <code>[MySQL]</code></th> <th><strong>Elasticsearch</strong></th></tr></thead> <tbody><tr><td>数据库(database)</td> <td>索引(indices)</td></tr> <tr><td>表(tables)</td> <td>类型(types) <code>[会被弃用]</code></td></tr> <tr><td>行(rows)</td> <td>文档（documents）</td></tr> <tr><td>字段(columns)</td> <td>域(fields)</td></tr></tbody></table> <blockquote><p>elasticsearch(集群)中可以包含多个索引(数据库)，每个索引中可以包含多个类型(表)，每个类型下又包含多 个文档(行)，每个文档中又包含多个字段(列)。</p></blockquote> <h3 id="_3-2-逻辑设计"><a href="#_3-2-逻辑设计" class="header-anchor">#</a> 3.2 逻辑设计</h3> <p>elasticsearch 在后台把每个<code>索引划分成多个分片</code>，每分分片可以在集群中的不同服务器间迁移</p> <ul><li><code>一个elasticsearch 就是一个集群！默认的集群名称就是 elaticsearh</code></li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161902-895104.png" alt=""></p> <h3 id="_3-3-逻辑设计"><a href="#_3-3-逻辑设计" class="header-anchor">#</a> 3.3 逻辑设计</h3> <p><code>一个索引类型中，包含多个文档</code>，比如说文档1，文档2。 当我们索引一篇文档时，可以通过这样的一各顺序找到 它: 索引 ▷ 类型 ▷ 文档ID ，通过这个组合我们就能索引到某个具体的文档。 注意:ID不必是整数，实际上它是个字符串。</p> <h4 id="_3-3-1-文档"><a href="#_3-3-1-文档" class="header-anchor">#</a> 3.3.1 文档</h4> <blockquote><p>就是一条数据</p></blockquote> <p>就是我们的一条条数据</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">user</span> 

<span class="token key attr-name">1</span> <span class="token value attr-value">zhangsan 18 </span>

<span class="token key attr-name">2</span> <span class="token value attr-value">kuangshen 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>之前说elasticsearch是面向文档的，那么就意味着<code>索引和搜索数据的最小单位是 &quot;文档&quot;</code>，elasticsearch中，文档有几个 重要属性 :</p> <ul><li><p>自我包含，一篇文档同时包含字段和对应的值，也就是同时包含 key:value！</p></li> <li><p>可以是层次型的，一个文档中包含自文档，复杂的逻辑实体就是这么来的！ {就是一个json对象！fastjson进行自动转换！}</p></li> <li><p>灵活的结构，文档不依赖预先定义的模式，我们知道关系型数据库中，要提前定义字段才能使用，在elasticsearch中，对于字段是非常灵活的，有时候，我们可以忽略该字段，或者动态的添加一个新的字段。</p></li></ul> <p>尽管我们可以随意的新增或者忽略某个字段，但是，每个字段的类型非常重要，比如一个年龄字段类型，可以是字符 串也可以是整形。因elasticsearch会保存字段和类型之间的映射及其他的设置。这种映射具体到每个映射的每种类型，这也是为什么在elasticsearch中，类型有时候也称为<code>映射类型</code>。</p> <h4 id="_3-3-2-类型"><a href="#_3-3-2-类型" class="header-anchor">#</a> 3.3.2 类型</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161904-884130.png" alt=""></p> <p>类型是文档的逻辑容器，就像关系型数据库一样，表格是行的容器。 类型中对于字段的定义称为映射，比如 name 映 射为字符串类型。 我们说文档是无模式的，它们不需要拥有映射中所定义的所有字段，比如新增一个字段，那么elasticsearch是怎么做的呢?elasticsearch会自动的将新字段加入映射，但是这个字段的不确定它是什么类型，elasticsearch就开始猜，如果这个值是18，那么elasticsearch会认为它是整形。 但是elasticsearch也可能猜不对， 所以最安全的方式就是提前定义好所需要的映射，这点跟关系型数据库殊途同归了，先定义好字段，然后再使用，别整什么幺蛾子。</p> <h4 id="_3-3-3-索引"><a href="#_3-3-3-索引" class="header-anchor">#</a> 3.3.3 索引</h4> <blockquote><p>就是数据库！</p></blockquote> <p>索引是映射类型的容器，elasticsearch中的索引是一个非常大的文档集合。索引存储了映射类型的字段和其他设置。 然后它们被存储到了各个分片上了。</p> <h2 id="_4-ik分词器"><a href="#_4-ik分词器" class="header-anchor">#</a> 4. IK分词器</h2> <p>分词：即把一段中文或者别的划分成一个个的关键字，我们在搜索时候会把自己的信息进行分词，会把数据库中或者索引库中的数据进行分词，然后进行一个匹配操作，默认的中文分词是将每个字看成一个词</p> <blockquote><p>使用中文，建议使用ik分词器！</p> <p>IK提供了两个分词算法：<code>ik_smart</code> 和 <code>ik_max_word</code>，其中 <code>ik_smart</code> 为最少切分，<code>ik_max_word</code>为最细粒度划分！</p></blockquote> <h3 id="_4-1-下载"><a href="#_4-1-下载" class="header-anchor">#</a> 4.1 下载</h3> <p><a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noopener noreferrer">网址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_4-2-安装"><a href="#_4-2-安装" class="header-anchor">#</a> 4.2 安装</h3> <p>解压,放在 <code>ES</code> 中的 plugins 的 ik 目录下</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161906-958147.png" alt=""></p> <h3 id="_4-2-重启-访问"><a href="#_4-2-重启-访问" class="header-anchor">#</a> 4.2 重启,访问</h3> <ul><li>加载插件</li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161905-352859.png" alt=""></p> <ul><li>查看es的插件 <code>elasticsearch-plugin list</code></li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161908-538803.png" alt=""></p> <h3 id="_4-3-kibana测试"><a href="#_4-3-kibana测试" class="header-anchor">#</a> 4.3 Kibana测试</h3> <h4 id="_4-3-1-ik-smart分词"><a href="#_4-3-1-ik-smart分词" class="header-anchor">#</a> 4.3.1 ik_smart分词</h4> <p><code>ik_smart</code> 为最少切分</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161909-583819.png" alt=""></p> <h4 id="_4-3-2-ik-max-word分词"><a href="#_4-3-2-ik-max-word分词" class="header-anchor">#</a> 4.3.2 ik_max_word分词</h4> <p><code>ik_max_word</code>为最细粒度划分！</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>GET _analyze
<span class="token punctuation">{</span>
  <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;中华人民共和国&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>结果</li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;tokens&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;中华人民共和国&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;中华人民&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;中华&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;华人&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;人民共和国&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">4</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;人民&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;共和国&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">6</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;共和&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_WORD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">7</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;国&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;start_offset&quot;</span> <span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
      <span class="token property">&quot;end_offset&quot;</span> <span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;CN_CHAR&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;position&quot;</span> <span class="token operator">:</span> <span class="token number">8</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><h3 id="_4-4-自定义分词器的字典"><a href="#_4-4-自定义分词器的字典" class="header-anchor">#</a> 4.4 自定义分词器的字典</h3> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161912-463673.png" alt=""></p> <h4 id="问题"><a href="#问题" class="header-anchor">#</a> 问题:</h4> <p>当输入<code>我是晨光向</code>时没有我们想要的<code>晨光向</code>这个分词</p> <h4 id="解决"><a href="#解决" class="header-anchor">#</a> 解决</h4> <blockquote><p>ik 分词器增加自己的 !</p></blockquote> <p>在 <code>elasticsearch-7.6.1\plugins\ik\config</code> 下配置</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161913-916717.png" alt=""></p> <p>my.dic</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code>晨光向
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="重启"><a href="#重启" class="header-anchor">#</a> 重启</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161921-538014.png" alt=""></p> <h4 id="kibana结果"><a href="#kibana结果" class="header-anchor">#</a> Kibana结果</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161922-615470.png" alt=""></p> <blockquote><p>以后的话，我们需要自己配置 分词就在自己定义的dic文件中进行配置即可！</p></blockquote> <h2 id="_5-rest风格说明"><a href="#_5-rest风格说明" class="header-anchor">#</a> 5. Rest风格说明</h2> <p>一种<code>软件架构风格</code>，而<code>不是标准</code>，只是提供了一组设计原则和约束条件。它主要用于客户端和服务器交互类的软件。基于这个风格设计的软件可以更简洁，更有层次，更易于实现缓存等机制。</p> <table><thead><tr><th style="text-align:center;">method</th> <th style="text-align:left;">url地址</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:center;">PUT</td> <td style="text-align:left;">localhost:9200/索引名称/类型名称/文档id</td> <td>创建文档（指定文档id）</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:left;">localhost:9200/索引名称/类型名称</td> <td>创建文档（随机文档id）</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:left;">localhost:9200/索引名称/类型名称/文档id/<code>_update</code></td> <td>修改文档</td></tr> <tr><td style="text-align:center;">DELETE</td> <td style="text-align:left;">localhost:9200/索引名称/类型名称/文档id</td> <td>删除文档</td></tr> <tr><td style="text-align:center;">GET</td> <td style="text-align:left;">localhost:9200/索引名称/类型名称/文档id</td> <td>查询文档通过文档id</td></tr> <tr><td style="text-align:center;">POST</td> <td style="text-align:left;">localhost:9200/索引名称/类型名称/_search</td> <td>查询所有数据</td></tr></tbody></table> <h2 id="_6-索引的基本操作"><a href="#_6-索引的基本操作" class="header-anchor">#</a> 6. <strong>索引的基本操作</strong></h2> <h3 id="_6-1-类型"><a href="#_6-1-类型" class="header-anchor">#</a> 6.1 类型</h3> <ul><li><p>字符串类型</p> <p>text , keyword</p></li> <li><p>数值类型</p> <p>long, integer, short, byte, double, flfloat, half_flfloat, scaled_flfloat</p></li> <li><p>日期类型</p> <p>date</p></li> <li><p>布尔值类型</p> <p>boolean</p></li> <li><p>二进制</p> <p>binary</p></li> <li><p>...</p></li></ul> <h3 id="_6-2-创建一个索引"><a href="#_6-2-创建一个索引" class="header-anchor">#</a> 6.2 创建一个索引</h3> <h4 id="_6-2-1-无字段类型"><a href="#_6-2-1-无字段类型" class="header-anchor">#</a> 6.2.1 无字段类型</h4> <div class="language-json line-numbers-mode"><pre class="language-json"><code>PUT /索引名/类型名/文档id 
<span class="token punctuation">{</span>
    请求体
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161942-858202.png" alt=""></p> <p>head</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161939-362881.png" alt=""></p> <blockquote><p>es可以作为数据库操作.</p></blockquote> <h4 id="_6-3-2-设置字段类型"><a href="#_6-3-2-设置字段类型" class="header-anchor">#</a> 6.3.2 设置字段类型</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161939-187964.png" alt=""></p> <h3 id="_6-3-获取索引信息"><a href="#_6-3-获取索引信息" class="header-anchor">#</a> 6.3 获取索引信息</h3> <p>可以通过 <code>GET</code> 请求获取具体的信息！</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/2022/es028.png" alt="es028"></p> <h3 id="_6-4-查看默认的信息-另一种创建索引的方式"><a href="#_6-4-查看默认的信息-另一种创建索引的方式" class="header-anchor">#</a> 6.4  查看默认的信息(另一种创建索引的方式)</h3> <ul><li>创建索引 <code>test3</code></li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161945-892011.png" alt=""></p> <h4 id="获取信息"><a href="#获取信息" class="header-anchor">#</a> 获取信息</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161947-934510.png" alt=""></p> <blockquote><p><code>如果自己的文档字段没有指定，那么es 就会给我们默认配置字段类型！</code>推荐这种方式,.</p></blockquote> <h3 id="_6-5-修改索引"><a href="#_6-5-修改索引" class="header-anchor">#</a> 6.5 修改索引</h3> <p>修改,提交试用<code>PUT</code>方式覆盖,</p> <h4 id="_6-5-1-旧的方式-put"><a href="#_6-5-1-旧的方式-put" class="header-anchor">#</a> 6.5.1 旧的方式 	PUT</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161949-276338.png" alt=""></p> <h4 id="_6-5-2-新的方式-post"><a href="#_6-5-2-新的方式-post" class="header-anchor">#</a> 6.5.2 新的方式 POST</h4> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161952-411644.png" alt=""></p> <h3 id="_6-6-删除索引-delete"><a href="#_6-6-删除索引-delete" class="header-anchor">#</a> 6.6 删除索引 DELETE</h3> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/161957-472263.png" alt=""></p> <h3 id="_6-7-扩展"><a href="#_6-7-扩展" class="header-anchor">#</a> 6.7 扩展</h3> <p>通过 <code>GET _cat/</code>可以获取es的当前的很多信息</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code># 状态
GET _cat/health
# 版本信息
GET _cat/indices
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上边文档</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code># ik_smart
GET _analyze
<span class="token punctuation">{</span>
  <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_smart&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;中华人民共和国&quot;</span>
<span class="token punctuation">}</span>

# ik_max_word
GET _analyze
<span class="token punctuation">{</span>
  <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;我是晨光向&quot;</span>
<span class="token punctuation">}</span>

# 创建索引
PUT /test1/type1/<span class="token number">1</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;晨光向&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14&quot;</span>
<span class="token punctuation">}</span>

# 指定字段的类型
PUT /test2
<span class="token punctuation">{</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;long&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;birthday&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;date&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# 获取test2的信息
GET test2

# 创建索引 
# es7 启用 type类型 
# 这里使用 _doc 
PUT /test3/_doc/<span class="token number">1</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;晨光向&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;birthday&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1996-01-09&quot;</span>
<span class="token punctuation">}</span>

# 获取teset3信息
GET test3

# 扩展
# 状态
GET _cat/health
# 版本信息
GET _cat/indices


# 之前<span class="token operator">:</span> 修改test3
PUT /test3/_doc/<span class="token number">1</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;晨光向123&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;birthday&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1996-01-09&quot;</span>
<span class="token punctuation">}</span>

# 现在<span class="token operator">:</span> 修改test3
POST /test3/_doc/<span class="token number">1</span>/_update
<span class="token punctuation">{</span>
  <span class="token property">&quot;doc&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;我是谁&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

# 删除索引
DELETE test1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br></div></div><h2 id="_7-文档的基本操作"><a href="#_7-文档的基本操作" class="header-anchor">#</a> 7. 文档的基本操作</h2> <h2 id="_8-集成sringboot"><a href="#_8-集成sringboot" class="header-anchor">#</a> 8. 集成SringBoot</h2> <blockquote><p>SpringBoot版本2.2.5</p></blockquote> <h3 id="_1-官方文档"><a href="#_1-官方文档" class="header-anchor">#</a> 1. <a href="https://www.elastic.co/guide/index.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ul><li>第一步</li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162007-915241.png" alt=""></p> <ul><li>第二步</li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162017-745047.png" alt=""></p> <ul><li><a href="https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.x/index.html" target="_blank" rel="noopener noreferrer">第三步<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162019-686490.png" alt=""></p> <ul><li>第四部: <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.x/java-rest-low-usage-maven.html" target="_blank" rel="noopener noreferrer">原生依赖<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.elasticsearch.client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>elasticsearch-rest-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>7.6.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>配合版本</p></blockquote> <ul><li>第五步: <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-initialization.html" target="_blank" rel="noopener noreferrer">对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162021-475055.png" alt=""></p> <h3 id="_2-创建springboot项目"><a href="#_2-创建springboot项目" class="header-anchor">#</a> 2. 创建SpringBoot项目</h3> <h4 id="_2-1-依赖"><a href="#_2-1-依赖" class="header-anchor">#</a> 2.1 依赖</h4> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--elasticsearch依赖--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-elasticsearch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_2-2-问题"><a href="#_2-2-问题" class="header-anchor">#</a> 2.2. 问题</h4> <p><code>elasticsearch</code>版本问题: 版本与<code>es</code>不一致</p> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162023-320734.png" alt=""></p> <h5 id="解决-2"><a href="#解决-2" class="header-anchor">#</a> 解决</h5> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!--自定义elasticsearch版本 7.6.1 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elasticsearch.version</span><span class="token punctuation">&gt;</span></span>7.6.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elasticsearch.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162033-224706.png" alt=""></p> <blockquote><p>注意: 导入依赖版本一定要与安装的es版本一致.</p></blockquote> <h4 id="_2-3-提供的对象"><a href="#_2-3-提供的对象" class="header-anchor">#</a> 2.3 提供的对象</h4> <h5 id="spring-data下的默认对象"><a href="#spring-data下的默认对象" class="header-anchor">#</a> <code>spring data下的默认对象</code></h5> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162049-920443.png" alt=""></p> <h5 id="rest-对象"><a href="#rest-对象" class="header-anchor">#</a> <code>rest 对象</code></h5> <p><img src="https://chggx-typora.oss-cn-beijing.aliyuncs.com/typora/202010/02/162053-383232.png" alt=""></p> <p><code>核心配置</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * Elasticsearch rest client infrastructure configurations.
 *
 * @author Brian Clozel
 * @author Stephane Nicoll
 */</span>
<span class="token keyword">class</span> <span class="token class-name">RestClientConfigurations</span> <span class="token punctuation">{</span>

   <span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
   <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">RestClientBuilderConfiguration</span> <span class="token punctuation">{</span>

      <span class="token annotation punctuation">@Bean</span>
      <span class="token annotation punctuation">@ConditionalOnMissingBean</span>
      <span class="token class-name">RestClientBuilder</span> <span class="token function">elasticsearchRestClientBuilder</span><span class="token punctuation">(</span><span class="token class-name">RestClientProperties</span> properties<span class="token punctuation">,</span>
            <span class="token class-name">ObjectProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RestClientBuilderCustomizer</span><span class="token punctuation">&gt;</span></span> builderCustomizers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token class-name">HttpHost</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hosts <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getUris</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">HttpHost</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token class-name">HttpHost</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">RestClientBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>hosts<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token class-name">PropertyMapper</span> map <span class="token operator">=</span> <span class="token class-name">PropertyMapper</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         map<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>properties<span class="token operator">::</span><span class="token function">getUsername</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">whenHasText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">CredentialsProvider</span> credentialsProvider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BasicCredentialsProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Credentials</span> credentials <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordCredentials</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  properties<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            credentialsProvider<span class="token punctuation">.</span><span class="token function">setCredentials</span><span class="token punctuation">(</span><span class="token class-name">AuthScope</span><span class="token punctuation">.</span><span class="token constant">ANY</span><span class="token punctuation">,</span> credentials<span class="token punctuation">)</span><span class="token punctuation">;</span>
            builder<span class="token punctuation">.</span><span class="token function">setHttpClientConfigCallback</span><span class="token punctuation">(</span>
                  <span class="token punctuation">(</span>httpClientBuilder<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> httpClientBuilder<span class="token punctuation">.</span><span class="token function">setDefaultCredentialsProvider</span><span class="token punctuation">(</span>credentialsProvider<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         builder<span class="token punctuation">.</span><span class="token function">setRequestConfigCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>requestConfigBuilder<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            map<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>properties<span class="token operator">::</span><span class="token function">getConnectionTimeout</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">whenNonNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asInt</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token operator">::</span><span class="token function">toMillis</span><span class="token punctuation">)</span>
                  <span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span>requestConfigBuilder<span class="token operator">::</span><span class="token function">setConnectTimeout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>properties<span class="token operator">::</span><span class="token function">getReadTimeout</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">whenNonNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asInt</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token operator">::</span><span class="token function">toMillis</span><span class="token punctuation">)</span>
                  <span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span>requestConfigBuilder<span class="token operator">::</span><span class="token function">setSocketTimeout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> requestConfigBuilder<span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         builderCustomizers<span class="token punctuation">.</span><span class="token function">orderedStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>customizer<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> customizer<span class="token punctuation">.</span><span class="token function">customize</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> builder<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
   <span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token class-name">RestHighLevelClient</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
   <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">RestHighLevelClientConfiguration</span> <span class="token punctuation">{</span>
	<span class="token comment">// RestHighLevelClient 高级客户端，也是项目会用到的客户端</span>
      <span class="token annotation punctuation">@Bean</span>
      <span class="token annotation punctuation">@ConditionalOnMissingBean</span>
      <span class="token class-name">RestHighLevelClient</span> <span class="token function">elasticsearchRestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClientBuilder</span> restClientBuilder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>restClientBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Bean</span>
      <span class="token annotation punctuation">@ConditionalOnMissingBean</span>
      <span class="token class-name">RestClient</span> <span class="token function">elasticsearchRestClient</span><span class="token punctuation">(</span><span class="token class-name">RestClientBuilder</span> builder<span class="token punctuation">,</span>
            <span class="token class-name">ObjectProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RestHighLevelClient</span><span class="token punctuation">&gt;</span></span> restHighLevelClient<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> restHighLevelClient<span class="token punctuation">.</span><span class="token function">getIfUnique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>client <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">getLowLevelClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
   <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">RestClientFallbackConfiguration</span> <span class="token punctuation">{</span>
	<span class="token comment">// RestHighLevelClient 普通客户端</span>
      <span class="token annotation punctuation">@Bean</span>
      <span class="token annotation punctuation">@ConditionalOnMissingBean</span>
      <span class="token class-name">RestClient</span> <span class="token function">elasticsearchRestClient</span><span class="token punctuation">(</span><span class="token class-name">RestClientBuilder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

   <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><h3 id="_3-api使用"><a href="#_3-api使用" class="header-anchor">#</a> 3 API使用</h3> <ul><li>这里使用 <code>rest对象</code> 内容以 <code>JSON</code>格式展示</li></ul> <h4 id="_3-1-创建索引"><a href="#_3-1-创建索引" class="header-anchor">#</a> 3.1 创建索引</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ElasticsearchApiApplicationTests</span> <span class="token punctuation">{</span>

   <span class="token comment">/**
    * @Autowired: 根据类型匹配
    */</span>
   <span class="token annotation punctuation">@Autowired</span>
   <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;restHighLevelClient&quot;</span><span class="token punctuation">)</span>
   <span class="token keyword">private</span> <span class="token class-name">RestHighLevelClient</span> client<span class="token punctuation">;</span>

   <span class="token comment">/** 
    * 创建索引 Request CreateIndexRequest
    */</span>
   <span class="token annotation punctuation">@Test</span>
   <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1. 创建索引请求</span>
      <span class="token class-name">CreateIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;chggx_index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 2. 客户端执行请求</span>
      <span class="token class-name">CreateIndexResponse</span> createIndexResponse <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 3. 打印响应</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>createIndexResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="_3-2-获取索引"><a href="#_3-2-获取索引" class="header-anchor">#</a> 3.2 获取索引</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 获取索引 判断是否存在 GET GetIndexRequest
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testExistIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 获取索引请求</span>
    <span class="token class-name">GetIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;chggx_index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 判断是否存在</span>
    <span class="token keyword">boolean</span> exists <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 打印结果 true</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>exists<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_3-3-删除索引"><a href="#_3-3-删除索引" class="header-anchor">#</a> 3.3 删除索引</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 删除索引 DELETE DeleteIndexRequest
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testDeleteIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 获取删除请求</span>
    <span class="token class-name">DeleteIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeleteIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 删除索引</span>
    <span class="token class-name">AcknowledgedResponse</span> delete <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>delete<span class="token punctuation">.</span><span class="token function">isAcknowledged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_3-4-创建文档"><a href="#_3-4-创建文档" class="header-anchor">#</a> 3.4 创建文档</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 添加文档 IndexRequest
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testAddDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 创建对象</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;chggx&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 创建请求</span>
    <span class="token class-name">IndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;chggx_index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 规则 /put/chggx_index/_doc/1</span>
    request<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 超时 request.timeout(&quot;1s&quot;);</span>
    request<span class="token punctuation">.</span><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token class-name">TimeValue</span><span class="token punctuation">.</span><span class="token function">timeValueSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4. 将数据放入请求 JSON</span>
    request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 5. 客户端发送请求,获取响应结果</span>
    <span class="token class-name">IndexResponse</span> indexResponse <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// IndexResponse[index=chggx_index,type=_doc,id=1,version=1,result=created,seqNo=0,primaryTerm=1,shards={&quot;total&quot;:2,&quot;successful&quot;:1,&quot;failed&quot;:0}]</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>indexResponse<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// CREATED 第一次创建: CREATED 以后更新 UPDATE</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>indexResponse<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="_3-5-获取文档"><a href="#_3-5-获取文档" class="header-anchor">#</a> 3.5 获取文档</h4> <ol><li>判断是否存在</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 获取文档, 判断是否存在 GetRequest
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testIsExists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 创建获取请求</span>
    <span class="token class-name">GetRequest</span> getRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetRequest</span><span class="token punctuation">(</span><span class="token string">&quot;chggx_index&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 不获取返回的 _source 的上下文了</span>
    getRequest<span class="token punctuation">.</span><span class="token function">fetchSourceContext</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FetchSourceContext</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 排序</span>
    getRequest<span class="token punctuation">.</span><span class="token function">storedFields</span><span class="token punctuation">(</span><span class="token string">&quot;_none_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> exists <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>getRequest<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>exists<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="2"><li>获取文档信息</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 获取文档信息 GetRequest
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testGetDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 创建获取请求</span>
    <span class="token class-name">GetRequest</span> getRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetRequest</span><span class="token punctuation">(</span><span class="token string">&quot;chggx_index&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 获取文档信息</span>
    <span class="token class-name">GetResponse</span> getResponse <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>getRequest<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 打印文档内容 {&quot;age&quot;:12,&quot;name&quot;:&quot;chggx&quot;}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>getResponse<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_3-6-修改文档"><a href="#_3-6-修改文档" class="header-anchor">#</a> 3.6 修改文档</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 更新文档信息 UpdateRequest
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testUpdateDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 创建获取请求</span>
    <span class="token class-name">UpdateRequest</span> updateRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UpdateRequest</span><span class="token punctuation">(</span><span class="token string">&quot;chggx_index&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 更新内容表</span>
    updateRequest<span class="token punctuation">.</span><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token string">&quot;1s&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;My CHGGX&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 转换为 Json 数据</span>
    updateRequest<span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 获取文档信息 OK</span>
    <span class="token class-name">UpdateResponse</span> updateResponse <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>updateRequest<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4. 打印更新文档内容 OK</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>updateResponse<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_3-7-删除文档"><a href="#_3-7-删除文档" class="header-anchor">#</a> 3.7 删除文档</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 删除文档信息
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testDeleteDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 创建获取请求</span>
    <span class="token class-name">DeleteRequest</span> deleteRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeleteRequest</span><span class="token punctuation">(</span><span class="token string">&quot;test3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2 删除文档信息</span>
    <span class="token class-name">DeleteResponse</span> deleteResponse <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>deleteRequest<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 打印文档内容 OK</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>deleteResponse<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_3-8-批量添加"><a href="#_3-8-批量添加" class="header-anchor">#</a> 3.8  批量添加</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
     * 特殊的,批量插入数据 BulkRequest
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testBulkRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. 创建获取请求</span>
        <span class="token class-name">BulkRequest</span> bulkRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BulkRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. 设置数据</span>
        bulkRequest<span class="token punctuation">.</span><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token string">&quot;10s&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Java 1&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Java 2&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Java 3&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Java 4&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Java 5&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> userList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 批量添加</span>
            bulkRequest<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
                    <span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;chggx_bulk&quot;</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>userList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 3. 批量添加</span>
        <span class="token class-name">BulkResponse</span> bulkResponse <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">bulk</span><span class="token punctuation">(</span>bulkRequest<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. 打印文档内容 OK</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bulkResponse<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 是否失败 false: 代表成功</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bulkResponse<span class="token punctuation">.</span><span class="token function">hasFailures</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h4 id="_3-9-查询"><a href="#_3-9-查询" class="header-anchor">#</a> 3.9 查询</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">/**
     * 查询 SearchRequest
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testSearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. 创建获取请求</span>
        <span class="token class-name">SearchRequest</span> searchRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token string">&quot;chggx_bulk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. 构建搜索条件</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// QueryBuilders: 查询条件</span>
        <span class="token comment">// termQuery: 精确查询</span>
        <span class="token comment">// matchAllQuery: 匹配所有</span>
        <span class="token class-name">TermQueryBuilder</span> termQueryBuilder <span class="token operator">=</span> <span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">termQuery</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        MatchAllQueryBuilder matchAllQueryBuilder = QueryBuilders.matchAllQuery();</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>termQueryBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 查询超时时间</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimeValue</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        searchRequest<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. 搜索信息</span>
        <span class="token class-name">SearchResponse</span> searchResponse <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>searchRequest<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. 打印文档内容 OK</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>searchResponse<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;============================================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> documentFields <span class="token operator">:</span> searchResponse<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>documentFields<span class="token punctuation">.</span><span class="token function">getSourceAsMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="_9-爬虫"><a href="#_9-爬虫" class="header-anchor">#</a> 9. 爬虫</h2></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/02/27, 17:13:48</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/chggx-knowlodge-vuepress/pages/255a13/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Redis的配置文件详解</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/chggx-knowlodge-vuepress/pages/255a13/" class="prev">Redis的配置文件详解</a></span> <!----></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:1348088236@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/ABirdFree" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>晨光向 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/chggx-knowlodge-vuepress/assets/js/app.c86428f6.js" defer></script><script src="/chggx-knowlodge-vuepress/assets/js/2.796b80a3.js" defer></script><script src="/chggx-knowlodge-vuepress/assets/js/70.24d79987.js" defer></script>
  </body>
</html>
